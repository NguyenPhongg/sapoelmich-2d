var gx=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ac=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var L=(e,t,r)=>(ac(e,t,"read from private field"),r?r.call(e):t.get(e)),be=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},fe=(e,t,r,n)=>(ac(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var Xs=(e,t,r,n)=>({set _(o){fe(e,t,o,r)},get _(){return L(e,t,n)}}),Ae=(e,t,r)=>(ac(e,t,"access private method"),r);var j8=gx((Yt,Gt)=>{function Jm(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const p=Object.getOwnPropertyDescriptor(n,o);p&&Object.defineProperty(e,o,p.get?p:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const p of o)if(p.type==="childList")for(const y of p.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&n(y)}).observe(document,{childList:!0,subtree:!0});function r(o){const p={};return o.integrity&&(p.integrity=o.integrity),o.referrerPolicy&&(p.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?p.credentials="include":o.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function n(o){if(o.ep)return;o.ep=!0;const p=r(o);fetch(o.href,p)}})();var Ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Zm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var e0={exports:{}},mu={},t0={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ss=Symbol.for("react.element"),vx=Symbol.for("react.portal"),mx=Symbol.for("react.fragment"),yx=Symbol.for("react.strict_mode"),bx=Symbol.for("react.profiler"),xx=Symbol.for("react.provider"),wx=Symbol.for("react.context"),_x=Symbol.for("react.forward_ref"),Sx=Symbol.for("react.suspense"),Cx=Symbol.for("react.memo"),Tx=Symbol.for("react.lazy"),yp=Symbol.iterator;function Ex(e){return e===null||typeof e!="object"?null:(e=yp&&e[yp]||e["@@iterator"],typeof e=="function"?e:null)}var r0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n0=Object.assign,i0={};function Ua(e,t,r){this.props=e,this.context=t,this.refs=i0,this.updater=r||r0}Ua.prototype.isReactComponent={};Ua.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ua.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function a0(){}a0.prototype=Ua.prototype;function Sf(e,t,r){this.props=e,this.context=t,this.refs=i0,this.updater=r||r0}var Cf=Sf.prototype=new a0;Cf.constructor=Sf;n0(Cf,Ua.prototype);Cf.isPureReactComponent=!0;var bp=Array.isArray,o0=Object.prototype.hasOwnProperty,Tf={current:null},s0={key:!0,ref:!0,__self:!0,__source:!0};function l0(e,t,r){var n,o={},p=null,y=null;if(t!=null)for(n in t.ref!==void 0&&(y=t.ref),t.key!==void 0&&(p=""+t.key),t)o0.call(t,n)&&!s0.hasOwnProperty(n)&&(o[n]=t[n]);var u=arguments.length-2;if(u===1)o.children=r;else if(1<u){for(var i=Array(u),h=0;h<u;h++)i[h]=arguments[h+2];o.children=i}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)o[n]===void 0&&(o[n]=u[n]);return{$$typeof:Ss,type:e,key:p,ref:y,props:o,_owner:Tf.current}}function Ox(e,t){return{$$typeof:Ss,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ef(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ss}function Px(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xp=/\/+/g;function oc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Px(""+e.key):t.toString(36)}function ml(e,t,r,n,o){var p=typeof e;(p==="undefined"||p==="boolean")&&(e=null);var y=!1;if(e===null)y=!0;else switch(p){case"string":case"number":y=!0;break;case"object":switch(e.$$typeof){case Ss:case vx:y=!0}}if(y)return y=e,o=o(y),e=n===""?"."+oc(y,0):n,bp(o)?(r="",e!=null&&(r=e.replace(xp,"$&/")+"/"),ml(o,t,r,"",function(h){return h})):o!=null&&(Ef(o)&&(o=Ox(o,r+(!o.key||y&&y.key===o.key?"":(""+o.key).replace(xp,"$&/")+"/")+e)),t.push(o)),1;if(y=0,n=n===""?".":n+":",bp(e))for(var u=0;u<e.length;u++){p=e[u];var i=n+oc(p,u);y+=ml(p,t,r,i,o)}else if(i=Ex(e),typeof i=="function")for(e=i.call(e),u=0;!(p=e.next()).done;)p=p.value,i=n+oc(p,u++),y+=ml(p,t,r,i,o);else if(p==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return y}function Gs(e,t,r){if(e==null)return e;var n=[],o=0;return ml(e,n,"","",function(p){return t.call(r,p,o++)}),n}function kx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kt={current:null},yl={transition:null},Ax={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:yl,ReactCurrentOwner:Tf};Me.Children={map:Gs,forEach:function(e,t,r){Gs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gs(e,function(){t++}),t},toArray:function(e){return Gs(e,function(t){return t})||[]},only:function(e){if(!Ef(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Component=Ua;Me.Fragment=mx;Me.Profiler=bx;Me.PureComponent=Sf;Me.StrictMode=yx;Me.Suspense=Sx;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ax;Me.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=n0({},e.props),o=e.key,p=e.ref,y=e._owner;if(t!=null){if(t.ref!==void 0&&(p=t.ref,y=Tf.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(i in t)o0.call(t,i)&&!s0.hasOwnProperty(i)&&(n[i]=t[i]===void 0&&u!==void 0?u[i]:t[i])}var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){u=Array(i);for(var h=0;h<i;h++)u[h]=arguments[h+2];n.children=u}return{$$typeof:Ss,type:e.type,key:o,ref:p,props:n,_owner:y}};Me.createContext=function(e){return e={$$typeof:wx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xx,_context:e},e.Consumer=e};Me.createElement=l0;Me.createFactory=function(e){var t=l0.bind(null,e);return t.type=e,t};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:_x,render:e}};Me.isValidElement=Ef;Me.lazy=function(e){return{$$typeof:Tx,_payload:{_status:-1,_result:e},_init:kx}};Me.memo=function(e,t){return{$$typeof:Cx,type:e,compare:t===void 0?null:t}};Me.startTransition=function(e){var t=yl.transition;yl.transition={};try{e()}finally{yl.transition=t}};Me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Me.useCallback=function(e,t){return kt.current.useCallback(e,t)};Me.useContext=function(e){return kt.current.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e){return kt.current.useDeferredValue(e)};Me.useEffect=function(e,t){return kt.current.useEffect(e,t)};Me.useId=function(){return kt.current.useId()};Me.useImperativeHandle=function(e,t,r){return kt.current.useImperativeHandle(e,t,r)};Me.useInsertionEffect=function(e,t){return kt.current.useInsertionEffect(e,t)};Me.useLayoutEffect=function(e,t){return kt.current.useLayoutEffect(e,t)};Me.useMemo=function(e,t){return kt.current.useMemo(e,t)};Me.useReducer=function(e,t,r){return kt.current.useReducer(e,t,r)};Me.useRef=function(e){return kt.current.useRef(e)};Me.useState=function(e){return kt.current.useState(e)};Me.useSyncExternalStore=function(e,t,r){return kt.current.useSyncExternalStore(e,t,r)};Me.useTransition=function(){return kt.current.useTransition()};Me.version="18.2.0";t0.exports=Me;var B=t0.exports;const O=_s(B),Mx=Jm({__proto__:null,default:O},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx=B,Dx=Symbol.for("react.element"),Fx=Symbol.for("react.fragment"),Lx=Object.prototype.hasOwnProperty,jx=Rx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ix={key:!0,ref:!0,__self:!0,__source:!0};function u0(e,t,r){var n,o={},p=null,y=null;r!==void 0&&(p=""+r),t.key!==void 0&&(p=""+t.key),t.ref!==void 0&&(y=t.ref);for(n in t)Lx.call(t,n)&&!Ix.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:Dx,type:e,key:p,ref:y,props:o,_owner:jx.current}}mu.Fragment=Fx;mu.jsx=u0;mu.jsxs=u0;e0.exports=mu;var F=e0.exports,Kc={},c0={exports:{}},Qt={},h0={exports:{}},f0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,C){var P=Y.length;Y.push(C);e:for(;0<P;){var A=P-1>>>1,M=Y[A];if(0<o(M,C))Y[A]=C,Y[P]=M,P=A;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var C=Y[0],P=Y.pop();if(P!==C){Y[0]=P;e:for(var A=0,M=Y.length,H=M>>>1;A<H;){var k=2*(A+1)-1,T=Y[k],D=k+1,j=Y[D];if(0>o(T,P))D<M&&0>o(j,T)?(Y[A]=j,Y[D]=P,A=D):(Y[A]=T,Y[k]=P,A=k);else if(D<M&&0>o(j,P))Y[A]=j,Y[D]=P,A=D;else break e}}return C}function o(Y,C){var P=Y.sortIndex-C.sortIndex;return P!==0?P:Y.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;e.unstable_now=function(){return p.now()}}else{var y=Date,u=y.now();e.unstable_now=function(){return y.now()-u}}var i=[],h=[],d=1,a=null,l=3,s=!1,f=!1,v=!1,c=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(Y){for(var C=r(h);C!==null;){if(C.callback===null)n(h);else if(C.startTime<=Y)n(h),C.sortIndex=C.expirationTime,t(i,C);else break;C=r(h)}}function x(Y){if(v=!1,b(Y),!f)if(r(i)!==null)f=!0,de(w);else{var C=r(h);C!==null&&le(x,C.startTime-Y)}}function w(Y,C){f=!1,v&&(v=!1,g(E),E=-1),s=!0;var P=l;try{for(b(C),a=r(i);a!==null&&(!(a.expirationTime>C)||Y&&!K());){var A=a.callback;if(typeof A=="function"){a.callback=null,l=a.priorityLevel;var M=A(a.expirationTime<=C);C=e.unstable_now(),typeof M=="function"?a.callback=M:a===r(i)&&n(i),b(C)}else n(i);a=r(i)}if(a!==null)var H=!0;else{var k=r(h);k!==null&&le(x,k.startTime-C),H=!1}return H}finally{a=null,l=P,s=!1}}var _=!1,S=null,E=-1,R=5,N=-1;function K(){return!(e.unstable_now()-N<R)}function re(){if(S!==null){var Y=e.unstable_now();N=Y;var C=!0;try{C=S(!0,Y)}finally{C?ie():(_=!1,S=null)}}else _=!1}var ie;if(typeof m=="function")ie=function(){m(re)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,oe=ne.port2;ne.port1.onmessage=re,ie=function(){oe.postMessage(null)}}else ie=function(){c(re,0)};function de(Y){S=Y,_||(_=!0,ie())}function le(Y,C){E=c(function(){Y(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){f||s||(f=!0,de(w))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return l},e.unstable_getFirstCallbackNode=function(){return r(i)},e.unstable_next=function(Y){switch(l){case 1:case 2:case 3:var C=3;break;default:C=l}var P=l;l=C;try{return Y()}finally{l=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,C){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var P=l;l=Y;try{return C()}finally{l=P}},e.unstable_scheduleCallback=function(Y,C,P){var A=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?A+P:A):P=A,Y){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=P+M,Y={id:d++,callback:C,priorityLevel:Y,startTime:P,expirationTime:M,sortIndex:-1},P>A?(Y.sortIndex=P,t(h,Y),r(i)===null&&Y===r(h)&&(v?(g(E),E=-1):v=!0,le(x,P-A))):(Y.sortIndex=M,t(i,Y),f||s||(f=!0,de(w))),Y},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(Y){var C=l;return function(){var P=l;l=C;try{return Y.apply(this,arguments)}finally{l=P}}}})(f0);h0.exports=f0;var $x=h0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0=B,Kt=$x;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p0=new Set,zo={};function bi(e,t){Fa(e,t),Fa(e+"Capture",t)}function Fa(e,t){for(zo[e]=t,e=0;e<t.length;e++)p0.add(t[e])}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qc=Object.prototype.hasOwnProperty,Nx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wp={},_p={};function Bx(e){return qc.call(_p,e)?!0:qc.call(wp,e)?!1:Nx.test(e)?_p[e]=!0:(wp[e]=!0,!1)}function Hx(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zx(e,t,r,n){if(t===null||typeof t>"u"||Hx(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function At(e,t,r,n,o,p,y){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=p,this.removeEmptyString=y}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wt[e]=new At(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wt[t]=new At(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wt[e]=new At(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wt[e]=new At(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wt[e]=new At(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wt[e]=new At(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wt[e]=new At(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wt[e]=new At(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wt[e]=new At(e,5,!1,e.toLowerCase(),null,!1,!1)});var Of=/[\-:]([a-z])/g;function Pf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Of,Pf);wt[t]=new At(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Of,Pf);wt[t]=new At(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Of,Pf);wt[t]=new At(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wt[e]=new At(e,1,!1,e.toLowerCase(),null,!1,!1)});wt.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wt[e]=new At(e,1,!1,e.toLowerCase(),null,!0,!0)});function kf(e,t,r,n){var o=wt.hasOwnProperty(t)?wt[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zx(t,r,o,n)&&(r=null),n||o===null?Bx(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var en=d0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vs=Symbol.for("react.element"),Qi=Symbol.for("react.portal"),Ji=Symbol.for("react.fragment"),Af=Symbol.for("react.strict_mode"),Qc=Symbol.for("react.profiler"),g0=Symbol.for("react.provider"),v0=Symbol.for("react.context"),Mf=Symbol.for("react.forward_ref"),Jc=Symbol.for("react.suspense"),Zc=Symbol.for("react.suspense_list"),Rf=Symbol.for("react.memo"),cn=Symbol.for("react.lazy"),m0=Symbol.for("react.offscreen"),Sp=Symbol.iterator;function ao(e){return e===null||typeof e!="object"?null:(e=Sp&&e[Sp]||e["@@iterator"],typeof e=="function"?e:null)}var et=Object.assign,sc;function So(e){if(sc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);sc=t&&t[1]||""}return`
`+sc+e}var lc=!1;function uc(e,t){if(!e||lc)return"";lc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var n=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){n=h}e.call(t.prototype)}else{try{throw Error()}catch(h){n=h}e()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var o=h.stack.split(`
`),p=n.stack.split(`
`),y=o.length-1,u=p.length-1;1<=y&&0<=u&&o[y]!==p[u];)u--;for(;1<=y&&0<=u;y--,u--)if(o[y]!==p[u]){if(y!==1||u!==1)do if(y--,u--,0>u||o[y]!==p[u]){var i=`
`+o[y].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}while(1<=y&&0<=u);break}}}finally{lc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?So(e):""}function Ux(e){switch(e.tag){case 5:return So(e.type);case 16:return So("Lazy");case 13:return So("Suspense");case 19:return So("SuspenseList");case 0:case 2:case 15:return e=uc(e.type,!1),e;case 11:return e=uc(e.type.render,!1),e;case 1:return e=uc(e.type,!0),e;default:return""}}function eh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ji:return"Fragment";case Qi:return"Portal";case Qc:return"Profiler";case Af:return"StrictMode";case Jc:return"Suspense";case Zc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case v0:return(e.displayName||"Context")+".Consumer";case g0:return(e._context.displayName||"Context")+".Provider";case Mf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rf:return t=e.displayName||null,t!==null?t:eh(e.type)||"Memo";case cn:t=e._payload,e=e._init;try{return eh(e(t))}catch{}}return null}function Wx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eh(t);case 8:return t===Af?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function y0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xx(e){var t=y0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,p=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(y){n=""+y,p.call(this,y)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ks(e){e._valueTracker||(e._valueTracker=Xx(e))}function b0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=y0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function th(e,t){var r=t.checked;return et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Cp(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Dn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function x0(e,t){t=t.checked,t!=null&&kf(e,"checked",t,!1)}function rh(e,t){x0(e,t);var r=Dn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nh(e,t.type,r):t.hasOwnProperty("defaultValue")&&nh(e,t.type,Dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Tp(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function nh(e,t,r){(t!=="number"||Ml(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Co=Array.isArray;function fa(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Dn(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ih(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ep(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ae(92));if(Co(r)){if(1<r.length)throw Error(ae(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Dn(r)}}function w0(e,t){var r=Dn(t.value),n=Dn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Op(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ah(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qs,S0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qs=qs||document.createElement("div"),qs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Uo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Mo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yx=["Webkit","ms","Moz","O"];Object.keys(Mo).forEach(function(e){Yx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mo[t]=Mo[e]})});function C0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Mo.hasOwnProperty(e)&&Mo[e]?(""+t).trim():t+"px"}function T0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=C0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var Gx=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oh(e,t){if(t){if(Gx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function sh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lh=null;function Df(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uh=null,da=null,pa=null;function Pp(e){if(e=Es(e)){if(typeof uh!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=_u(t),uh(e.stateNode,e.type,t))}}function E0(e){da?pa?pa.push(e):pa=[e]:da=e}function O0(){if(da){var e=da,t=pa;if(pa=da=null,Pp(e),t)for(e=0;e<t.length;e++)Pp(t[e])}}function P0(e,t){return e(t)}function k0(){}var cc=!1;function A0(e,t,r){if(cc)return e(t,r);cc=!0;try{return P0(e,t,r)}finally{cc=!1,(da!==null||pa!==null)&&(k0(),O0())}}function Wo(e,t){var r=e.stateNode;if(r===null)return null;var n=_u(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ae(231,t,typeof r));return r}var ch=!1;if(Kr)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){ch=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{ch=!1}function Vx(e,t,r,n,o,p,y,u,i){var h=Array.prototype.slice.call(arguments,3);try{t.apply(r,h)}catch(d){this.onError(d)}}var Ro=!1,Rl=null,Dl=!1,hh=null,Kx={onError:function(e){Ro=!0,Rl=e}};function qx(e,t,r,n,o,p,y,u,i){Ro=!1,Rl=null,Vx.apply(Kx,arguments)}function Qx(e,t,r,n,o,p,y,u,i){if(qx.apply(this,arguments),Ro){if(Ro){var h=Rl;Ro=!1,Rl=null}else throw Error(ae(198));Dl||(Dl=!0,hh=h)}}function xi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function M0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kp(e){if(xi(e)!==e)throw Error(ae(188))}function Jx(e){var t=e.alternate;if(!t){if(t=xi(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var p=o.alternate;if(p===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===p.child){for(p=o.child;p;){if(p===r)return kp(o),e;if(p===n)return kp(o),t;p=p.sibling}throw Error(ae(188))}if(r.return!==n.return)r=o,n=p;else{for(var y=!1,u=o.child;u;){if(u===r){y=!0,r=o,n=p;break}if(u===n){y=!0,n=o,r=p;break}u=u.sibling}if(!y){for(u=p.child;u;){if(u===r){y=!0,r=p,n=o;break}if(u===n){y=!0,n=p,r=o;break}u=u.sibling}if(!y)throw Error(ae(189))}}if(r.alternate!==n)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?e:t}function R0(e){return e=Jx(e),e!==null?D0(e):null}function D0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=D0(e);if(t!==null)return t;e=e.sibling}return null}var F0=Kt.unstable_scheduleCallback,Ap=Kt.unstable_cancelCallback,Zx=Kt.unstable_shouldYield,ew=Kt.unstable_requestPaint,at=Kt.unstable_now,tw=Kt.unstable_getCurrentPriorityLevel,Ff=Kt.unstable_ImmediatePriority,L0=Kt.unstable_UserBlockingPriority,Fl=Kt.unstable_NormalPriority,rw=Kt.unstable_LowPriority,j0=Kt.unstable_IdlePriority,yu=null,jr=null;function nw(e){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(yu,e,void 0,(e.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:ow,iw=Math.log,aw=Math.LN2;function ow(e){return e>>>=0,e===0?32:31-(iw(e)/aw|0)|0}var Qs=64,Js=4194304;function To(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ll(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,p=e.pingedLanes,y=r&268435455;if(y!==0){var u=y&~o;u!==0?n=To(u):(p&=y,p!==0&&(n=To(p)))}else y=r&~o,y!==0?n=To(y):p!==0&&(n=To(p));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,p=t&-t,o>=p||o===16&&(p&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wr(t),o=1<<r,n|=e[r],t&=~o;return n}function sw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lw(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,p=e.pendingLanes;0<p;){var y=31-wr(p),u=1<<y,i=o[y];i===-1?(!(u&r)||u&n)&&(o[y]=sw(u,t)):i<=t&&(e.expiredLanes|=u),p&=~u}}function fh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function I0(){var e=Qs;return Qs<<=1,!(Qs&4194240)&&(Qs=64),e}function hc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Cs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wr(t),e[t]=r}function uw(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-wr(r),p=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~p}}function Lf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wr(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var Ie=0;function $0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var N0,jf,B0,H0,z0,dh=!1,Zs=[],Cn=null,Tn=null,En=null,Xo=new Map,Yo=new Map,fn=[],cw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mp(e,t){switch(e){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Xo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(t.pointerId)}}function so(e,t,r,n,o,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:p,targetContainers:[o]},t!==null&&(t=Es(t),t!==null&&jf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function hw(e,t,r,n,o){switch(t){case"focusin":return Cn=so(Cn,e,t,r,n,o),!0;case"dragenter":return Tn=so(Tn,e,t,r,n,o),!0;case"mouseover":return En=so(En,e,t,r,n,o),!0;case"pointerover":var p=o.pointerId;return Xo.set(p,so(Xo.get(p)||null,e,t,r,n,o)),!0;case"gotpointercapture":return p=o.pointerId,Yo.set(p,so(Yo.get(p)||null,e,t,r,n,o)),!0}return!1}function U0(e){var t=qn(e.target);if(t!==null){var r=xi(t);if(r!==null){if(t=r.tag,t===13){if(t=M0(r),t!==null){e.blockedOn=t,z0(e.priority,function(){B0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ph(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);lh=n,r.target.dispatchEvent(n),lh=null}else return t=Es(r),t!==null&&jf(t),e.blockedOn=r,!1;t.shift()}return!0}function Rp(e,t,r){bl(e)&&r.delete(t)}function fw(){dh=!1,Cn!==null&&bl(Cn)&&(Cn=null),Tn!==null&&bl(Tn)&&(Tn=null),En!==null&&bl(En)&&(En=null),Xo.forEach(Rp),Yo.forEach(Rp)}function lo(e,t){e.blockedOn===t&&(e.blockedOn=null,dh||(dh=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,fw)))}function Go(e){function t(o){return lo(o,e)}if(0<Zs.length){lo(Zs[0],e);for(var r=1;r<Zs.length;r++){var n=Zs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Cn!==null&&lo(Cn,e),Tn!==null&&lo(Tn,e),En!==null&&lo(En,e),Xo.forEach(t),Yo.forEach(t),r=0;r<fn.length;r++)n=fn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<fn.length&&(r=fn[0],r.blockedOn===null);)U0(r),r.blockedOn===null&&fn.shift()}var ga=en.ReactCurrentBatchConfig,jl=!0;function dw(e,t,r,n){var o=Ie,p=ga.transition;ga.transition=null;try{Ie=1,If(e,t,r,n)}finally{Ie=o,ga.transition=p}}function pw(e,t,r,n){var o=Ie,p=ga.transition;ga.transition=null;try{Ie=4,If(e,t,r,n)}finally{Ie=o,ga.transition=p}}function If(e,t,r,n){if(jl){var o=ph(e,t,r,n);if(o===null)wc(e,t,n,Il,r),Mp(e,n);else if(hw(o,e,t,r,n))n.stopPropagation();else if(Mp(e,n),t&4&&-1<cw.indexOf(e)){for(;o!==null;){var p=Es(o);if(p!==null&&N0(p),p=ph(e,t,r,n),p===null&&wc(e,t,n,Il,r),p===o)break;o=p}o!==null&&n.stopPropagation()}else wc(e,t,n,null,r)}}var Il=null;function ph(e,t,r,n){if(Il=null,e=Df(n),e=qn(e),e!==null)if(t=xi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=M0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Il=e,null}function W0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tw()){case Ff:return 1;case L0:return 4;case Fl:case rw:return 16;case j0:return 536870912;default:return 16}default:return 16}}var wn=null,$f=null,xl=null;function X0(){if(xl)return xl;var e,t=$f,r=t.length,n,o="value"in wn?wn.value:wn.textContent,p=o.length;for(e=0;e<r&&t[e]===o[e];e++);var y=r-e;for(n=1;n<=y&&t[r-n]===o[p-n];n++);return xl=o.slice(e,1<n?1-n:void 0)}function wl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function el(){return!0}function Dp(){return!1}function Jt(e){function t(r,n,o,p,y){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(p):p[u]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?el:Dp,this.isPropagationStopped=Dp,this}return et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),t}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nf=Jt(Wa),Ts=et({},Wa,{view:0,detail:0}),gw=Jt(Ts),fc,dc,uo,bu=et({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==uo&&(uo&&e.type==="mousemove"?(fc=e.screenX-uo.screenX,dc=e.screenY-uo.screenY):dc=fc=0,uo=e),fc)},movementY:function(e){return"movementY"in e?e.movementY:dc}}),Fp=Jt(bu),vw=et({},bu,{dataTransfer:0}),mw=Jt(vw),yw=et({},Ts,{relatedTarget:0}),pc=Jt(yw),bw=et({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),xw=Jt(bw),ww=et({},Wa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_w=Jt(ww),Sw=et({},Wa,{data:0}),Lp=Jt(Sw),Cw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ew={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ow(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ew[e])?!!t[e]:!1}function Bf(){return Ow}var Pw=et({},Ts,{key:function(e){if(e.key){var t=Cw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bf,charCode:function(e){return e.type==="keypress"?wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kw=Jt(Pw),Aw=et({},bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jp=Jt(Aw),Mw=et({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bf}),Rw=Jt(Mw),Dw=et({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fw=Jt(Dw),Lw=et({},bu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jw=Jt(Lw),Iw=[9,13,27,32],Hf=Kr&&"CompositionEvent"in window,Do=null;Kr&&"documentMode"in document&&(Do=document.documentMode);var $w=Kr&&"TextEvent"in window&&!Do,Y0=Kr&&(!Hf||Do&&8<Do&&11>=Do),Ip=" ",$p=!1;function G0(e,t){switch(e){case"keyup":return Iw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zi=!1;function Nw(e,t){switch(e){case"compositionend":return V0(t);case"keypress":return t.which!==32?null:($p=!0,Ip);case"textInput":return e=t.data,e===Ip&&$p?null:e;default:return null}}function Bw(e,t){if(Zi)return e==="compositionend"||!Hf&&G0(e,t)?(e=X0(),xl=$f=wn=null,Zi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Y0&&t.locale!=="ko"?null:t.data;default:return null}}var Hw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Np(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hw[e.type]:t==="textarea"}function K0(e,t,r,n){E0(n),t=$l(t,"onChange"),0<t.length&&(r=new Nf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Fo=null,Vo=null;function zw(e){oy(e,0)}function xu(e){var t=ra(e);if(b0(t))return e}function Uw(e,t){if(e==="change")return t}var q0=!1;if(Kr){var gc;if(Kr){var vc="oninput"in document;if(!vc){var Bp=document.createElement("div");Bp.setAttribute("oninput","return;"),vc=typeof Bp.oninput=="function"}gc=vc}else gc=!1;q0=gc&&(!document.documentMode||9<document.documentMode)}function Hp(){Fo&&(Fo.detachEvent("onpropertychange",Q0),Vo=Fo=null)}function Q0(e){if(e.propertyName==="value"&&xu(Vo)){var t=[];K0(t,Vo,e,Df(e)),A0(zw,t)}}function Ww(e,t,r){e==="focusin"?(Hp(),Fo=t,Vo=r,Fo.attachEvent("onpropertychange",Q0)):e==="focusout"&&Hp()}function Xw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xu(Vo)}function Yw(e,t){if(e==="click")return xu(t)}function Gw(e,t){if(e==="input"||e==="change")return xu(t)}function Vw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sr=typeof Object.is=="function"?Object.is:Vw;function Ko(e,t){if(Sr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!qc.call(t,o)||!Sr(e[o],t[o]))return!1}return!0}function zp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Up(e,t){var r=zp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zp(r)}}function J0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?J0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Z0(){for(var e=window,t=Ml();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ml(e.document)}return t}function zf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Kw(e){var t=Z0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&J0(r.ownerDocument.documentElement,r)){if(n!==null&&zf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,p=Math.min(n.start,o);n=n.end===void 0?p:Math.min(n.end,o),!e.extend&&p>n&&(o=n,n=p,p=o),o=Up(r,p);var y=Up(r,n);o&&y&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),p>n?(e.addRange(t),e.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qw=Kr&&"documentMode"in document&&11>=document.documentMode,ea=null,gh=null,Lo=null,vh=!1;function Wp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vh||ea==null||ea!==Ml(n)||(n=ea,"selectionStart"in n&&zf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Lo&&Ko(Lo,n)||(Lo=n,n=$l(gh,"onSelect"),0<n.length&&(t=new Nf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ea)))}function tl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ta={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionend:tl("Transition","TransitionEnd")},mc={},ey={};Kr&&(ey=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function wu(e){if(mc[e])return mc[e];if(!ta[e])return e;var t=ta[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ey)return mc[e]=t[r];return e}var ty=wu("animationend"),ry=wu("animationiteration"),ny=wu("animationstart"),iy=wu("transitionend"),ay=new Map,Xp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(e,t){ay.set(e,t),bi(t,[e])}for(var yc=0;yc<Xp.length;yc++){var bc=Xp[yc],Qw=bc.toLowerCase(),Jw=bc[0].toUpperCase()+bc.slice(1);Nn(Qw,"on"+Jw)}Nn(ty,"onAnimationEnd");Nn(ry,"onAnimationIteration");Nn(ny,"onAnimationStart");Nn("dblclick","onDoubleClick");Nn("focusin","onFocus");Nn("focusout","onBlur");Nn(iy,"onTransitionEnd");Fa("onMouseEnter",["mouseout","mouseover"]);Fa("onMouseLeave",["mouseout","mouseover"]);Fa("onPointerEnter",["pointerout","pointerover"]);Fa("onPointerLeave",["pointerout","pointerover"]);bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function Yp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Qx(n,t,void 0,e),e.currentTarget=null}function oy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var p=void 0;if(t)for(var y=n.length-1;0<=y;y--){var u=n[y],i=u.instance,h=u.currentTarget;if(u=u.listener,i!==p&&o.isPropagationStopped())break e;Yp(o,u,h),p=i}else for(y=0;y<n.length;y++){if(u=n[y],i=u.instance,h=u.currentTarget,u=u.listener,i!==p&&o.isPropagationStopped())break e;Yp(o,u,h),p=i}}}if(Dl)throw e=hh,Dl=!1,hh=null,e}function We(e,t){var r=t[wh];r===void 0&&(r=t[wh]=new Set);var n=e+"__bubble";r.has(n)||(sy(t,e,2,!1),r.add(n))}function xc(e,t,r){var n=0;t&&(n|=4),sy(r,e,n,t)}var rl="_reactListening"+Math.random().toString(36).slice(2);function qo(e){if(!e[rl]){e[rl]=!0,p0.forEach(function(r){r!=="selectionchange"&&(Zw.has(r)||xc(r,!1,e),xc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rl]||(t[rl]=!0,xc("selectionchange",!1,t))}}function sy(e,t,r,n){switch(W0(t)){case 1:var o=dw;break;case 4:o=pw;break;default:o=If}r=o.bind(null,t,r,e),o=void 0,!ch||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function wc(e,t,r,n,o){var p=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var y=n.tag;if(y===3||y===4){var u=n.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(y===4)for(y=n.return;y!==null;){var i=y.tag;if((i===3||i===4)&&(i=y.stateNode.containerInfo,i===o||i.nodeType===8&&i.parentNode===o))return;y=y.return}for(;u!==null;){if(y=qn(u),y===null)return;if(i=y.tag,i===5||i===6){n=p=y;continue e}u=u.parentNode}}n=n.return}A0(function(){var h=p,d=Df(r),a=[];e:{var l=ay.get(e);if(l!==void 0){var s=Nf,f=e;switch(e){case"keypress":if(wl(r)===0)break e;case"keydown":case"keyup":s=kw;break;case"focusin":f="focus",s=pc;break;case"focusout":f="blur",s=pc;break;case"beforeblur":case"afterblur":s=pc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=Fp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=mw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Rw;break;case ty:case ry:case ny:s=xw;break;case iy:s=Fw;break;case"scroll":s=gw;break;case"wheel":s=jw;break;case"copy":case"cut":case"paste":s=_w;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=jp}var v=(t&4)!==0,c=!v&&e==="scroll",g=v?l!==null?l+"Capture":null:l;v=[];for(var m=h,b;m!==null;){b=m;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,g!==null&&(x=Wo(m,g),x!=null&&v.push(Qo(m,x,b)))),c)break;m=m.return}0<v.length&&(l=new s(l,f,null,r,d),a.push({event:l,listeners:v}))}}if(!(t&7)){e:{if(l=e==="mouseover"||e==="pointerover",s=e==="mouseout"||e==="pointerout",l&&r!==lh&&(f=r.relatedTarget||r.fromElement)&&(qn(f)||f[qr]))break e;if((s||l)&&(l=d.window===d?d:(l=d.ownerDocument)?l.defaultView||l.parentWindow:window,s?(f=r.relatedTarget||r.toElement,s=h,f=f?qn(f):null,f!==null&&(c=xi(f),f!==c||f.tag!==5&&f.tag!==6)&&(f=null)):(s=null,f=h),s!==f)){if(v=Fp,x="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=jp,x="onPointerLeave",g="onPointerEnter",m="pointer"),c=s==null?l:ra(s),b=f==null?l:ra(f),l=new v(x,m+"leave",s,r,d),l.target=c,l.relatedTarget=b,x=null,qn(d)===h&&(v=new v(g,m+"enter",f,r,d),v.target=b,v.relatedTarget=c,x=v),c=x,s&&f)t:{for(v=s,g=f,m=0,b=v;b;b=Ri(b))m++;for(b=0,x=g;x;x=Ri(x))b++;for(;0<m-b;)v=Ri(v),m--;for(;0<b-m;)g=Ri(g),b--;for(;m--;){if(v===g||g!==null&&v===g.alternate)break t;v=Ri(v),g=Ri(g)}v=null}else v=null;s!==null&&Gp(a,l,s,v,!1),f!==null&&c!==null&&Gp(a,c,f,v,!0)}}e:{if(l=h?ra(h):window,s=l.nodeName&&l.nodeName.toLowerCase(),s==="select"||s==="input"&&l.type==="file")var w=Uw;else if(Np(l))if(q0)w=Gw;else{w=Xw;var _=Ww}else(s=l.nodeName)&&s.toLowerCase()==="input"&&(l.type==="checkbox"||l.type==="radio")&&(w=Yw);if(w&&(w=w(e,h))){K0(a,w,r,d);break e}_&&_(e,l,h),e==="focusout"&&(_=l._wrapperState)&&_.controlled&&l.type==="number"&&nh(l,"number",l.value)}switch(_=h?ra(h):window,e){case"focusin":(Np(_)||_.contentEditable==="true")&&(ea=_,gh=h,Lo=null);break;case"focusout":Lo=gh=ea=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,Wp(a,r,d);break;case"selectionchange":if(qw)break;case"keydown":case"keyup":Wp(a,r,d)}var S;if(Hf)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Zi?G0(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Y0&&r.locale!=="ko"&&(Zi||E!=="onCompositionStart"?E==="onCompositionEnd"&&Zi&&(S=X0()):(wn=d,$f="value"in wn?wn.value:wn.textContent,Zi=!0)),_=$l(h,E),0<_.length&&(E=new Lp(E,e,null,r,d),a.push({event:E,listeners:_}),S?E.data=S:(S=V0(r),S!==null&&(E.data=S)))),(S=$w?Nw(e,r):Bw(e,r))&&(h=$l(h,"onBeforeInput"),0<h.length&&(d=new Lp("onBeforeInput","beforeinput",null,r,d),a.push({event:d,listeners:h}),d.data=S))}oy(a,t)})}function Qo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $l(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,p=o.stateNode;o.tag===5&&p!==null&&(o=p,p=Wo(e,r),p!=null&&n.unshift(Qo(e,p,o)),p=Wo(e,t),p!=null&&n.push(Qo(e,p,o))),e=e.return}return n}function Ri(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gp(e,t,r,n,o){for(var p=t._reactName,y=[];r!==null&&r!==n;){var u=r,i=u.alternate,h=u.stateNode;if(i!==null&&i===n)break;u.tag===5&&h!==null&&(u=h,o?(i=Wo(r,p),i!=null&&y.unshift(Qo(r,i,u))):o||(i=Wo(r,p),i!=null&&y.push(Qo(r,i,u)))),r=r.return}y.length!==0&&e.push({event:t,listeners:y})}var e_=/\r\n?/g,t_=/\u0000|\uFFFD/g;function Vp(e){return(typeof e=="string"?e:""+e).replace(e_,`
`).replace(t_,"")}function nl(e,t,r){if(t=Vp(t),Vp(e)!==t&&r)throw Error(ae(425))}function Nl(){}var mh=null,yh=null;function bh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xh=typeof setTimeout=="function"?setTimeout:void 0,r_=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,n_=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(e){return Kp.resolve(null).then(e).catch(i_)}:xh;function i_(e){setTimeout(function(){throw e})}function _c(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),Go(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);Go(t)}function On(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Xa=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Xa,Jo="__reactProps$"+Xa,qr="__reactContainer$"+Xa,wh="__reactEvents$"+Xa,a_="__reactListeners$"+Xa,o_="__reactHandles$"+Xa;function qn(e){var t=e[Fr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qr]||r[Fr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=qp(e);e!==null;){if(r=e[Fr])return r;e=qp(e)}return t}e=r,r=e.parentNode}return null}function Es(e){return e=e[Fr]||e[qr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ra(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function _u(e){return e[Jo]||null}var _h=[],na=-1;function Bn(e){return{current:e}}function Ge(e){0>na||(e.current=_h[na],_h[na]=null,na--)}function Ue(e,t){na++,_h[na]=e.current,e.current=t}var Fn={},Et=Bn(Fn),Lt=Bn(!1),fi=Fn;function La(e,t){var r=e.type.contextTypes;if(!r)return Fn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},p;for(p in r)o[p]=t[p];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function jt(e){return e=e.childContextTypes,e!=null}function Bl(){Ge(Lt),Ge(Et)}function Qp(e,t,r){if(Et.current!==Fn)throw Error(ae(168));Ue(Et,t),Ue(Lt,r)}function ly(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(ae(108,Wx(e)||"Unknown",o));return et({},r,n)}function Hl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fn,fi=Et.current,Ue(Et,e),Ue(Lt,Lt.current),!0}function Jp(e,t,r){var n=e.stateNode;if(!n)throw Error(ae(169));r?(e=ly(e,t,fi),n.__reactInternalMemoizedMergedChildContext=e,Ge(Lt),Ge(Et),Ue(Et,e)):Ge(Lt),Ue(Lt,r)}var Wr=null,Su=!1,Sc=!1;function uy(e){Wr===null?Wr=[e]:Wr.push(e)}function s_(e){Su=!0,uy(e)}function Hn(){if(!Sc&&Wr!==null){Sc=!0;var e=0,t=Ie;try{var r=Wr;for(Ie=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Wr=null,Su=!1}catch(o){throw Wr!==null&&(Wr=Wr.slice(e+1)),F0(Ff,Hn),o}finally{Ie=t,Sc=!1}}return null}var ia=[],aa=0,zl=null,Ul=0,ar=[],or=0,di=null,Xr=1,Yr="";function Yn(e,t){ia[aa++]=Ul,ia[aa++]=zl,zl=e,Ul=t}function cy(e,t,r){ar[or++]=Xr,ar[or++]=Yr,ar[or++]=di,di=e;var n=Xr;e=Yr;var o=32-wr(n)-1;n&=~(1<<o),r+=1;var p=32-wr(t)+o;if(30<p){var y=o-o%5;p=(n&(1<<y)-1).toString(32),n>>=y,o-=y,Xr=1<<32-wr(t)+o|r<<o|n,Yr=p+e}else Xr=1<<p|r<<o|n,Yr=e}function Uf(e){e.return!==null&&(Yn(e,1),cy(e,1,0))}function Wf(e){for(;e===zl;)zl=ia[--aa],ia[aa]=null,Ul=ia[--aa],ia[aa]=null;for(;e===di;)di=ar[--or],ar[or]=null,Yr=ar[--or],ar[or]=null,Xr=ar[--or],ar[or]=null}var Vt=null,Xt=null,qe=!1,br=null;function hy(e,t){var r=lr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Zp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vt=e,Xt=On(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vt=e,Xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=di!==null?{id:Xr,overflow:Yr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=lr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Vt=e,Xt=null,!0):!1;default:return!1}}function Sh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ch(e){if(qe){var t=Xt;if(t){var r=t;if(!Zp(e,t)){if(Sh(e))throw Error(ae(418));t=On(r.nextSibling);var n=Vt;t&&Zp(e,t)?hy(n,r):(e.flags=e.flags&-4097|2,qe=!1,Vt=e)}}else{if(Sh(e))throw Error(ae(418));e.flags=e.flags&-4097|2,qe=!1,Vt=e}}}function eg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vt=e}function il(e){if(e!==Vt)return!1;if(!qe)return eg(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bh(e.type,e.memoizedProps)),t&&(t=Xt)){if(Sh(e))throw fy(),Error(ae(418));for(;t;)hy(e,t),t=On(t.nextSibling)}if(eg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xt=On(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xt=null}}else Xt=Vt?On(e.stateNode.nextSibling):null;return!0}function fy(){for(var e=Xt;e;)e=On(e.nextSibling)}function ja(){Xt=Vt=null,qe=!1}function Xf(e){br===null?br=[e]:br.push(e)}var l_=en.ReactCurrentBatchConfig;function gr(e,t){if(e&&e.defaultProps){t=et({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var Wl=Bn(null),Xl=null,oa=null,Yf=null;function Gf(){Yf=oa=Xl=null}function Vf(e){var t=Wl.current;Ge(Wl),e._currentValue=t}function Th(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function va(e,t){Xl=e,Yf=oa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ft=!0),e.firstContext=null)}function cr(e){var t=e._currentValue;if(Yf!==e)if(e={context:e,memoizedValue:t,next:null},oa===null){if(Xl===null)throw Error(ae(308));oa=e,Xl.dependencies={lanes:0,firstContext:e}}else oa=oa.next=e;return t}var Qn=null;function Kf(e){Qn===null?Qn=[e]:Qn.push(e)}function dy(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,Kf(t)):(r.next=o.next,o.next=r),t.interleaved=r,Qr(e,n)}function Qr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var hn=!1;function qf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function py(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Le&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,Qr(e,r)}return o=n.interleaved,o===null?(t.next=t,Kf(n)):(t.next=o.next,o.next=t),n.interleaved=t,Qr(e,r)}function _l(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Lf(e,r)}}function tg(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,p=null;if(r=r.firstBaseUpdate,r!==null){do{var y={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};p===null?o=p=y:p=p.next=y,r=r.next}while(r!==null);p===null?o=p=t:p=p.next=t}else o=p=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:p,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Yl(e,t,r,n){var o=e.updateQueue;hn=!1;var p=o.firstBaseUpdate,y=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var i=u,h=i.next;i.next=null,y===null?p=h:y.next=h,y=i;var d=e.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==y&&(u===null?d.firstBaseUpdate=h:u.next=h,d.lastBaseUpdate=i))}if(p!==null){var a=o.baseState;y=0,d=h=i=null,u=p;do{var l=u.lane,s=u.eventTime;if((n&l)===l){d!==null&&(d=d.next={eventTime:s,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var f=e,v=u;switch(l=t,s=r,v.tag){case 1:if(f=v.payload,typeof f=="function"){a=f.call(s,a,l);break e}a=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=v.payload,l=typeof f=="function"?f.call(s,a,l):f,l==null)break e;a=et({},a,l);break e;case 2:hn=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,l=o.effects,l===null?o.effects=[u]:l.push(u))}else s={eventTime:s,lane:l,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(h=d=s,i=a):d=d.next=s,y|=l;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;l=u,u=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}while(!0);if(d===null&&(i=a),o.baseState=i,o.firstBaseUpdate=h,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do y|=o.lane,o=o.next;while(o!==t)}else p===null&&(o.shared.lanes=0);gi|=y,e.lanes=y,e.memoizedState=a}}function rg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(ae(191,o));o.call(n)}}}var gy=new d0.Component().refs;function Eh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:et({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Cu={isMounted:function(e){return(e=e._reactInternals)?xi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Pt(),o=An(e),p=Gr(n,o);p.payload=t,r!=null&&(p.callback=r),t=Pn(e,p,o),t!==null&&(_r(t,e,o,n),_l(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Pt(),o=An(e),p=Gr(n,o);p.tag=1,p.payload=t,r!=null&&(p.callback=r),t=Pn(e,p,o),t!==null&&(_r(t,e,o,n),_l(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Pt(),n=An(e),o=Gr(r,n);o.tag=2,t!=null&&(o.callback=t),t=Pn(e,o,n),t!==null&&(_r(t,e,n,r),_l(t,e,n))}};function ng(e,t,r,n,o,p,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,p,y):t.prototype&&t.prototype.isPureReactComponent?!Ko(r,n)||!Ko(o,p):!0}function vy(e,t,r){var n=!1,o=Fn,p=t.contextType;return typeof p=="object"&&p!==null?p=cr(p):(o=jt(t)?fi:Et.current,n=t.contextTypes,p=(n=n!=null)?La(e,o):Fn),t=new t(r,p),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=p),t}function ig(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Cu.enqueueReplaceState(t,t.state,null)}function Oh(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs=gy,qf(e);var p=t.contextType;typeof p=="object"&&p!==null?o.context=cr(p):(p=jt(t)?fi:Et.current,o.context=La(e,p)),o.state=e.memoizedState,p=t.getDerivedStateFromProps,typeof p=="function"&&(Eh(e,t,p,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Cu.enqueueReplaceState(o,o.state,null),Yl(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function co(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var n=r.stateNode}if(!n)throw Error(ae(147,e));var o=n,p=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===p?t.ref:(t=function(y){var u=o.refs;u===gy&&(u=o.refs={}),y===null?delete u[p]:u[p]=y},t._stringRef=p,t)}if(typeof e!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,e))}return e}function al(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ag(e){var t=e._init;return t(e._payload)}function my(e){function t(g,m){if(e){var b=g.deletions;b===null?(g.deletions=[m],g.flags|=16):b.push(m)}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function o(g,m){return g=Mn(g,m),g.index=0,g.sibling=null,g}function p(g,m,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<m?(g.flags|=2,m):b):(g.flags|=2,m)):(g.flags|=1048576,m)}function y(g){return e&&g.alternate===null&&(g.flags|=2),g}function u(g,m,b,x){return m===null||m.tag!==6?(m=Ac(b,g.mode,x),m.return=g,m):(m=o(m,b),m.return=g,m)}function i(g,m,b,x){var w=b.type;return w===Ji?d(g,m,b.props.children,x,b.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===cn&&ag(w)===m.type)?(x=o(m,b.props),x.ref=co(g,m,b),x.return=g,x):(x=Pl(b.type,b.key,b.props,null,g.mode,x),x.ref=co(g,m,b),x.return=g,x)}function h(g,m,b,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==b.containerInfo||m.stateNode.implementation!==b.implementation?(m=Mc(b,g.mode,x),m.return=g,m):(m=o(m,b.children||[]),m.return=g,m)}function d(g,m,b,x,w){return m===null||m.tag!==7?(m=hi(b,g.mode,x,w),m.return=g,m):(m=o(m,b),m.return=g,m)}function a(g,m,b){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ac(""+m,g.mode,b),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Vs:return b=Pl(m.type,m.key,m.props,null,g.mode,b),b.ref=co(g,null,m),b.return=g,b;case Qi:return m=Mc(m,g.mode,b),m.return=g,m;case cn:var x=m._init;return a(g,x(m._payload),b)}if(Co(m)||ao(m))return m=hi(m,g.mode,b,null),m.return=g,m;al(g,m)}return null}function l(g,m,b,x){var w=m!==null?m.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:u(g,m,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vs:return b.key===w?i(g,m,b,x):null;case Qi:return b.key===w?h(g,m,b,x):null;case cn:return w=b._init,l(g,m,w(b._payload),x)}if(Co(b)||ao(b))return w!==null?null:d(g,m,b,x,null);al(g,b)}return null}function s(g,m,b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(b)||null,u(m,g,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vs:return g=g.get(x.key===null?b:x.key)||null,i(m,g,x,w);case Qi:return g=g.get(x.key===null?b:x.key)||null,h(m,g,x,w);case cn:var _=x._init;return s(g,m,b,_(x._payload),w)}if(Co(x)||ao(x))return g=g.get(b)||null,d(m,g,x,w,null);al(m,x)}return null}function f(g,m,b,x){for(var w=null,_=null,S=m,E=m=0,R=null;S!==null&&E<b.length;E++){S.index>E?(R=S,S=null):R=S.sibling;var N=l(g,S,b[E],x);if(N===null){S===null&&(S=R);break}e&&S&&N.alternate===null&&t(g,S),m=p(N,m,E),_===null?w=N:_.sibling=N,_=N,S=R}if(E===b.length)return r(g,S),qe&&Yn(g,E),w;if(S===null){for(;E<b.length;E++)S=a(g,b[E],x),S!==null&&(m=p(S,m,E),_===null?w=S:_.sibling=S,_=S);return qe&&Yn(g,E),w}for(S=n(g,S);E<b.length;E++)R=s(S,g,E,b[E],x),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?E:R.key),m=p(R,m,E),_===null?w=R:_.sibling=R,_=R);return e&&S.forEach(function(K){return t(g,K)}),qe&&Yn(g,E),w}function v(g,m,b,x){var w=ao(b);if(typeof w!="function")throw Error(ae(150));if(b=w.call(b),b==null)throw Error(ae(151));for(var _=w=null,S=m,E=m=0,R=null,N=b.next();S!==null&&!N.done;E++,N=b.next()){S.index>E?(R=S,S=null):R=S.sibling;var K=l(g,S,N.value,x);if(K===null){S===null&&(S=R);break}e&&S&&K.alternate===null&&t(g,S),m=p(K,m,E),_===null?w=K:_.sibling=K,_=K,S=R}if(N.done)return r(g,S),qe&&Yn(g,E),w;if(S===null){for(;!N.done;E++,N=b.next())N=a(g,N.value,x),N!==null&&(m=p(N,m,E),_===null?w=N:_.sibling=N,_=N);return qe&&Yn(g,E),w}for(S=n(g,S);!N.done;E++,N=b.next())N=s(S,g,E,N.value,x),N!==null&&(e&&N.alternate!==null&&S.delete(N.key===null?E:N.key),m=p(N,m,E),_===null?w=N:_.sibling=N,_=N);return e&&S.forEach(function(re){return t(g,re)}),qe&&Yn(g,E),w}function c(g,m,b,x){if(typeof b=="object"&&b!==null&&b.type===Ji&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Vs:e:{for(var w=b.key,_=m;_!==null;){if(_.key===w){if(w=b.type,w===Ji){if(_.tag===7){r(g,_.sibling),m=o(_,b.props.children),m.return=g,g=m;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===cn&&ag(w)===_.type){r(g,_.sibling),m=o(_,b.props),m.ref=co(g,_,b),m.return=g,g=m;break e}r(g,_);break}else t(g,_);_=_.sibling}b.type===Ji?(m=hi(b.props.children,g.mode,x,b.key),m.return=g,g=m):(x=Pl(b.type,b.key,b.props,null,g.mode,x),x.ref=co(g,m,b),x.return=g,g=x)}return y(g);case Qi:e:{for(_=b.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===b.containerInfo&&m.stateNode.implementation===b.implementation){r(g,m.sibling),m=o(m,b.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=Mc(b,g.mode,x),m.return=g,g=m}return y(g);case cn:return _=b._init,c(g,m,_(b._payload),x)}if(Co(b))return f(g,m,b,x);if(ao(b))return v(g,m,b,x);al(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,m!==null&&m.tag===6?(r(g,m.sibling),m=o(m,b),m.return=g,g=m):(r(g,m),m=Ac(b,g.mode,x),m.return=g,g=m),y(g)):r(g,m)}return c}var Ia=my(!0),yy=my(!1),Os={},Ir=Bn(Os),Zo=Bn(Os),es=Bn(Os);function Jn(e){if(e===Os)throw Error(ae(174));return e}function Qf(e,t){switch(Ue(es,t),Ue(Zo,e),Ue(Ir,Os),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ah(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ah(t,e)}Ge(Ir),Ue(Ir,t)}function $a(){Ge(Ir),Ge(Zo),Ge(es)}function by(e){Jn(es.current);var t=Jn(Ir.current),r=ah(t,e.type);t!==r&&(Ue(Zo,e),Ue(Ir,r))}function Jf(e){Zo.current===e&&(Ge(Ir),Ge(Zo))}var Je=Bn(0);function Gl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cc=[];function Zf(){for(var e=0;e<Cc.length;e++)Cc[e]._workInProgressVersionPrimary=null;Cc.length=0}var Sl=en.ReactCurrentDispatcher,Tc=en.ReactCurrentBatchConfig,pi=0,Ze=null,ut=null,pt=null,Vl=!1,jo=!1,ts=0,u_=0;function _t(){throw Error(ae(321))}function ed(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Sr(e[r],t[r]))return!1;return!0}function td(e,t,r,n,o,p){if(pi=p,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sl.current=e===null||e.memoizedState===null?d_:p_,e=r(n,o),jo){p=0;do{if(jo=!1,ts=0,25<=p)throw Error(ae(301));p+=1,pt=ut=null,t.updateQueue=null,Sl.current=g_,e=r(n,o)}while(jo)}if(Sl.current=Kl,t=ut!==null&&ut.next!==null,pi=0,pt=ut=Ze=null,Vl=!1,t)throw Error(ae(300));return e}function rd(){var e=ts!==0;return ts=0,e}function kr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ze.memoizedState=pt=e:pt=pt.next=e,pt}function hr(){if(ut===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=pt===null?Ze.memoizedState:pt.next;if(t!==null)pt=t,ut=e;else{if(e===null)throw Error(ae(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},pt===null?Ze.memoizedState=pt=e:pt=pt.next=e}return pt}function rs(e,t){return typeof t=="function"?t(e):t}function Ec(e){var t=hr(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=ut,o=n.baseQueue,p=r.pending;if(p!==null){if(o!==null){var y=o.next;o.next=p.next,p.next=y}n.baseQueue=o=p,r.pending=null}if(o!==null){p=o.next,n=n.baseState;var u=y=null,i=null,h=p;do{var d=h.lane;if((pi&d)===d)i!==null&&(i=i.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:e(n,h.action);else{var a={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};i===null?(u=i=a,y=n):i=i.next=a,Ze.lanes|=d,gi|=d}h=h.next}while(h!==null&&h!==p);i===null?y=n:i.next=u,Sr(n,t.memoizedState)||(Ft=!0),t.memoizedState=n,t.baseState=y,t.baseQueue=i,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do p=o.lane,Ze.lanes|=p,gi|=p,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Oc(e){var t=hr(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,p=t.memoizedState;if(o!==null){r.pending=null;var y=o=o.next;do p=e(p,y.action),y=y.next;while(y!==o);Sr(p,t.memoizedState)||(Ft=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),r.lastRenderedState=p}return[p,n]}function xy(){}function wy(e,t){var r=Ze,n=hr(),o=t(),p=!Sr(n.memoizedState,o);if(p&&(n.memoizedState=o,Ft=!0),n=n.queue,nd(Cy.bind(null,r,n,e),[e]),n.getSnapshot!==t||p||pt!==null&&pt.memoizedState.tag&1){if(r.flags|=2048,ns(9,Sy.bind(null,r,n,o,t),void 0,null),gt===null)throw Error(ae(349));pi&30||_y(r,t,o)}return o}function _y(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Sy(e,t,r,n){t.value=r,t.getSnapshot=n,Ty(t)&&Ey(e)}function Cy(e,t,r){return r(function(){Ty(t)&&Ey(e)})}function Ty(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Sr(e,r)}catch{return!0}}function Ey(e){var t=Qr(e,1);t!==null&&_r(t,e,1,-1)}function og(e){var t=kr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:e},t.queue=e,e=e.dispatch=f_.bind(null,Ze,e),[t.memoizedState,e]}function ns(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Oy(){return hr().memoizedState}function Cl(e,t,r,n){var o=kr();Ze.flags|=e,o.memoizedState=ns(1|t,r,void 0,n===void 0?null:n)}function Tu(e,t,r,n){var o=hr();n=n===void 0?null:n;var p=void 0;if(ut!==null){var y=ut.memoizedState;if(p=y.destroy,n!==null&&ed(n,y.deps)){o.memoizedState=ns(t,r,p,n);return}}Ze.flags|=e,o.memoizedState=ns(1|t,r,p,n)}function sg(e,t){return Cl(8390656,8,e,t)}function nd(e,t){return Tu(2048,8,e,t)}function Py(e,t){return Tu(4,2,e,t)}function ky(e,t){return Tu(4,4,e,t)}function Ay(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function My(e,t,r){return r=r!=null?r.concat([e]):null,Tu(4,4,Ay.bind(null,t,e),r)}function id(){}function Ry(e,t){var r=hr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ed(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Dy(e,t){var r=hr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ed(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Fy(e,t,r){return pi&21?(Sr(r,t)||(r=I0(),Ze.lanes|=r,gi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ft=!0),e.memoizedState=r)}function c_(e,t){var r=Ie;Ie=r!==0&&4>r?r:4,e(!0);var n=Tc.transition;Tc.transition={};try{e(!1),t()}finally{Ie=r,Tc.transition=n}}function Ly(){return hr().memoizedState}function h_(e,t,r){var n=An(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},jy(e))Iy(t,r);else if(r=dy(e,t,r,n),r!==null){var o=Pt();_r(r,e,n,o),$y(r,t,n)}}function f_(e,t,r){var n=An(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(jy(e))Iy(t,o);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var y=t.lastRenderedState,u=p(y,r);if(o.hasEagerState=!0,o.eagerState=u,Sr(u,y)){var i=t.interleaved;i===null?(o.next=o,Kf(t)):(o.next=i.next,i.next=o),t.interleaved=o;return}}catch{}finally{}r=dy(e,t,o,n),r!==null&&(o=Pt(),_r(r,e,n,o),$y(r,t,n))}}function jy(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function Iy(e,t){jo=Vl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $y(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Lf(e,r)}}var Kl={readContext:cr,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},d_={readContext:cr,useCallback:function(e,t){return kr().memoizedState=[e,t===void 0?null:t],e},useContext:cr,useEffect:sg,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Cl(4194308,4,Ay.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Cl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cl(4,2,e,t)},useMemo:function(e,t){var r=kr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=kr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=h_.bind(null,Ze,e),[n.memoizedState,e]},useRef:function(e){var t=kr();return e={current:e},t.memoizedState=e},useState:og,useDebugValue:id,useDeferredValue:function(e){return kr().memoizedState=e},useTransition:function(){var e=og(!1),t=e[0];return e=c_.bind(null,e[1]),kr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ze,o=kr();if(qe){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=t(),gt===null)throw Error(ae(349));pi&30||_y(n,t,r)}o.memoizedState=r;var p={value:r,getSnapshot:t};return o.queue=p,sg(Cy.bind(null,n,p,e),[e]),n.flags|=2048,ns(9,Sy.bind(null,n,p,r,t),void 0,null),r},useId:function(){var e=kr(),t=gt.identifierPrefix;if(qe){var r=Yr,n=Xr;r=(n&~(1<<32-wr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ts++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=u_++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},p_={readContext:cr,useCallback:Ry,useContext:cr,useEffect:nd,useImperativeHandle:My,useInsertionEffect:Py,useLayoutEffect:ky,useMemo:Dy,useReducer:Ec,useRef:Oy,useState:function(){return Ec(rs)},useDebugValue:id,useDeferredValue:function(e){var t=hr();return Fy(t,ut.memoizedState,e)},useTransition:function(){var e=Ec(rs)[0],t=hr().memoizedState;return[e,t]},useMutableSource:xy,useSyncExternalStore:wy,useId:Ly,unstable_isNewReconciler:!1},g_={readContext:cr,useCallback:Ry,useContext:cr,useEffect:nd,useImperativeHandle:My,useInsertionEffect:Py,useLayoutEffect:ky,useMemo:Dy,useReducer:Oc,useRef:Oy,useState:function(){return Oc(rs)},useDebugValue:id,useDeferredValue:function(e){var t=hr();return ut===null?t.memoizedState=e:Fy(t,ut.memoizedState,e)},useTransition:function(){var e=Oc(rs)[0],t=hr().memoizedState;return[e,t]},useMutableSource:xy,useSyncExternalStore:wy,useId:Ly,unstable_isNewReconciler:!1};function Na(e,t){try{var r="",n=t;do r+=Ux(n),n=n.return;while(n);var o=r}catch(p){o=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:t,stack:o,digest:null}}function Pc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ph(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var v_=typeof WeakMap=="function"?WeakMap:Map;function Ny(e,t,r){r=Gr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ql||(Ql=!0,$h=n),Ph(e,t)},r}function By(e,t,r){r=Gr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){Ph(e,t)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(r.callback=function(){Ph(e,t),typeof n!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),r}function lg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new v_;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=A_.bind(null,e,t,r),t.then(e,e))}function ug(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cg(e,t,r,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Gr(-1,1),t.tag=2,Pn(r,t,1))),r.lanes|=1),e)}var m_=en.ReactCurrentOwner,Ft=!1;function Ot(e,t,r,n){t.child=e===null?yy(t,null,r,n):Ia(t,e.child,r,n)}function hg(e,t,r,n,o){r=r.render;var p=t.ref;return va(t,o),n=td(e,t,r,n,p,o),r=rd(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Jr(e,t,o)):(qe&&r&&Uf(t),t.flags|=1,Ot(e,t,n,o),t.child)}function fg(e,t,r,n,o){if(e===null){var p=r.type;return typeof p=="function"&&!fd(p)&&p.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=p,Hy(e,t,p,n,o)):(e=Pl(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!(e.lanes&o)){var y=p.memoizedProps;if(r=r.compare,r=r!==null?r:Ko,r(y,n)&&e.ref===t.ref)return Jr(e,t,o)}return t.flags|=1,e=Mn(p,n),e.ref=t.ref,e.return=t,t.child=e}function Hy(e,t,r,n,o){if(e!==null){var p=e.memoizedProps;if(Ko(p,n)&&e.ref===t.ref)if(Ft=!1,t.pendingProps=n=p,(e.lanes&o)!==0)e.flags&131072&&(Ft=!0);else return t.lanes=e.lanes,Jr(e,t,o)}return kh(e,t,r,n,o)}function zy(e,t,r){var n=t.pendingProps,o=n.children,p=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(la,Ut),Ut|=r;else{if(!(r&1073741824))return e=p!==null?p.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ue(la,Ut),Ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=p!==null?p.baseLanes:r,Ue(la,Ut),Ut|=n}else p!==null?(n=p.baseLanes|r,t.memoizedState=null):n=r,Ue(la,Ut),Ut|=n;return Ot(e,t,o,r),t.child}function Uy(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function kh(e,t,r,n,o){var p=jt(r)?fi:Et.current;return p=La(t,p),va(t,o),r=td(e,t,r,n,p,o),n=rd(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Jr(e,t,o)):(qe&&n&&Uf(t),t.flags|=1,Ot(e,t,r,o),t.child)}function dg(e,t,r,n,o){if(jt(r)){var p=!0;Hl(t)}else p=!1;if(va(t,o),t.stateNode===null)Tl(e,t),vy(t,r,n),Oh(t,r,n,o),n=!0;else if(e===null){var y=t.stateNode,u=t.memoizedProps;y.props=u;var i=y.context,h=r.contextType;typeof h=="object"&&h!==null?h=cr(h):(h=jt(r)?fi:Et.current,h=La(t,h));var d=r.getDerivedStateFromProps,a=typeof d=="function"||typeof y.getSnapshotBeforeUpdate=="function";a||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(u!==n||i!==h)&&ig(t,y,n,h),hn=!1;var l=t.memoizedState;y.state=l,Yl(t,n,y,o),i=t.memoizedState,u!==n||l!==i||Lt.current||hn?(typeof d=="function"&&(Eh(t,r,d,n),i=t.memoizedState),(u=hn||ng(t,r,u,n,l,i,h))?(a||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=i),y.props=n,y.state=i,y.context=h,n=u):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{y=t.stateNode,py(e,t),u=t.memoizedProps,h=t.type===t.elementType?u:gr(t.type,u),y.props=h,a=t.pendingProps,l=y.context,i=r.contextType,typeof i=="object"&&i!==null?i=cr(i):(i=jt(r)?fi:Et.current,i=La(t,i));var s=r.getDerivedStateFromProps;(d=typeof s=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(u!==a||l!==i)&&ig(t,y,n,i),hn=!1,l=t.memoizedState,y.state=l,Yl(t,n,y,o);var f=t.memoizedState;u!==a||l!==f||Lt.current||hn?(typeof s=="function"&&(Eh(t,r,s,n),f=t.memoizedState),(h=hn||ng(t,r,h,n,l,f,i)||!1)?(d||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(n,f,i),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(n,f,i)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||u===e.memoizedProps&&l===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&l===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),y.props=n,y.state=f,y.context=i,n=h):(typeof y.componentDidUpdate!="function"||u===e.memoizedProps&&l===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&l===e.memoizedState||(t.flags|=1024),n=!1)}return Ah(e,t,r,n,p,o)}function Ah(e,t,r,n,o,p){Uy(e,t);var y=(t.flags&128)!==0;if(!n&&!y)return o&&Jp(t,r,!1),Jr(e,t,p);n=t.stateNode,m_.current=t;var u=y&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&y?(t.child=Ia(t,e.child,null,p),t.child=Ia(t,null,u,p)):Ot(e,t,u,p),t.memoizedState=n.state,o&&Jp(t,r,!0),t.child}function Wy(e){var t=e.stateNode;t.pendingContext?Qp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qp(e,t.context,!1),Qf(e,t.containerInfo)}function pg(e,t,r,n,o){return ja(),Xf(o),t.flags|=256,Ot(e,t,r,n),t.child}var Mh={dehydrated:null,treeContext:null,retryLane:0};function Rh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xy(e,t,r){var n=t.pendingProps,o=Je.current,p=!1,y=(t.flags&128)!==0,u;if((u=y)||(u=e!==null&&e.memoizedState===null?!1:(o&2)!==0),u?(p=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ue(Je,o&1),e===null)return Ch(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(y=n.children,e=n.fallback,p?(n=t.mode,p=t.child,y={mode:"hidden",children:y},!(n&1)&&p!==null?(p.childLanes=0,p.pendingProps=y):p=Pu(y,n,0,null),e=hi(e,n,r,null),p.return=t,e.return=t,p.sibling=e,t.child=p,t.child.memoizedState=Rh(r),t.memoizedState=Mh,e):ad(t,y));if(o=e.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return y_(e,t,y,n,u,o,r);if(p){p=n.fallback,y=t.mode,o=e.child,u=o.sibling;var i={mode:"hidden",children:n.children};return!(y&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=i,t.deletions=null):(n=Mn(o,i),n.subtreeFlags=o.subtreeFlags&14680064),u!==null?p=Mn(u,p):(p=hi(p,y,r,null),p.flags|=2),p.return=t,n.return=t,n.sibling=p,t.child=n,n=p,p=t.child,y=e.child.memoizedState,y=y===null?Rh(r):{baseLanes:y.baseLanes|r,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=e.childLanes&~r,t.memoizedState=Mh,n}return p=e.child,e=p.sibling,n=Mn(p,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ad(e,t){return t=Pu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ol(e,t,r,n){return n!==null&&Xf(n),Ia(t,e.child,null,r),e=ad(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function y_(e,t,r,n,o,p,y){if(r)return t.flags&256?(t.flags&=-257,n=Pc(Error(ae(422))),ol(e,t,y,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(p=n.fallback,o=t.mode,n=Pu({mode:"visible",children:n.children},o,0,null),p=hi(p,o,y,null),p.flags|=2,n.return=t,p.return=t,n.sibling=p,t.child=n,t.mode&1&&Ia(t,e.child,null,y),t.child.memoizedState=Rh(y),t.memoizedState=Mh,p);if(!(t.mode&1))return ol(e,t,y,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var u=n.dgst;return n=u,p=Error(ae(419)),n=Pc(p,n,void 0),ol(e,t,y,n)}if(u=(y&e.childLanes)!==0,Ft||u){if(n=gt,n!==null){switch(y&-y){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|y)?0:o,o!==0&&o!==p.retryLane&&(p.retryLane=o,Qr(e,o),_r(n,e,o,-1))}return hd(),n=Pc(Error(ae(421))),ol(e,t,y,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=M_.bind(null,e),o._reactRetry=t,null):(e=p.treeContext,Xt=On(o.nextSibling),Vt=t,qe=!0,br=null,e!==null&&(ar[or++]=Xr,ar[or++]=Yr,ar[or++]=di,Xr=e.id,Yr=e.overflow,di=t),t=ad(t,n.children),t.flags|=4096,t)}function gg(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Th(e.return,t,r)}function kc(e,t,r,n,o){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=n,p.tail=r,p.tailMode=o)}function Yy(e,t,r){var n=t.pendingProps,o=n.revealOrder,p=n.tail;if(Ot(e,t,n.children,r),n=Je.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gg(e,r,t);else if(e.tag===19)gg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ue(Je,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&Gl(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),kc(t,!1,o,r,p);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Gl(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}kc(t,!0,r,null,p);break;case"together":kc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),gi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,r=Mn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Mn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function b_(e,t,r){switch(t.tag){case 3:Wy(t),ja();break;case 5:by(t);break;case 1:jt(t.type)&&Hl(t);break;case 4:Qf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;Ue(Wl,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ue(Je,Je.current&1),t.flags|=128,null):r&t.child.childLanes?Xy(e,t,r):(Ue(Je,Je.current&1),e=Jr(e,t,r),e!==null?e.sibling:null);Ue(Je,Je.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Yy(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ue(Je,Je.current),n)break;return null;case 22:case 23:return t.lanes=0,zy(e,t,r)}return Jr(e,t,r)}var Gy,Dh,Vy,Ky;Gy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dh=function(){};Vy=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Jn(Ir.current);var p=null;switch(r){case"input":o=th(e,o),n=th(e,n),p=[];break;case"select":o=et({},o,{value:void 0}),n=et({},n,{value:void 0}),p=[];break;case"textarea":o=ih(e,o),n=ih(e,n),p=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Nl)}oh(r,n);var y;r=null;for(h in o)if(!n.hasOwnProperty(h)&&o.hasOwnProperty(h)&&o[h]!=null)if(h==="style"){var u=o[h];for(y in u)u.hasOwnProperty(y)&&(r||(r={}),r[y]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(zo.hasOwnProperty(h)?p||(p=[]):(p=p||[]).push(h,null));for(h in n){var i=n[h];if(u=o!=null?o[h]:void 0,n.hasOwnProperty(h)&&i!==u&&(i!=null||u!=null))if(h==="style")if(u){for(y in u)!u.hasOwnProperty(y)||i&&i.hasOwnProperty(y)||(r||(r={}),r[y]="");for(y in i)i.hasOwnProperty(y)&&u[y]!==i[y]&&(r||(r={}),r[y]=i[y])}else r||(p||(p=[]),p.push(h,r)),r=i;else h==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,u=u?u.__html:void 0,i!=null&&u!==i&&(p=p||[]).push(h,i)):h==="children"?typeof i!="string"&&typeof i!="number"||(p=p||[]).push(h,""+i):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(zo.hasOwnProperty(h)?(i!=null&&h==="onScroll"&&We("scroll",e),p||u===i||(p=[])):(p=p||[]).push(h,i))}r&&(p=p||[]).push("style",r);var h=p;(t.updateQueue=h)&&(t.flags|=4)}};Ky=function(e,t,r,n){r!==n&&(t.flags|=4)};function ho(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function x_(e,t,r){var n=t.pendingProps;switch(Wf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return jt(t.type)&&Bl(),St(t),null;case 3:return n=t.stateNode,$a(),Ge(Lt),Ge(Et),Zf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(il(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,br!==null&&(Hh(br),br=null))),Dh(e,t),St(t),null;case 5:Jf(t);var o=Jn(es.current);if(r=t.type,e!==null&&t.stateNode!=null)Vy(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ae(166));return St(t),null}if(e=Jn(Ir.current),il(t)){n=t.stateNode,r=t.type;var p=t.memoizedProps;switch(n[Fr]=t,n[Jo]=p,e=(t.mode&1)!==0,r){case"dialog":We("cancel",n),We("close",n);break;case"iframe":case"object":case"embed":We("load",n);break;case"video":case"audio":for(o=0;o<Eo.length;o++)We(Eo[o],n);break;case"source":We("error",n);break;case"img":case"image":case"link":We("error",n),We("load",n);break;case"details":We("toggle",n);break;case"input":Cp(n,p),We("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!p.multiple},We("invalid",n);break;case"textarea":Ep(n,p),We("invalid",n)}oh(r,p),o=null;for(var y in p)if(p.hasOwnProperty(y)){var u=p[y];y==="children"?typeof u=="string"?n.textContent!==u&&(p.suppressHydrationWarning!==!0&&nl(n.textContent,u,e),o=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(p.suppressHydrationWarning!==!0&&nl(n.textContent,u,e),o=["children",""+u]):zo.hasOwnProperty(y)&&u!=null&&y==="onScroll"&&We("scroll",n)}switch(r){case"input":Ks(n),Tp(n,p,!0);break;case"textarea":Ks(n),Op(n);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(n.onclick=Nl)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{y=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=y.createElement(r,{is:n.is}):(e=y.createElement(r),r==="select"&&(y=e,n.multiple?y.multiple=!0:n.size&&(y.size=n.size))):e=y.createElementNS(e,r),e[Fr]=t,e[Jo]=n,Gy(e,t,!1,!1),t.stateNode=e;e:{switch(y=sh(r,n),r){case"dialog":We("cancel",e),We("close",e),o=n;break;case"iframe":case"object":case"embed":We("load",e),o=n;break;case"video":case"audio":for(o=0;o<Eo.length;o++)We(Eo[o],e);o=n;break;case"source":We("error",e),o=n;break;case"img":case"image":case"link":We("error",e),We("load",e),o=n;break;case"details":We("toggle",e),o=n;break;case"input":Cp(e,n),o=th(e,n),We("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=et({},n,{value:void 0}),We("invalid",e);break;case"textarea":Ep(e,n),o=ih(e,n),We("invalid",e);break;default:o=n}oh(r,o),u=o;for(p in u)if(u.hasOwnProperty(p)){var i=u[p];p==="style"?T0(e,i):p==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&S0(e,i)):p==="children"?typeof i=="string"?(r!=="textarea"||i!=="")&&Uo(e,i):typeof i=="number"&&Uo(e,""+i):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(zo.hasOwnProperty(p)?i!=null&&p==="onScroll"&&We("scroll",e):i!=null&&kf(e,p,i,y))}switch(r){case"input":Ks(e),Tp(e,n,!1);break;case"textarea":Ks(e),Op(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Dn(n.value));break;case"select":e.multiple=!!n.multiple,p=n.value,p!=null?fa(e,!!n.multiple,p,!1):n.defaultValue!=null&&fa(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Nl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return St(t),null;case 6:if(e&&t.stateNode!=null)Ky(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ae(166));if(r=Jn(es.current),Jn(Ir.current),il(t)){if(n=t.stateNode,r=t.memoizedProps,n[Fr]=t,(p=n.nodeValue!==r)&&(e=Vt,e!==null))switch(e.tag){case 3:nl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nl(n.nodeValue,r,(e.mode&1)!==0)}p&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Fr]=t,t.stateNode=n}return St(t),null;case 13:if(Ge(Je),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&Xt!==null&&t.mode&1&&!(t.flags&128))fy(),ja(),t.flags|=98560,p=!1;else if(p=il(t),n!==null&&n.dehydrated!==null){if(e===null){if(!p)throw Error(ae(318));if(p=t.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(ae(317));p[Fr]=t}else ja(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),p=!1}else br!==null&&(Hh(br),br=null),p=!0;if(!p)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Je.current&1?ct===0&&(ct=3):hd())),t.updateQueue!==null&&(t.flags|=4),St(t),null);case 4:return $a(),Dh(e,t),e===null&&qo(t.stateNode.containerInfo),St(t),null;case 10:return Vf(t.type._context),St(t),null;case 17:return jt(t.type)&&Bl(),St(t),null;case 19:if(Ge(Je),p=t.memoizedState,p===null)return St(t),null;if(n=(t.flags&128)!==0,y=p.rendering,y===null)if(n)ho(p,!1);else{if(ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(y=Gl(e),y!==null){for(t.flags|=128,ho(p,!1),n=y.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)p=r,e=n,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,e=y.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ue(Je,Je.current&1|2),t.child}e=e.sibling}p.tail!==null&&at()>Ba&&(t.flags|=128,n=!0,ho(p,!1),t.lanes=4194304)}else{if(!n)if(e=Gl(y),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ho(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!qe)return St(t),null}else 2*at()-p.renderingStartTime>Ba&&r!==1073741824&&(t.flags|=128,n=!0,ho(p,!1),t.lanes=4194304);p.isBackwards?(y.sibling=t.child,t.child=y):(r=p.last,r!==null?r.sibling=y:t.child=y,p.last=y)}return p.tail!==null?(t=p.tail,p.rendering=t,p.tail=t.sibling,p.renderingStartTime=at(),t.sibling=null,r=Je.current,Ue(Je,n?r&1|2:r&1),t):(St(t),null);case 22:case 23:return cd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ut&1073741824&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function w_(e,t){switch(Wf(t),t.tag){case 1:return jt(t.type)&&Bl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $a(),Ge(Lt),Ge(Et),Zf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jf(t),null;case 13:if(Ge(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(Je),null;case 4:return $a(),null;case 10:return Vf(t.type._context),null;case 22:case 23:return cd(),null;case 24:return null;default:return null}}var sl=!1,Tt=!1,__=typeof WeakSet=="function"?WeakSet:Set,pe=null;function sa(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){rt(e,t,n)}else r.current=null}function Fh(e,t,r){try{r()}catch(n){rt(e,t,n)}}var vg=!1;function S_(e,t){if(mh=jl,e=Z0(),zf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,p=n.focusNode;n=n.focusOffset;try{r.nodeType,p.nodeType}catch{r=null;break e}var y=0,u=-1,i=-1,h=0,d=0,a=e,l=null;t:for(;;){for(var s;a!==r||o!==0&&a.nodeType!==3||(u=y+o),a!==p||n!==0&&a.nodeType!==3||(i=y+n),a.nodeType===3&&(y+=a.nodeValue.length),(s=a.firstChild)!==null;)l=a,a=s;for(;;){if(a===e)break t;if(l===r&&++h===o&&(u=y),l===p&&++d===n&&(i=y),(s=a.nextSibling)!==null)break;a=l,l=a.parentNode}a=s}r=u===-1||i===-1?null:{start:u,end:i}}else r=null}r=r||{start:0,end:0}}else r=null;for(yh={focusedElem:e,selectionRange:r},jl=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var v=f.memoizedProps,c=f.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:gr(t.type,v),c);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(x){rt(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return f=vg,vg=!1,f}function Io(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var p=o.destroy;o.destroy=void 0,p!==void 0&&Fh(t,r,p)}o=o.next}while(o!==n)}}function Eu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Lh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function qy(e){var t=e.alternate;t!==null&&(e.alternate=null,qy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fr],delete t[Jo],delete t[wh],delete t[a_],delete t[o_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qy(e){return e.tag===5||e.tag===3||e.tag===4}function mg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Nl));else if(n!==4&&(e=e.child,e!==null))for(jh(e,t,r),e=e.sibling;e!==null;)jh(e,t,r),e=e.sibling}function Ih(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ih(e,t,r),e=e.sibling;e!==null;)Ih(e,t,r),e=e.sibling}var yt=null,mr=!1;function sn(e,t,r){for(r=r.child;r!==null;)Jy(e,t,r),r=r.sibling}function Jy(e,t,r){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(yu,r)}catch{}switch(r.tag){case 5:Tt||sa(r,t);case 6:var n=yt,o=mr;yt=null,sn(e,t,r),yt=n,mr=o,yt!==null&&(mr?(e=yt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):yt.removeChild(r.stateNode));break;case 18:yt!==null&&(mr?(e=yt,r=r.stateNode,e.nodeType===8?_c(e.parentNode,r):e.nodeType===1&&_c(e,r),Go(e)):_c(yt,r.stateNode));break;case 4:n=yt,o=mr,yt=r.stateNode.containerInfo,mr=!0,sn(e,t,r),yt=n,mr=o;break;case 0:case 11:case 14:case 15:if(!Tt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var p=o,y=p.destroy;p=p.tag,y!==void 0&&(p&2||p&4)&&Fh(r,t,y),o=o.next}while(o!==n)}sn(e,t,r);break;case 1:if(!Tt&&(sa(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){rt(r,t,u)}sn(e,t,r);break;case 21:sn(e,t,r);break;case 22:r.mode&1?(Tt=(n=Tt)||r.memoizedState!==null,sn(e,t,r),Tt=n):sn(e,t,r);break;default:sn(e,t,r)}}function yg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new __),t.forEach(function(n){var o=R_.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function dr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var p=e,y=t,u=y;e:for(;u!==null;){switch(u.tag){case 5:yt=u.stateNode,mr=!1;break e;case 3:yt=u.stateNode.containerInfo,mr=!0;break e;case 4:yt=u.stateNode.containerInfo,mr=!0;break e}u=u.return}if(yt===null)throw Error(ae(160));Jy(p,y,o),yt=null,mr=!1;var i=o.alternate;i!==null&&(i.return=null),o.return=null}catch(h){rt(o,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zy(t,e),t=t.sibling}function Zy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dr(t,e),Pr(e),n&4){try{Io(3,e,e.return),Eu(3,e)}catch(v){rt(e,e.return,v)}try{Io(5,e,e.return)}catch(v){rt(e,e.return,v)}}break;case 1:dr(t,e),Pr(e),n&512&&r!==null&&sa(r,r.return);break;case 5:if(dr(t,e),Pr(e),n&512&&r!==null&&sa(r,r.return),e.flags&32){var o=e.stateNode;try{Uo(o,"")}catch(v){rt(e,e.return,v)}}if(n&4&&(o=e.stateNode,o!=null)){var p=e.memoizedProps,y=r!==null?r.memoizedProps:p,u=e.type,i=e.updateQueue;if(e.updateQueue=null,i!==null)try{u==="input"&&p.type==="radio"&&p.name!=null&&x0(o,p),sh(u,y);var h=sh(u,p);for(y=0;y<i.length;y+=2){var d=i[y],a=i[y+1];d==="style"?T0(o,a):d==="dangerouslySetInnerHTML"?S0(o,a):d==="children"?Uo(o,a):kf(o,d,a,h)}switch(u){case"input":rh(o,p);break;case"textarea":w0(o,p);break;case"select":var l=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!p.multiple;var s=p.value;s!=null?fa(o,!!p.multiple,s,!1):l!==!!p.multiple&&(p.defaultValue!=null?fa(o,!!p.multiple,p.defaultValue,!0):fa(o,!!p.multiple,p.multiple?[]:"",!1))}o[Jo]=p}catch(v){rt(e,e.return,v)}}break;case 6:if(dr(t,e),Pr(e),n&4){if(e.stateNode===null)throw Error(ae(162));o=e.stateNode,p=e.memoizedProps;try{o.nodeValue=p}catch(v){rt(e,e.return,v)}}break;case 3:if(dr(t,e),Pr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Go(t.containerInfo)}catch(v){rt(e,e.return,v)}break;case 4:dr(t,e),Pr(e);break;case 13:dr(t,e),Pr(e),o=e.child,o.flags&8192&&(p=o.memoizedState!==null,o.stateNode.isHidden=p,!p||o.alternate!==null&&o.alternate.memoizedState!==null||(ld=at())),n&4&&yg(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Tt=(h=Tt)||d,dr(t,e),Tt=h):dr(t,e),Pr(e),n&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!d&&e.mode&1)for(pe=e,d=e.child;d!==null;){for(a=pe=d;pe!==null;){switch(l=pe,s=l.child,l.tag){case 0:case 11:case 14:case 15:Io(4,l,l.return);break;case 1:sa(l,l.return);var f=l.stateNode;if(typeof f.componentWillUnmount=="function"){n=l,r=l.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(v){rt(n,r,v)}}break;case 5:sa(l,l.return);break;case 22:if(l.memoizedState!==null){xg(a);continue}}s!==null?(s.return=l,pe=s):xg(a)}d=d.sibling}e:for(d=null,a=e;;){if(a.tag===5){if(d===null){d=a;try{o=a.stateNode,h?(p=o.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(u=a.stateNode,i=a.memoizedProps.style,y=i!=null&&i.hasOwnProperty("display")?i.display:null,u.style.display=C0("display",y))}catch(v){rt(e,e.return,v)}}}else if(a.tag===6){if(d===null)try{a.stateNode.nodeValue=h?"":a.memoizedProps}catch(v){rt(e,e.return,v)}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;d===a&&(d=null),a=a.return}d===a&&(d=null),a.sibling.return=a.return,a=a.sibling}}break;case 19:dr(t,e),Pr(e),n&4&&yg(e);break;case 21:break;default:dr(t,e),Pr(e)}}function Pr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Qy(r)){var n=r;break e}r=r.return}throw Error(ae(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(Uo(o,""),n.flags&=-33);var p=mg(e);Ih(e,p,o);break;case 3:case 4:var y=n.stateNode.containerInfo,u=mg(e);jh(e,u,y);break;default:throw Error(ae(161))}}catch(i){rt(e,e.return,i)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function C_(e,t,r){pe=e,e1(e)}function e1(e,t,r){for(var n=(e.mode&1)!==0;pe!==null;){var o=pe,p=o.child;if(o.tag===22&&n){var y=o.memoizedState!==null||sl;if(!y){var u=o.alternate,i=u!==null&&u.memoizedState!==null||Tt;u=sl;var h=Tt;if(sl=y,(Tt=i)&&!h)for(pe=o;pe!==null;)y=pe,i=y.child,y.tag===22&&y.memoizedState!==null?wg(o):i!==null?(i.return=y,pe=i):wg(o);for(;p!==null;)pe=p,e1(p),p=p.sibling;pe=o,sl=u,Tt=h}bg(e)}else o.subtreeFlags&8772&&p!==null?(p.return=o,pe=p):bg(e)}}function bg(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tt||Eu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Tt)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:gr(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var p=t.updateQueue;p!==null&&rg(t,p,n);break;case 3:var y=t.updateQueue;if(y!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}rg(t,y,r)}break;case 5:var u=t.stateNode;if(r===null&&t.flags&4){r=u;var i=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break;case"img":i.src&&(r.src=i.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var a=d.dehydrated;a!==null&&Go(a)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Tt||t.flags&512&&Lh(t)}catch(l){rt(t,t.return,l)}}if(t===e){pe=null;break}if(r=t.sibling,r!==null){r.return=t.return,pe=r;break}pe=t.return}}function xg(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,pe=r;break}pe=t.return}}function wg(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Eu(4,t)}catch(i){rt(t,r,i)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(i){rt(t,o,i)}}var p=t.return;try{Lh(t)}catch(i){rt(t,p,i)}break;case 5:var y=t.return;try{Lh(t)}catch(i){rt(t,y,i)}}}catch(i){rt(t,t.return,i)}if(t===e){pe=null;break}var u=t.sibling;if(u!==null){u.return=t.return,pe=u;break}pe=t.return}}var T_=Math.ceil,ql=en.ReactCurrentDispatcher,od=en.ReactCurrentOwner,ur=en.ReactCurrentBatchConfig,Le=0,gt=null,st=null,xt=0,Ut=0,la=Bn(0),ct=0,is=null,gi=0,Ou=0,sd=0,$o=null,Rt=null,ld=0,Ba=1/0,Ur=null,Ql=!1,$h=null,kn=null,ll=!1,_n=null,Jl=0,No=0,Nh=null,El=-1,Ol=0;function Pt(){return Le&6?at():El!==-1?El:El=at()}function An(e){return e.mode&1?Le&2&&xt!==0?xt&-xt:l_.transition!==null?(Ol===0&&(Ol=I0()),Ol):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:W0(e.type)),e):1}function _r(e,t,r,n){if(50<No)throw No=0,Nh=null,Error(ae(185));Cs(e,r,n),(!(Le&2)||e!==gt)&&(e===gt&&(!(Le&2)&&(Ou|=r),ct===4&&dn(e,xt)),It(e,n),r===1&&Le===0&&!(t.mode&1)&&(Ba=at()+500,Su&&Hn()))}function It(e,t){var r=e.callbackNode;lw(e,t);var n=Ll(e,e===gt?xt:0);if(n===0)r!==null&&Ap(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ap(r),t===1)e.tag===0?s_(_g.bind(null,e)):uy(_g.bind(null,e)),n_(function(){!(Le&6)&&Hn()}),r=null;else{switch($0(n)){case 1:r=Ff;break;case 4:r=L0;break;case 16:r=Fl;break;case 536870912:r=j0;break;default:r=Fl}r=l1(r,t1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function t1(e,t){if(El=-1,Ol=0,Le&6)throw Error(ae(327));var r=e.callbackNode;if(ma()&&e.callbackNode!==r)return null;var n=Ll(e,e===gt?xt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Zl(e,n);else{t=n;var o=Le;Le|=2;var p=n1();(gt!==e||xt!==t)&&(Ur=null,Ba=at()+500,ci(e,t));do try{P_();break}catch(u){r1(e,u)}while(!0);Gf(),ql.current=p,Le=o,st!==null?t=0:(gt=null,xt=0,t=ct)}if(t!==0){if(t===2&&(o=fh(e),o!==0&&(n=o,t=Bh(e,o))),t===1)throw r=is,ci(e,0),dn(e,n),It(e,at()),r;if(t===6)dn(e,n);else{if(o=e.current.alternate,!(n&30)&&!E_(o)&&(t=Zl(e,n),t===2&&(p=fh(e),p!==0&&(n=p,t=Bh(e,p))),t===1))throw r=is,ci(e,0),dn(e,n),It(e,at()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(ae(345));case 2:Gn(e,Rt,Ur);break;case 3:if(dn(e,n),(n&130023424)===n&&(t=ld+500-at(),10<t)){if(Ll(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Pt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=xh(Gn.bind(null,e,Rt,Ur),t);break}Gn(e,Rt,Ur);break;case 4:if(dn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var y=31-wr(n);p=1<<y,y=t[y],y>o&&(o=y),n&=~p}if(n=o,n=at()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*T_(n/1960))-n,10<n){e.timeoutHandle=xh(Gn.bind(null,e,Rt,Ur),n);break}Gn(e,Rt,Ur);break;case 5:Gn(e,Rt,Ur);break;default:throw Error(ae(329))}}}return It(e,at()),e.callbackNode===r?t1.bind(null,e):null}function Bh(e,t){var r=$o;return e.current.memoizedState.isDehydrated&&(ci(e,t).flags|=256),e=Zl(e,t),e!==2&&(t=Rt,Rt=r,t!==null&&Hh(t)),e}function Hh(e){Rt===null?Rt=e:Rt.push.apply(Rt,e)}function E_(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],p=o.getSnapshot;o=o.value;try{if(!Sr(p(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dn(e,t){for(t&=~sd,t&=~Ou,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wr(t),n=1<<r;e[r]=-1,t&=~n}}function _g(e){if(Le&6)throw Error(ae(327));ma();var t=Ll(e,0);if(!(t&1))return It(e,at()),null;var r=Zl(e,t);if(e.tag!==0&&r===2){var n=fh(e);n!==0&&(t=n,r=Bh(e,n))}if(r===1)throw r=is,ci(e,0),dn(e,t),It(e,at()),r;if(r===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gn(e,Rt,Ur),It(e,at()),null}function ud(e,t){var r=Le;Le|=1;try{return e(t)}finally{Le=r,Le===0&&(Ba=at()+500,Su&&Hn())}}function vi(e){_n!==null&&_n.tag===0&&!(Le&6)&&ma();var t=Le;Le|=1;var r=ur.transition,n=Ie;try{if(ur.transition=null,Ie=1,e)return e()}finally{Ie=n,ur.transition=r,Le=t,!(Le&6)&&Hn()}}function cd(){Ut=la.current,Ge(la)}function ci(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,r_(r)),st!==null)for(r=st.return;r!==null;){var n=r;switch(Wf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bl();break;case 3:$a(),Ge(Lt),Ge(Et),Zf();break;case 5:Jf(n);break;case 4:$a();break;case 13:Ge(Je);break;case 19:Ge(Je);break;case 10:Vf(n.type._context);break;case 22:case 23:cd()}r=r.return}if(gt=e,st=e=Mn(e.current,null),xt=Ut=t,ct=0,is=null,sd=Ou=gi=0,Rt=$o=null,Qn!==null){for(t=0;t<Qn.length;t++)if(r=Qn[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,p=r.pending;if(p!==null){var y=p.next;p.next=o,n.next=y}r.pending=n}Qn=null}return e}function r1(e,t){do{var r=st;try{if(Gf(),Sl.current=Kl,Vl){for(var n=Ze.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Vl=!1}if(pi=0,pt=ut=Ze=null,jo=!1,ts=0,od.current=null,r===null||r.return===null){ct=1,is=t,st=null;break}e:{var p=e,y=r.return,u=r,i=t;if(t=xt,u.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){var h=i,d=u,a=d.tag;if(!(d.mode&1)&&(a===0||a===11||a===15)){var l=d.alternate;l?(d.updateQueue=l.updateQueue,d.memoizedState=l.memoizedState,d.lanes=l.lanes):(d.updateQueue=null,d.memoizedState=null)}var s=ug(y);if(s!==null){s.flags&=-257,cg(s,y,u,p,t),s.mode&1&&lg(p,h,t),t=s,i=h;var f=t.updateQueue;if(f===null){var v=new Set;v.add(i),t.updateQueue=v}else f.add(i);break e}else{if(!(t&1)){lg(p,h,t),hd();break e}i=Error(ae(426))}}else if(qe&&u.mode&1){var c=ug(y);if(c!==null){!(c.flags&65536)&&(c.flags|=256),cg(c,y,u,p,t),Xf(Na(i,u));break e}}p=i=Na(i,u),ct!==4&&(ct=2),$o===null?$o=[p]:$o.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,t&=-t,p.lanes|=t;var g=Ny(p,i,t);tg(p,g);break e;case 1:u=i;var m=p.type,b=p.stateNode;if(!(p.flags&128)&&(typeof m.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(kn===null||!kn.has(b)))){p.flags|=65536,t&=-t,p.lanes|=t;var x=By(p,u,t);tg(p,x);break e}}p=p.return}while(p!==null)}a1(r)}catch(w){t=w,st===r&&r!==null&&(st=r=r.return);continue}break}while(!0)}function n1(){var e=ql.current;return ql.current=Kl,e===null?Kl:e}function hd(){(ct===0||ct===3||ct===2)&&(ct=4),gt===null||!(gi&268435455)&&!(Ou&268435455)||dn(gt,xt)}function Zl(e,t){var r=Le;Le|=2;var n=n1();(gt!==e||xt!==t)&&(Ur=null,ci(e,t));do try{O_();break}catch(o){r1(e,o)}while(!0);if(Gf(),Le=r,ql.current=n,st!==null)throw Error(ae(261));return gt=null,xt=0,ct}function O_(){for(;st!==null;)i1(st)}function P_(){for(;st!==null&&!Zx();)i1(st)}function i1(e){var t=s1(e.alternate,e,Ut);e.memoizedProps=e.pendingProps,t===null?a1(e):st=t,od.current=null}function a1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=w_(r,t),r!==null){r.flags&=32767,st=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,st=null;return}}else if(r=x_(r,t,Ut),r!==null){st=r;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);ct===0&&(ct=5)}function Gn(e,t,r){var n=Ie,o=ur.transition;try{ur.transition=null,Ie=1,k_(e,t,r,n)}finally{ur.transition=o,Ie=n}return null}function k_(e,t,r,n){do ma();while(_n!==null);if(Le&6)throw Error(ae(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var p=r.lanes|r.childLanes;if(uw(e,p),e===gt&&(st=gt=null,xt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ll||(ll=!0,l1(Fl,function(){return ma(),null})),p=(r.flags&15990)!==0,r.subtreeFlags&15990||p){p=ur.transition,ur.transition=null;var y=Ie;Ie=1;var u=Le;Le|=4,od.current=null,S_(e,r),Zy(r,e),Kw(yh),jl=!!mh,yh=mh=null,e.current=r,C_(r),ew(),Le=u,Ie=y,ur.transition=p}else e.current=r;if(ll&&(ll=!1,_n=e,Jl=o),p=e.pendingLanes,p===0&&(kn=null),nw(r.stateNode),It(e,at()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(Ql)throw Ql=!1,e=$h,$h=null,e;return Jl&1&&e.tag!==0&&ma(),p=e.pendingLanes,p&1?e===Nh?No++:(No=0,Nh=e):No=0,Hn(),null}function ma(){if(_n!==null){var e=$0(Jl),t=ur.transition,r=Ie;try{if(ur.transition=null,Ie=16>e?16:e,_n===null)var n=!1;else{if(e=_n,_n=null,Jl=0,Le&6)throw Error(ae(331));var o=Le;for(Le|=4,pe=e.current;pe!==null;){var p=pe,y=p.child;if(pe.flags&16){var u=p.deletions;if(u!==null){for(var i=0;i<u.length;i++){var h=u[i];for(pe=h;pe!==null;){var d=pe;switch(d.tag){case 0:case 11:case 15:Io(8,d,p)}var a=d.child;if(a!==null)a.return=d,pe=a;else for(;pe!==null;){d=pe;var l=d.sibling,s=d.return;if(qy(d),d===h){pe=null;break}if(l!==null){l.return=s,pe=l;break}pe=s}}}var f=p.alternate;if(f!==null){var v=f.child;if(v!==null){f.child=null;do{var c=v.sibling;v.sibling=null,v=c}while(v!==null)}}pe=p}}if(p.subtreeFlags&2064&&y!==null)y.return=p,pe=y;else e:for(;pe!==null;){if(p=pe,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Io(9,p,p.return)}var g=p.sibling;if(g!==null){g.return=p.return,pe=g;break e}pe=p.return}}var m=e.current;for(pe=m;pe!==null;){y=pe;var b=y.child;if(y.subtreeFlags&2064&&b!==null)b.return=y,pe=b;else e:for(y=m;pe!==null;){if(u=pe,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Eu(9,u)}}catch(w){rt(u,u.return,w)}if(u===y){pe=null;break e}var x=u.sibling;if(x!==null){x.return=u.return,pe=x;break e}pe=u.return}}if(Le=o,Hn(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(yu,e)}catch{}n=!0}return n}finally{Ie=r,ur.transition=t}}return!1}function Sg(e,t,r){t=Na(r,t),t=Ny(e,t,1),e=Pn(e,t,1),t=Pt(),e!==null&&(Cs(e,1,t),It(e,t))}function rt(e,t,r){if(e.tag===3)Sg(e,e,r);else for(;t!==null;){if(t.tag===3){Sg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(kn===null||!kn.has(n))){e=Na(r,e),e=By(t,e,1),t=Pn(t,e,1),e=Pt(),t!==null&&(Cs(t,1,e),It(t,e));break}}t=t.return}}function A_(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Pt(),e.pingedLanes|=e.suspendedLanes&r,gt===e&&(xt&r)===r&&(ct===4||ct===3&&(xt&130023424)===xt&&500>at()-ld?ci(e,0):sd|=r),It(e,t)}function o1(e,t){t===0&&(e.mode&1?(t=Js,Js<<=1,!(Js&130023424)&&(Js=4194304)):t=1);var r=Pt();e=Qr(e,t),e!==null&&(Cs(e,t,r),It(e,r))}function M_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),o1(e,r)}function R_(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ae(314))}n!==null&&n.delete(t),o1(e,r)}var s1;s1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Lt.current)Ft=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ft=!1,b_(e,t,r);Ft=!!(e.flags&131072)}else Ft=!1,qe&&t.flags&1048576&&cy(t,Ul,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Tl(e,t),e=t.pendingProps;var o=La(t,Et.current);va(t,r),o=td(null,t,n,e,o,r);var p=rd();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jt(n)?(p=!0,Hl(t)):p=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,qf(t),o.updater=Cu,t.stateNode=o,o._reactInternals=t,Oh(t,n,e,r),t=Ah(null,t,n,!0,p,r)):(t.tag=0,qe&&p&&Uf(t),Ot(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Tl(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=F_(n),e=gr(n,e),o){case 0:t=kh(null,t,n,e,r);break e;case 1:t=dg(null,t,n,e,r);break e;case 11:t=hg(null,t,n,e,r);break e;case 14:t=fg(null,t,n,gr(n.type,e),r);break e}throw Error(ae(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:gr(n,o),kh(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:gr(n,o),dg(e,t,n,o,r);case 3:e:{if(Wy(t),e===null)throw Error(ae(387));n=t.pendingProps,p=t.memoizedState,o=p.element,py(e,t),Yl(t,n,null,r);var y=t.memoizedState;if(n=y.element,p.isDehydrated)if(p={element:n,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){o=Na(Error(ae(423)),t),t=pg(e,t,n,r,o);break e}else if(n!==o){o=Na(Error(ae(424)),t),t=pg(e,t,n,r,o);break e}else for(Xt=On(t.stateNode.containerInfo.firstChild),Vt=t,qe=!0,br=null,r=yy(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ja(),n===o){t=Jr(e,t,r);break e}Ot(e,t,n,r)}t=t.child}return t;case 5:return by(t),e===null&&Ch(t),n=t.type,o=t.pendingProps,p=e!==null?e.memoizedProps:null,y=o.children,bh(n,o)?y=null:p!==null&&bh(n,p)&&(t.flags|=32),Uy(e,t),Ot(e,t,y,r),t.child;case 6:return e===null&&Ch(t),null;case 13:return Xy(e,t,r);case 4:return Qf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ia(t,null,n,r):Ot(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:gr(n,o),hg(e,t,n,o,r);case 7:return Ot(e,t,t.pendingProps,r),t.child;case 8:return Ot(e,t,t.pendingProps.children,r),t.child;case 12:return Ot(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,p=t.memoizedProps,y=o.value,Ue(Wl,n._currentValue),n._currentValue=y,p!==null)if(Sr(p.value,y)){if(p.children===o.children&&!Lt.current){t=Jr(e,t,r);break e}}else for(p=t.child,p!==null&&(p.return=t);p!==null;){var u=p.dependencies;if(u!==null){y=p.child;for(var i=u.firstContext;i!==null;){if(i.context===n){if(p.tag===1){i=Gr(-1,r&-r),i.tag=2;var h=p.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?i.next=i:(i.next=d.next,d.next=i),h.pending=i}}p.lanes|=r,i=p.alternate,i!==null&&(i.lanes|=r),Th(p.return,r,t),u.lanes|=r;break}i=i.next}}else if(p.tag===10)y=p.type===t.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(ae(341));y.lanes|=r,u=y.alternate,u!==null&&(u.lanes|=r),Th(y,r,t),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===t){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}Ot(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,va(t,r),o=cr(o),n=n(o),t.flags|=1,Ot(e,t,n,r),t.child;case 14:return n=t.type,o=gr(n,t.pendingProps),o=gr(n.type,o),fg(e,t,n,o,r);case 15:return Hy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:gr(n,o),Tl(e,t),t.tag=1,jt(n)?(e=!0,Hl(t)):e=!1,va(t,r),vy(t,n,o),Oh(t,n,o,r),Ah(null,t,n,!0,e,r);case 19:return Yy(e,t,r);case 22:return zy(e,t,r)}throw Error(ae(156,t.tag))};function l1(e,t){return F0(e,t)}function D_(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(e,t,r,n){return new D_(e,t,r,n)}function fd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function F_(e){if(typeof e=="function")return fd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mf)return 11;if(e===Rf)return 14}return 2}function Mn(e,t){var r=e.alternate;return r===null?(r=lr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Pl(e,t,r,n,o,p){var y=2;if(n=e,typeof e=="function")fd(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case Ji:return hi(r.children,o,p,t);case Af:y=8,o|=8;break;case Qc:return e=lr(12,r,t,o|2),e.elementType=Qc,e.lanes=p,e;case Jc:return e=lr(13,r,t,o),e.elementType=Jc,e.lanes=p,e;case Zc:return e=lr(19,r,t,o),e.elementType=Zc,e.lanes=p,e;case m0:return Pu(r,o,p,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case g0:y=10;break e;case v0:y=9;break e;case Mf:y=11;break e;case Rf:y=14;break e;case cn:y=16,n=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=lr(y,r,t,o),t.elementType=e,t.type=n,t.lanes=p,t}function hi(e,t,r,n){return e=lr(7,e,n,t),e.lanes=r,e}function Pu(e,t,r,n){return e=lr(22,e,n,t),e.elementType=m0,e.lanes=r,e.stateNode={isHidden:!1},e}function Ac(e,t,r){return e=lr(6,e,null,t),e.lanes=r,e}function Mc(e,t,r){return t=lr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function L_(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hc(0),this.expirationTimes=hc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hc(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function dd(e,t,r,n,o,p,y,u,i){return e=new L_(e,t,r,u,i),t===1?(t=1,p===!0&&(t|=8)):t=0,p=lr(3,null,null,t),e.current=p,p.stateNode=e,p.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},qf(p),e}function j_(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function u1(e){if(!e)return Fn;e=e._reactInternals;e:{if(xi(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var r=e.type;if(jt(r))return ly(e,r,t)}return t}function c1(e,t,r,n,o,p,y,u,i){return e=dd(r,n,!0,e,o,p,y,u,i),e.context=u1(null),r=e.current,n=Pt(),o=An(r),p=Gr(n,o),p.callback=t??null,Pn(r,p,o),e.current.lanes=o,Cs(e,o,n),It(e,n),e}function ku(e,t,r,n){var o=t.current,p=Pt(),y=An(o);return r=u1(r),t.context===null?t.context=r:t.pendingContext=r,t=Gr(p,y),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Pn(o,t,y),e!==null&&(_r(e,o,y,p),_l(e,o,y)),y}function eu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function pd(e,t){Cg(e,t),(e=e.alternate)&&Cg(e,t)}function I_(){return null}var h1=typeof reportError=="function"?reportError:function(e){console.error(e)};function gd(e){this._internalRoot=e}Au.prototype.render=gd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));ku(e,t,null,null)};Au.prototype.unmount=gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vi(function(){ku(null,e,null,null)}),t[qr]=null}};function Au(e){this._internalRoot=e}Au.prototype.unstable_scheduleHydration=function(e){if(e){var t=H0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fn.length&&t!==0&&t<fn[r].priority;r++);fn.splice(r,0,e),r===0&&U0(e)}};function vd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tg(){}function $_(e,t,r,n,o){if(o){if(typeof n=="function"){var p=n;n=function(){var h=eu(y);p.call(h)}}var y=c1(t,n,e,0,null,!1,!1,"",Tg);return e._reactRootContainer=y,e[qr]=y.current,qo(e.nodeType===8?e.parentNode:e),vi(),y}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var u=n;n=function(){var h=eu(i);u.call(h)}}var i=dd(e,0,!1,null,null,!1,!1,"",Tg);return e._reactRootContainer=i,e[qr]=i.current,qo(e.nodeType===8?e.parentNode:e),vi(function(){ku(t,i,r,n)}),i}function Ru(e,t,r,n,o){var p=r._reactRootContainer;if(p){var y=p;if(typeof o=="function"){var u=o;o=function(){var i=eu(y);u.call(i)}}ku(t,y,e,o)}else y=$_(r,t,e,o,n);return eu(y)}N0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=To(t.pendingLanes);r!==0&&(Lf(t,r|1),It(t,at()),!(Le&6)&&(Ba=at()+500,Hn()))}break;case 13:vi(function(){var n=Qr(e,1);if(n!==null){var o=Pt();_r(n,e,1,o)}}),pd(e,1)}};jf=function(e){if(e.tag===13){var t=Qr(e,134217728);if(t!==null){var r=Pt();_r(t,e,134217728,r)}pd(e,134217728)}};B0=function(e){if(e.tag===13){var t=An(e),r=Qr(e,t);if(r!==null){var n=Pt();_r(r,e,t,n)}pd(e,t)}};H0=function(){return Ie};z0=function(e,t){var r=Ie;try{return Ie=e,t()}finally{Ie=r}};uh=function(e,t,r){switch(t){case"input":if(rh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=_u(n);if(!o)throw Error(ae(90));b0(n),rh(n,o)}}}break;case"textarea":w0(e,r);break;case"select":t=r.value,t!=null&&fa(e,!!r.multiple,t,!1)}};P0=ud;k0=vi;var N_={usingClientEntryPoint:!1,Events:[Es,ra,_u,E0,O0,ud]},fo={findFiberByHostInstance:qn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},B_={bundleType:fo.bundleType,version:fo.version,rendererPackageName:fo.rendererPackageName,rendererConfig:fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:en.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=R0(e),e===null?null:e.stateNode},findFiberByHostInstance:fo.findFiberByHostInstance||I_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{yu=ul.inject(B_),jr=ul}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N_;Qt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vd(t))throw Error(ae(200));return j_(e,t,null,r)};Qt.createRoot=function(e,t){if(!vd(e))throw Error(ae(299));var r=!1,n="",o=h1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=dd(e,1,!1,null,null,r,!1,n,o),e[qr]=t.current,qo(e.nodeType===8?e.parentNode:e),new gd(t)};Qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=R0(t),e=e===null?null:e.stateNode,e};Qt.flushSync=function(e){return vi(e)};Qt.hydrate=function(e,t,r){if(!Mu(t))throw Error(ae(200));return Ru(null,e,t,!0,r)};Qt.hydrateRoot=function(e,t,r){if(!vd(e))throw Error(ae(405));var n=r!=null&&r.hydratedSources||null,o=!1,p="",y=h1;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(p=r.identifierPrefix),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),t=c1(t,null,e,1,r??null,o,!1,p,y),e[qr]=t.current,qo(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new Au(t)};Qt.render=function(e,t,r){if(!Mu(t))throw Error(ae(200));return Ru(null,e,t,!1,r)};Qt.unmountComponentAtNode=function(e){if(!Mu(e))throw Error(ae(40));return e._reactRootContainer?(vi(function(){Ru(null,null,e,!1,function(){e._reactRootContainer=null,e[qr]=null})}),!0):!1};Qt.unstable_batchedUpdates=ud;Qt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Mu(r))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return Ru(e,t,r,!1,n)};Qt.version="18.2.0-next-9e3b772b8-20220608";function f1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f1)}catch(e){console.error(e)}}f1(),c0.exports=Qt;var Du=c0.exports;const H_=_s(Du),z_=Jm({__proto__:null,default:H_},[Du]);var Eg=Du;Kc.createRoot=Eg.createRoot,Kc.hydrateRoot=Eg.hydrateRoot;/**
 * @remix-run/router v1.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nt(){return nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nt.apply(this,arguments)}var it;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(it||(it={}));const Og="popstate";function U_(e){e===void 0&&(e={});function t(o,p){let{pathname:y="/",search:u="",hash:i=""}=Nr(o.location.hash.substr(1));return!y.startsWith("/")&&!y.startsWith(".")&&(y="/"+y),as("",{pathname:y,search:u,hash:i},p.state&&p.state.usr||null,p.state&&p.state.key||"default")}function r(o,p){let y=o.document.querySelector("base"),u="";if(y&&y.getAttribute("href")){let i=o.location.href,h=i.indexOf("#");u=h===-1?i:i.slice(0,h)}return u+"#"+(typeof p=="string"?p:mi(p))}function n(o,p){Ln(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(p)+")")}return X_(t,r,n,e)}function Pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ln(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function W_(){return Math.random().toString(36).substr(2,8)}function Pg(e,t){return{usr:e.state,key:e.key,idx:t}}function as(e,t,r,n){return r===void 0&&(r=null),nt({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Nr(t):t,{state:r,key:t&&t.key||n||W_()})}function mi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Nr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function X_(e,t,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:p=!1}=n,y=o.history,u=it.Pop,i=null,h=d();h==null&&(h=0,y.replaceState(nt({},y.state,{idx:h}),""));function d(){return(y.state||{idx:null}).idx}function a(){u=it.Pop;let c=d(),g=c==null?null:c-h;h=c,i&&i({action:u,location:v.location,delta:g})}function l(c,g){u=it.Push;let m=as(v.location,c,g);r&&r(m,c),h=d()+1;let b=Pg(m,h),x=v.createHref(m);try{y.pushState(b,"",x)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;o.location.assign(x)}p&&i&&i({action:u,location:v.location,delta:1})}function s(c,g){u=it.Replace;let m=as(v.location,c,g);r&&r(m,c),h=d();let b=Pg(m,h),x=v.createHref(m);y.replaceState(b,"",x),p&&i&&i({action:u,location:v.location,delta:0})}function f(c){let g=o.location.origin!=="null"?o.location.origin:o.location.href,m=typeof c=="string"?c:mi(c);return Pe(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let v={get action(){return u},get location(){return e(o,y)},listen(c){if(i)throw new Error("A history only accepts one active listener");return o.addEventListener(Og,a),i=c,()=>{o.removeEventListener(Og,a),i=null}},createHref(c){return t(o,c)},createURL:f,encodeLocation(c){let g=f(c);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:l,replace:s,go(c){return y.go(c)}};return v}var tt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(tt||(tt={}));const Y_=new Set(["lazy","caseSensitive","path","id","index","children"]);function G_(e){return e.index===!0}function zh(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((o,p)=>{let y=[...r,p],u=typeof o.id=="string"?o.id:y.join("-");if(Pe(o.index!==!0||!o.children,"Cannot specify children on an index route"),Pe(!n[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),G_(o)){let i=nt({},o,t(o),{id:u});return n[u]=i,i}else{let i=nt({},o,t(o),{id:u,children:void 0});return n[u]=i,o.children&&(i.children=zh(o.children,t,y,n)),i}})}function ua(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?Nr(t):t,o=jn(n.pathname||"/",r);if(o==null)return null;let p=d1(e);K_(p);let y=null;for(let u=0;y==null&&u<p.length;++u)y=iS(p[u],oS(o));return y}function V_(e,t){let{route:r,pathname:n,params:o}=e;return{id:r.id,pathname:n,params:o,data:t[r.id],handle:r.handle}}function d1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let o=(p,y,u)=>{let i={relativePath:u===void 0?p.path||"":u,caseSensitive:p.caseSensitive===!0,childrenIndex:y,route:p};i.relativePath.startsWith("/")&&(Pe(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),i.relativePath=i.relativePath.slice(n.length));let h=Vr([n,i.relativePath]),d=r.concat(i);p.children&&p.children.length>0&&(Pe(p.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),d1(p.children,t,d,h)),!(p.path==null&&!p.index)&&t.push({path:h,score:rS(h,p.index),routesMeta:d})};return e.forEach((p,y)=>{var u;if(p.path===""||!((u=p.path)!=null&&u.includes("?")))o(p,y);else for(let i of p1(p.path))o(p,y,i)}),t}function p1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),p=r.replace(/\?$/,"");if(n.length===0)return o?[p,""]:[p];let y=p1(n.join("/")),u=[];return u.push(...y.map(i=>i===""?p:[p,i].join("/"))),o&&u.push(...y),u.map(i=>e.startsWith("/")&&i===""?"/":i)}function K_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:nS(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const q_=/^:\w+$/,Q_=3,J_=2,Z_=1,eS=10,tS=-2,kg=e=>e==="*";function rS(e,t){let r=e.split("/"),n=r.length;return r.some(kg)&&(n+=tS),t&&(n+=J_),r.filter(o=>!kg(o)).reduce((o,p)=>o+(q_.test(p)?Q_:p===""?Z_:eS),n)}function nS(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function iS(e,t){let{routesMeta:r}=e,n={},o="/",p=[];for(let y=0;y<r.length;++y){let u=r[y],i=y===r.length-1,h=o==="/"?t:t.slice(o.length)||"/",d=Uh({path:u.relativePath,caseSensitive:u.caseSensitive,end:i},h);if(!d)return null;Object.assign(n,d.params);let a=u.route;p.push({params:n,pathname:Vr([o,d.pathname]),pathnameBase:cS(Vr([o,d.pathnameBase])),route:a}),d.pathnameBase!=="/"&&(o=Vr([o,d.pathnameBase]))}return p}function Uh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=aS(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let p=o[0],y=p.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:n.reduce((h,d,a)=>{let{paramName:l,isOptional:s}=d;if(l==="*"){let v=u[a]||"";y=p.slice(0,p.length-v.length).replace(/(.)\/+$/,"$1")}const f=u[a];return s&&!f?h[l]=void 0:h[l]=sS(f||"",l),h},{}),pathname:p,pathnameBase:y,pattern:e}}function aS(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ln(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(y,u,i)=>(n.push({paramName:u,isOptional:i!=null}),i?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function oS(e){try{return decodeURI(e)}catch(t){return Ln(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function sS(e,t){try{return decodeURIComponent(e)}catch(r){return Ln(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function jn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function lS(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?Nr(e):e;return{pathname:r?r.startsWith("/")?r:uS(r,t):t,search:hS(n),hash:fS(o)}}function uS(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Rc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function g1(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function md(e,t){let r=g1(e);return t?r.map((n,o)=>o===e.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function yd(e,t,r,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=Nr(e):(o=nt({},e),Pe(!o.pathname||!o.pathname.includes("?"),Rc("?","pathname","search",o)),Pe(!o.pathname||!o.pathname.includes("#"),Rc("#","pathname","hash",o)),Pe(!o.search||!o.search.includes("#"),Rc("#","search","hash",o)));let p=e===""||o.pathname==="",y=p?"/":o.pathname,u;if(y==null)u=r;else{let a=t.length-1;if(!n&&y.startsWith("..")){let l=y.split("/");for(;l[0]==="..";)l.shift(),a-=1;o.pathname=l.join("/")}u=a>=0?t[a]:"/"}let i=lS(o,u),h=y&&y!=="/"&&y.endsWith("/"),d=(p||y===".")&&r.endsWith("/");return!i.pathname.endsWith("/")&&(h||d)&&(i.pathname+="/"),i}const Vr=e=>e.join("/").replace(/\/\/+/g,"/"),cS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),hS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class bd{constructor(t,r,n,o){o===void 0&&(o=!1),this.status=t,this.statusText=r||"",this.internal=o,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function v1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const m1=["post","put","patch","delete"],dS=new Set(m1),pS=["get",...m1],gS=new Set(pS),vS=new Set([301,302,303,307,308]),mS=new Set([307,308]),Dc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},po={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},y1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bS=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),b1="remix-router-transitions";function xS(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!r;Pe(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(e.mapRouteProperties)o=e.mapRouteProperties;else if(e.detectErrorBoundary){let I=e.detectErrorBoundary;o=z=>({hasErrorBoundary:I(z)})}else o=bS;let p={},y=zh(e.routes,o,void 0,p),u,i=e.basename||"/",h=nt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},e.future),d=null,a=new Set,l=null,s=null,f=null,v=e.hydrationData!=null,c=ua(y,e.history.location,i),g=null;if(c==null){let I=nr(404,{pathname:e.history.location.pathname}),{matches:z,route:Q}=Ig(y);c=z,g={[Q.id]:I}}let m,b=c.some(I=>I.route.lazy),x=c.some(I=>I.route.loader);if(b)m=!1;else if(!x)m=!0;else if(h.v7_partialHydration){let I=e.hydrationData?e.hydrationData.loaderData:null,z=e.hydrationData?e.hydrationData.errors:null;m=c.every(Q=>Q.route.loader&&Q.route.loader.hydrate!==!0&&(I&&I[Q.route.id]!==void 0||z&&z[Q.route.id]!==void 0))}else m=e.hydrationData!=null;let w,_={historyAction:e.history.action,location:e.history.location,matches:c,initialized:m,navigation:Dc,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||g,fetchers:new Map,blockers:new Map},S=it.Pop,E=!1,R,N=!1,K=new Map,re=null,ie=!1,ne=!1,oe=[],de=[],le=new Map,Y=0,C=-1,P=new Map,A=new Set,M=new Map,H=new Map,k=new Set,T=new Map,D=new Map,j=!1;function G(){if(d=e.history.listen(I=>{let{action:z,location:Q,delta:he}=I;if(j){j=!1;return}Ln(D.size===0||he!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ye=zs({currentLocation:_.location,nextLocation:Q,historyAction:z});if(ye&&he!=null){j=!0,e.history.go(he*-1),Pi(ye,{state:"blocked",location:Q,proceed(){Pi(ye,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),e.history.go(he)},reset(){let ke=new Map(_.blockers);ke.set(ye,po),ee({blockers:ke})}});return}return V(z,Q)}),r){MS(t,K);let I=()=>RS(t,K);t.addEventListener("pagehide",I),re=()=>t.removeEventListener("pagehide",I)}return _.initialized||V(it.Pop,_.location,{initialHydration:!0}),w}function U(){d&&d(),re&&re(),a.clear(),R&&R.abort(),_.fetchers.forEach((I,z)=>Fe(z)),_.blockers.forEach((I,z)=>io(z))}function Z(I){return a.add(I),()=>a.delete(I)}function ee(I,z){z===void 0&&(z={}),_=nt({},_,I);let Q=[],he=[];h.v7_fetcherPersist&&_.fetchers.forEach((ye,ke)=>{ye.state==="idle"&&(k.has(ke)?he.push(ke):Q.push(ke))}),[...a].forEach(ye=>ye(_,{deletedFetchers:he,unstable_viewTransitionOpts:z.viewTransitionOpts,unstable_flushSync:z.flushSync===!0})),h.v7_fetcherPersist&&(Q.forEach(ye=>_.fetchers.delete(ye)),he.forEach(ye=>Fe(ye)))}function se(I,z,Q){var he,ye;let{flushSync:ke}=Q===void 0?{}:Q,Ce=_.actionData!=null&&_.navigation.formMethod!=null&&yr(_.navigation.formMethod)&&_.navigation.state==="loading"&&((he=I.state)==null?void 0:he._isRedirect)!==!0,_e;z.actionData?Object.keys(z.actionData).length>0?_e=z.actionData:_e=null:Ce?_e=_.actionData:_e=null;let xe=z.loaderData?jg(_.loaderData,z.loaderData,z.matches||[],z.errors):_.loaderData,Re=_.blockers;Re.size>0&&(Re=new Map(Re),Re.forEach((Be,mt)=>Re.set(mt,po)));let ht=E===!0||_.navigation.formMethod!=null&&yr(_.navigation.formMethod)&&((ye=I.state)==null?void 0:ye._isRedirect)!==!0;u&&(y=u,u=void 0),ie||S===it.Pop||(S===it.Push?e.history.push(I,I.state):S===it.Replace&&e.history.replace(I,I.state));let Oe;if(S===it.Pop){let Be=K.get(_.location.pathname);Be&&Be.has(I.pathname)?Oe={currentLocation:_.location,nextLocation:I}:K.has(I.pathname)&&(Oe={currentLocation:I,nextLocation:_.location})}else if(N){let Be=K.get(_.location.pathname);Be?Be.add(I.pathname):(Be=new Set([I.pathname]),K.set(_.location.pathname,Be)),Oe={currentLocation:_.location,nextLocation:I}}ee(nt({},z,{actionData:_e,loaderData:xe,historyAction:S,location:I,initialized:!0,navigation:Dc,revalidation:"idle",restoreScrollPosition:mp(I,z.matches||_.matches),preventScrollReset:ht,blockers:Re}),{viewTransitionOpts:Oe,flushSync:ke===!0}),S=it.Pop,E=!1,N=!1,ie=!1,ne=!1,oe=[],de=[]}async function W(I,z){if(typeof I=="number"){e.history.go(I);return}let Q=Wh(_.location,_.matches,i,h.v7_prependBasename,I,h.v7_relativeSplatPath,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:he,submission:ye,error:ke}=Ag(h.v7_normalizeFormMethod,!1,Q,z),Ce=_.location,_e=as(_.location,he,z&&z.state);_e=nt({},_e,e.history.encodeLocation(_e));let xe=z&&z.replace!=null?z.replace:void 0,Re=it.Push;xe===!0?Re=it.Replace:xe===!1||ye!=null&&yr(ye.formMethod)&&ye.formAction===_.location.pathname+_.location.search&&(Re=it.Replace);let ht=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,Oe=(z&&z.unstable_flushSync)===!0,Be=zs({currentLocation:Ce,nextLocation:_e,historyAction:Re});if(Be){Pi(Be,{state:"blocked",location:_e,proceed(){Pi(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),W(I,z)},reset(){let mt=new Map(_.blockers);mt.set(Be,po),ee({blockers:mt})}});return}return await V(Re,_e,{submission:ye,pendingError:ke,preventScrollReset:ht,replace:z&&z.replace,enableViewTransition:z&&z.unstable_viewTransition,flushSync:Oe})}function $(){if(me(),ee({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){V(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}V(S||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation})}}async function V(I,z,Q){R&&R.abort(),R=null,S=I,ie=(Q&&Q.startUninterruptedRevalidation)===!0,fx(_.location,_.matches),E=(Q&&Q.preventScrollReset)===!0,N=(Q&&Q.enableViewTransition)===!0;let he=u||y,ye=Q&&Q.overrideNavigation,ke=ua(he,z,i),Ce=(Q&&Q.flushSync)===!0;if(!ke){let mt=nr(404,{pathname:z.pathname}),{matches:Zt,route:ft}=Ig(he);ec(),se(z,{matches:Zt,loaderData:{},errors:{[ft.id]:mt}},{flushSync:Ce});return}if(_.initialized&&!ne&&TS(_.location,z)&&!(Q&&Q.submission&&yr(Q.submission.formMethod))){se(z,{matches:ke},{flushSync:Ce});return}R=new AbortController;let _e=vo(e.history,z,R.signal,Q&&Q.submission),xe,Re;if(Q&&Q.pendingError)Re={[Bo(ke).route.id]:Q.pendingError};else if(Q&&Q.submission&&yr(Q.submission.formMethod)){let mt=await J(_e,z,Q.submission,ke,{replace:Q.replace,flushSync:Ce});if(mt.shortCircuited)return;xe=mt.pendingActionData,Re=mt.pendingActionError,ye=Fc(z,Q.submission),Ce=!1,_e=new Request(_e.url,{signal:_e.signal})}let{shortCircuited:ht,loaderData:Oe,errors:Be}=await X(_e,z,ke,ye,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Ce,xe,Re);ht||(R=null,se(z,nt({matches:ke},xe?{actionData:xe}:{},{loaderData:Oe,errors:Be})))}async function J(I,z,Q,he,ye){ye===void 0&&(ye={}),me();let ke=kS(z,Q);ee({navigation:ke},{flushSync:ye.flushSync===!0});let Ce,_e=Yh(he,z);if(!_e.route.action&&!_e.route.lazy)Ce={type:tt.error,error:nr(405,{method:I.method,pathname:z.pathname,routeId:_e.route.id})};else if(Ce=await go("action",I,_e,he,p,o,i,h.v7_relativeSplatPath),I.signal.aborted)return{shortCircuited:!0};if(ei(Ce)){let xe;return ye&&ye.replace!=null?xe=ye.replace:xe=Ce.location===_.location.pathname+_.location.search,await ge(_,Ce,{submission:Q,replace:xe}),{shortCircuited:!0}}if(ca(Ce)){let xe=Bo(he,_e.route.id);return(ye&&ye.replace)!==!0&&(S=it.Push),{pendingActionData:{},pendingActionError:{[xe.route.id]:Ce.error}}}if(Zn(Ce))throw nr(400,{type:"defer-action"});return{pendingActionData:{[_e.route.id]:Ce.data}}}async function X(I,z,Q,he,ye,ke,Ce,_e,xe,Re,ht){let Oe=he||Fc(z,ye),Be=ye||ke||Bg(Oe),mt=u||y,[Zt,ft]=Mg(e.history,_,Q,Be,z,h.v7_partialHydration&&_e===!0,ne,oe,de,k,M,A,mt,i,Re,ht);if(ec(Ne=>!(Q&&Q.some(Ve=>Ve.route.id===Ne))||Zt&&Zt.some(Ve=>Ve.route.id===Ne)),C=++Y,Zt.length===0&&ft.length===0){let Ne=an();return se(z,nt({matches:Q,loaderData:{},errors:ht||null},Re?{actionData:Re}:{},Ne?{fetchers:new Map(_.fetchers)}:{}),{flushSync:xe}),{shortCircuited:!0}}if(!ie&&(!h.v7_partialHydration||!_e)){ft.forEach(Ve=>{let Or=_.fetchers.get(Ve.key),Ws=mo(void 0,Or?Or.data:void 0);_.fetchers.set(Ve.key,Ws)});let Ne=Re||_.actionData;ee(nt({navigation:Oe},Ne?Object.keys(Ne).length===0?{actionData:null}:{actionData:Ne}:{},ft.length>0?{fetchers:new Map(_.fetchers)}:{}),{flushSync:xe})}ft.forEach(Ne=>{le.has(Ne.key)&&je(Ne.key),Ne.controller&&le.set(Ne.key,Ne.controller)});let ki=()=>ft.forEach(Ne=>je(Ne.key));R&&R.signal.addEventListener("abort",ki);let{results:tc,loaderResults:Ai,fetcherResults:on}=await q(_.matches,Q,Zt,ft,I);if(I.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",ki),ft.forEach(Ne=>le.delete(Ne.key));let Xn=$g(tc);if(Xn){if(Xn.idx>=Zt.length){let Ne=ft[Xn.idx-Zt.length].key;A.add(Ne)}return await ge(_,Xn.result,{replace:Ce}),{shortCircuited:!0}}let{loaderData:rc,errors:nc}=Lg(_,Q,Zt,Ai,ht,ft,on,T);T.forEach((Ne,Ve)=>{Ne.subscribe(Or=>{(Or||Ne.done)&&T.delete(Ve)})});let ic=an(),Mi=Bt(C),Us=ic||Mi||ft.length>0;return nt({loaderData:rc,errors:nc},Us?{fetchers:new Map(_.fetchers)}:{})}function te(I,z,Q,he){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");le.has(I)&&je(I);let ye=(he&&he.unstable_flushSync)===!0,ke=u||y,Ce=Wh(_.location,_.matches,i,h.v7_prependBasename,Q,h.v7_relativeSplatPath,z,he==null?void 0:he.relative),_e=ua(ke,Ce,i);if(!_e){Ee(I,z,nr(404,{pathname:Ce}),{flushSync:ye});return}let{path:xe,submission:Re,error:ht}=Ag(h.v7_normalizeFormMethod,!0,Ce,he);if(ht){Ee(I,z,ht,{flushSync:ye});return}let Oe=Yh(_e,xe);if(E=(he&&he.preventScrollReset)===!0,Re&&yr(Re.formMethod)){ue(I,z,xe,Oe,_e,ye,Re);return}M.set(I,{routeId:z,path:xe}),Se(I,z,xe,Oe,_e,ye,Re)}async function ue(I,z,Q,he,ye,ke,Ce){if(me(),M.delete(I),!he.route.action&&!he.route.lazy){let Ve=nr(405,{method:Ce.formMethod,pathname:Q,routeId:z});Ee(I,z,Ve,{flushSync:ke});return}let _e=_.fetchers.get(I);we(I,AS(Ce,_e),{flushSync:ke});let xe=new AbortController,Re=vo(e.history,Q,xe.signal,Ce);le.set(I,xe);let ht=Y,Oe=await go("action",Re,he,ye,p,o,i,h.v7_relativeSplatPath);if(Re.signal.aborted){le.get(I)===xe&&le.delete(I);return}if(h.v7_fetcherPersist&&k.has(I)){if(ei(Oe)||ca(Oe)){we(I,ln(void 0));return}}else{if(ei(Oe))if(le.delete(I),C>ht){we(I,ln(void 0));return}else return A.add(I),we(I,mo(Ce)),ge(_,Oe,{fetcherSubmission:Ce});if(ca(Oe)){Ee(I,z,Oe.error);return}}if(Zn(Oe))throw nr(400,{type:"defer-action"});let Be=_.navigation.location||_.location,mt=vo(e.history,Be,xe.signal),Zt=u||y,ft=_.navigation.state!=="idle"?ua(Zt,_.navigation.location,i):_.matches;Pe(ft,"Didn't find any matches after fetcher action");let ki=++Y;P.set(I,ki);let tc=mo(Ce,Oe.data);_.fetchers.set(I,tc);let[Ai,on]=Mg(e.history,_,ft,Ce,Be,!1,ne,oe,de,k,M,A,Zt,i,{[he.route.id]:Oe.data},void 0);on.filter(Ve=>Ve.key!==I).forEach(Ve=>{let Or=Ve.key,Ws=_.fetchers.get(Or),px=mo(void 0,Ws?Ws.data:void 0);_.fetchers.set(Or,px),le.has(Or)&&je(Or),Ve.controller&&le.set(Or,Ve.controller)}),ee({fetchers:new Map(_.fetchers)});let Xn=()=>on.forEach(Ve=>je(Ve.key));xe.signal.addEventListener("abort",Xn);let{results:rc,loaderResults:nc,fetcherResults:ic}=await q(_.matches,ft,Ai,on,mt);if(xe.signal.aborted)return;xe.signal.removeEventListener("abort",Xn),P.delete(I),le.delete(I),on.forEach(Ve=>le.delete(Ve.key));let Mi=$g(rc);if(Mi){if(Mi.idx>=Ai.length){let Ve=on[Mi.idx-Ai.length].key;A.add(Ve)}return ge(_,Mi.result)}let{loaderData:Us,errors:Ne}=Lg(_,_.matches,Ai,nc,void 0,on,ic,T);if(_.fetchers.has(I)){let Ve=ln(Oe.data);_.fetchers.set(I,Ve)}Bt(ki),_.navigation.state==="loading"&&ki>C?(Pe(S,"Expected pending action"),R&&R.abort(),se(_.navigation.location,{matches:ft,loaderData:Us,errors:Ne,fetchers:new Map(_.fetchers)})):(ee({errors:Ne,loaderData:jg(_.loaderData,Us,ft,Ne),fetchers:new Map(_.fetchers)}),ne=!1)}async function Se(I,z,Q,he,ye,ke,Ce){let _e=_.fetchers.get(I);we(I,mo(Ce,_e?_e.data:void 0),{flushSync:ke});let xe=new AbortController,Re=vo(e.history,Q,xe.signal);le.set(I,xe);let ht=Y,Oe=await go("loader",Re,he,ye,p,o,i,h.v7_relativeSplatPath);if(Zn(Oe)&&(Oe=await _1(Oe,Re.signal,!0)||Oe),le.get(I)===xe&&le.delete(I),!Re.signal.aborted){if(k.has(I)){we(I,ln(void 0));return}if(ei(Oe))if(C>ht){we(I,ln(void 0));return}else{A.add(I),await ge(_,Oe);return}if(ca(Oe)){Ee(I,z,Oe.error);return}Pe(!Zn(Oe),"Unhandled fetcher deferred data"),we(I,ln(Oe.data))}}async function ge(I,z,Q){let{submission:he,fetcherSubmission:ye,replace:ke}=Q===void 0?{}:Q;z.revalidate&&(ne=!0);let Ce=as(I.location,z.location,{_isRedirect:!0});if(Pe(Ce,"Expected a location on the redirect navigation"),r){let Be=!1;if(z.reloadDocument)Be=!0;else if(y1.test(z.location)){const mt=e.history.createURL(z.location);Be=mt.origin!==t.location.origin||jn(mt.pathname,i)==null}if(Be){ke?t.location.replace(z.location):t.location.assign(z.location);return}}R=null;let _e=ke===!0?it.Replace:it.Push,{formMethod:xe,formAction:Re,formEncType:ht}=I.navigation;!he&&!ye&&xe&&Re&&ht&&(he=Bg(I.navigation));let Oe=he||ye;if(mS.has(z.status)&&Oe&&yr(Oe.formMethod))await V(_e,Ce,{submission:nt({},Oe,{formAction:z.location}),preventScrollReset:E});else{let Be=Fc(Ce,he);await V(_e,Ce,{overrideNavigation:Be,fetcherSubmission:ye,preventScrollReset:E})}}async function q(I,z,Q,he,ye){let ke=await Promise.all([...Q.map(xe=>go("loader",ye,xe,z,p,o,i,h.v7_relativeSplatPath)),...he.map(xe=>xe.matches&&xe.match&&xe.controller?go("loader",vo(e.history,xe.path,xe.controller.signal),xe.match,xe.matches,p,o,i,h.v7_relativeSplatPath):{type:tt.error,error:nr(404,{pathname:xe.path})})]),Ce=ke.slice(0,Q.length),_e=ke.slice(Q.length);return await Promise.all([Ng(I,Q,Ce,Ce.map(()=>ye.signal),!1,_.loaderData),Ng(I,he.map(xe=>xe.match),_e,he.map(xe=>xe.controller?xe.controller.signal:null),!0)]),{results:ke,loaderResults:Ce,fetcherResults:_e}}function me(){ne=!0,oe.push(...ec()),M.forEach((I,z)=>{le.has(z)&&(de.push(z),je(z))})}function we(I,z,Q){Q===void 0&&(Q={}),_.fetchers.set(I,z),ee({fetchers:new Map(_.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function Ee(I,z,Q,he){he===void 0&&(he={});let ye=Bo(_.matches,z);Fe(I),ee({errors:{[ye.route.id]:Q},fetchers:new Map(_.fetchers)},{flushSync:(he&&he.flushSync)===!0})}function $e(I){return h.v7_fetcherPersist&&(H.set(I,(H.get(I)||0)+1),k.has(I)&&k.delete(I)),_.fetchers.get(I)||yS}function Fe(I){let z=_.fetchers.get(I);le.has(I)&&!(z&&z.state==="loading"&&P.has(I))&&je(I),M.delete(I),P.delete(I),A.delete(I),k.delete(I),_.fetchers.delete(I)}function vt(I){if(h.v7_fetcherPersist){let z=(H.get(I)||0)-1;z<=0?(H.delete(I),k.add(I)):H.set(I,z)}else Fe(I);ee({fetchers:new Map(_.fetchers)})}function je(I){let z=le.get(I);Pe(z,"Expected fetch controller: "+I),z.abort(),le.delete(I)}function Er(I){for(let z of I){let Q=$e(z),he=ln(Q.data);_.fetchers.set(z,he)}}function an(){let I=[],z=!1;for(let Q of A){let he=_.fetchers.get(Q);Pe(he,"Expected fetcher: "+Q),he.state==="loading"&&(A.delete(Q),I.push(Q),z=!0)}return Er(I),z}function Bt(I){let z=[];for(let[Q,he]of P)if(he<I){let ye=_.fetchers.get(Q);Pe(ye,"Expected fetcher: "+Q),ye.state==="loading"&&(je(Q),P.delete(Q),z.push(Q))}return Er(z),z.length>0}function Zu(I,z){let Q=_.blockers.get(I)||po;return D.get(I)!==z&&D.set(I,z),Q}function io(I){_.blockers.delete(I),D.delete(I)}function Pi(I,z){let Q=_.blockers.get(I)||po;Pe(Q.state==="unblocked"&&z.state==="blocked"||Q.state==="blocked"&&z.state==="blocked"||Q.state==="blocked"&&z.state==="proceeding"||Q.state==="blocked"&&z.state==="unblocked"||Q.state==="proceeding"&&z.state==="unblocked","Invalid blocker state transition: "+Q.state+" -> "+z.state);let he=new Map(_.blockers);he.set(I,z),ee({blockers:he})}function zs(I){let{currentLocation:z,nextLocation:Q,historyAction:he}=I;if(D.size===0)return;D.size>1&&Ln(!1,"A router only supports one blocker at a time");let ye=Array.from(D.entries()),[ke,Ce]=ye[ye.length-1],_e=_.blockers.get(ke);if(!(_e&&_e.state==="proceeding")&&Ce({currentLocation:z,nextLocation:Q,historyAction:he}))return ke}function ec(I){let z=[];return T.forEach((Q,he)=>{(!I||I(he))&&(Q.cancel(),z.push(he),T.delete(he))}),z}function hx(I,z,Q){if(l=I,f=z,s=Q||null,!v&&_.navigation===Dc){v=!0;let he=mp(_.location,_.matches);he!=null&&ee({restoreScrollPosition:he})}return()=>{l=null,f=null,s=null}}function vp(I,z){return s&&s(I,z.map(he=>V_(he,_.loaderData)))||I.key}function fx(I,z){if(l&&f){let Q=vp(I,z);l[Q]=f()}}function mp(I,z){if(l){let Q=vp(I,z),he=l[Q];if(typeof he=="number")return he}return null}function dx(I){p={},u=zh(I,o,void 0,p)}return w={get basename(){return i},get future(){return h},get state(){return _},get routes(){return y},get window(){return t},initialize:G,subscribe:Z,enableScrollRestoration:hx,navigate:W,fetch:te,revalidate:$,createHref:I=>e.history.createHref(I),encodeLocation:I=>e.history.encodeLocation(I),getFetcher:$e,deleteFetcher:vt,dispose:U,getBlocker:Zu,deleteBlocker:io,_internalFetchControllers:le,_internalActiveDeferreds:T,_internalSetRoutes:dx},w}function wS(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Wh(e,t,r,n,o,p,y,u){let i,h;if(y){i=[];for(let a of t)if(i.push(a),a.route.id===y){h=a;break}}else i=t,h=t[t.length-1];let d=yd(o||".",md(i,p),jn(e.pathname,r)||e.pathname,u==="path");return o==null&&(d.search=e.search,d.hash=e.hash),(o==null||o===""||o===".")&&h&&h.route.index&&!xd(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(d.pathname=d.pathname==="/"?r:Vr([r,d.pathname])),mi(d)}function Ag(e,t,r,n){if(!n||!wS(n))return{path:r};if(n.formMethod&&!PS(n.formMethod))return{path:r,error:nr(405,{method:n.formMethod})};let o=()=>({path:r,error:nr(400,{type:"invalid-body"})}),p=n.formMethod||"get",y=e?p.toUpperCase():p.toLowerCase(),u=w1(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!yr(y))return o();let l=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((s,f)=>{let[v,c]=f;return""+s+v+"="+c+`
`},""):String(n.body);return{path:r,submission:{formMethod:y,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:l}}}else if(n.formEncType==="application/json"){if(!yr(y))return o();try{let l=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:y,formAction:u,formEncType:n.formEncType,formData:void 0,json:l,text:void 0}}}catch{return o()}}}Pe(typeof FormData=="function","FormData is not available in this environment");let i,h;if(n.formData)i=Xh(n.formData),h=n.formData;else if(n.body instanceof FormData)i=Xh(n.body),h=n.body;else if(n.body instanceof URLSearchParams)i=n.body,h=Fg(i);else if(n.body==null)i=new URLSearchParams,h=new FormData;else try{i=new URLSearchParams(n.body),h=Fg(i)}catch{return o()}let d={formMethod:y,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(yr(d.formMethod))return{path:r,submission:d};let a=Nr(r);return t&&a.search&&xd(a.search)&&i.append("index",""),a.search="?"+i,{path:mi(a),submission:d}}function _S(e,t){let r=e;if(t){let n=e.findIndex(o=>o.route.id===t);n>=0&&(r=e.slice(0,n))}return r}function Mg(e,t,r,n,o,p,y,u,i,h,d,a,l,s,f,v){let c=v?Object.values(v)[0]:f?Object.values(f)[0]:void 0,g=e.createURL(t.location),m=e.createURL(o),b=v?Object.keys(v)[0]:void 0,w=_S(r,b).filter((S,E)=>{let{route:R}=S;if(R.lazy)return!0;if(R.loader==null)return!1;if(p)return R.loader.hydrate?!0:t.loaderData[R.id]===void 0&&(!t.errors||t.errors[R.id]===void 0);if(SS(t.loaderData,t.matches[E],S)||u.some(re=>re===S.route.id))return!0;let N=t.matches[E],K=S;return Rg(S,nt({currentUrl:g,currentParams:N.params,nextUrl:m,nextParams:K.params},n,{actionResult:c,defaultShouldRevalidate:y||g.pathname+g.search===m.pathname+m.search||g.search!==m.search||x1(N,K)}))}),_=[];return d.forEach((S,E)=>{if(p||!r.some(ie=>ie.route.id===S.routeId)||h.has(E))return;let R=ua(l,S.path,s);if(!R){_.push({key:E,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let N=t.fetchers.get(E),K=Yh(R,S.path),re=!1;a.has(E)?re=!1:i.includes(E)?re=!0:N&&N.state!=="idle"&&N.data===void 0?re=y:re=Rg(K,nt({currentUrl:g,currentParams:t.matches[t.matches.length-1].params,nextUrl:m,nextParams:r[r.length-1].params},n,{actionResult:c,defaultShouldRevalidate:y})),re&&_.push({key:E,routeId:S.routeId,path:S.path,matches:R,match:K,controller:new AbortController})}),[w,_]}function SS(e,t,r){let n=!t||r.route.id!==t.route.id,o=e[r.route.id]===void 0;return n||o}function x1(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Rg(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}async function Dg(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let o=r[e.id];Pe(o,"No route found in manifest");let p={};for(let y in n){let i=o[y]!==void 0&&y!=="hasErrorBoundary";Ln(!i,'Route "'+o.id+'" has a static property "'+y+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+y+'" will be ignored.')),!i&&!Y_.has(y)&&(p[y]=n[y])}Object.assign(o,p),Object.assign(o,nt({},t(o),{lazy:void 0}))}async function go(e,t,r,n,o,p,y,u,i){i===void 0&&(i={});let h,d,a,l=v=>{let c,g=new Promise((m,b)=>c=b);return a=()=>c(),t.signal.addEventListener("abort",a),Promise.race([v({request:t,params:r.params,context:i.requestContext}),g])};try{let v=r.route[e];if(r.route.lazy)if(v){let c,g=await Promise.all([l(v).catch(m=>{c=m}),Dg(r.route,p,o)]);if(c)throw c;d=g[0]}else if(await Dg(r.route,p,o),v=r.route[e],v)d=await l(v);else if(e==="action"){let c=new URL(t.url),g=c.pathname+c.search;throw nr(405,{method:t.method,pathname:g,routeId:r.route.id})}else return{type:tt.data,data:void 0};else if(v)d=await l(v);else{let c=new URL(t.url),g=c.pathname+c.search;throw nr(404,{pathname:g})}Pe(d!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(v){h=tt.error,d=v}finally{a&&t.signal.removeEventListener("abort",a)}if(OS(d)){let v=d.status;if(vS.has(v)){let g=d.headers.get("Location");if(Pe(g,"Redirects returned/thrown from loaders/actions must have a Location header"),!y1.test(g))g=Wh(new URL(t.url),n.slice(0,n.indexOf(r)+1),y,!0,g,u);else if(!i.isStaticRequest){let m=new URL(t.url),b=g.startsWith("//")?new URL(m.protocol+g):new URL(g),x=jn(b.pathname,y)!=null;b.origin===m.origin&&x&&(g=b.pathname+b.search+b.hash)}if(i.isStaticRequest)throw d.headers.set("Location",g),d;return{type:tt.redirect,status:v,location:g,revalidate:d.headers.get("X-Remix-Revalidate")!==null,reloadDocument:d.headers.get("X-Remix-Reload-Document")!==null}}if(i.isRouteRequest)throw{type:h===tt.error?tt.error:tt.data,response:d};let c;try{let g=d.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?c=await d.json():c=await d.text()}catch(g){return{type:tt.error,error:g}}return h===tt.error?{type:h,error:new bd(v,d.statusText,c),headers:d.headers}:{type:tt.data,data:c,statusCode:d.status,headers:d.headers}}if(h===tt.error)return{type:h,error:d};if(ES(d)){var s,f;return{type:tt.deferred,deferredData:d,statusCode:(s=d.init)==null?void 0:s.status,headers:((f=d.init)==null?void 0:f.headers)&&new Headers(d.init.headers)}}return{type:tt.data,data:d}}function vo(e,t,r,n){let o=e.createURL(w1(t)).toString(),p={signal:r};if(n&&yr(n.formMethod)){let{formMethod:y,formEncType:u}=n;p.method=y.toUpperCase(),u==="application/json"?(p.headers=new Headers({"Content-Type":u}),p.body=JSON.stringify(n.json)):u==="text/plain"?p.body=n.text:u==="application/x-www-form-urlencoded"&&n.formData?p.body=Xh(n.formData):p.body=n.formData}return new Request(o,p)}function Xh(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function Fg(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function CS(e,t,r,n,o){let p={},y=null,u,i=!1,h={};return r.forEach((d,a)=>{let l=t[a].route.id;if(Pe(!ei(d),"Cannot handle redirect results in processLoaderData"),ca(d)){let s=Bo(e,l),f=d.error;n&&(f=Object.values(n)[0],n=void 0),y=y||{},y[s.route.id]==null&&(y[s.route.id]=f),p[l]=void 0,i||(i=!0,u=v1(d.error)?d.error.status:500),d.headers&&(h[l]=d.headers)}else Zn(d)?(o.set(l,d.deferredData),p[l]=d.deferredData.data):p[l]=d.data,d.statusCode!=null&&d.statusCode!==200&&!i&&(u=d.statusCode),d.headers&&(h[l]=d.headers)}),n&&(y=n,p[Object.keys(n)[0]]=void 0),{loaderData:p,errors:y,statusCode:u||200,loaderHeaders:h}}function Lg(e,t,r,n,o,p,y,u){let{loaderData:i,errors:h}=CS(t,r,n,o,u);for(let d=0;d<p.length;d++){let{key:a,match:l,controller:s}=p[d];Pe(y!==void 0&&y[d]!==void 0,"Did not find corresponding fetcher result");let f=y[d];if(!(s&&s.signal.aborted))if(ca(f)){let v=Bo(e.matches,l==null?void 0:l.route.id);h&&h[v.route.id]||(h=nt({},h,{[v.route.id]:f.error})),e.fetchers.delete(a)}else if(ei(f))Pe(!1,"Unhandled fetcher revalidation redirect");else if(Zn(f))Pe(!1,"Unhandled fetcher deferred data");else{let v=ln(f.data);e.fetchers.set(a,v)}}return{loaderData:i,errors:h}}function jg(e,t,r,n){let o=nt({},t);for(let p of r){let y=p.route.id;if(t.hasOwnProperty(y)?t[y]!==void 0&&(o[y]=t[y]):e[y]!==void 0&&p.route.loader&&(o[y]=e[y]),n&&n.hasOwnProperty(y))break}return o}function Bo(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Ig(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function nr(e,t){let{pathname:r,routeId:n,method:o,type:p}=t===void 0?{}:t,y="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(y="Bad Request",o&&r&&n?u="You made a "+o+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":p==="defer-action"?u="defer() is not supported in actions":p==="invalid-body"&&(u="Unable to encode submission body")):e===403?(y="Forbidden",u='Route "'+n+'" does not match URL "'+r+'"'):e===404?(y="Not Found",u='No route matches URL "'+r+'"'):e===405&&(y="Method Not Allowed",o&&r&&n?u="You made a "+o.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":o&&(u='Invalid request method "'+o.toUpperCase()+'"')),new bd(e||500,y,new Error(u),!0)}function $g(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(ei(r))return{result:r,idx:t}}}function w1(e){let t=typeof e=="string"?Nr(e):e;return mi(nt({},t,{hash:""}))}function TS(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Zn(e){return e.type===tt.deferred}function ca(e){return e.type===tt.error}function ei(e){return(e&&e.type)===tt.redirect}function ES(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function OS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function PS(e){return gS.has(e.toLowerCase())}function yr(e){return dS.has(e.toLowerCase())}async function Ng(e,t,r,n,o,p){for(let y=0;y<r.length;y++){let u=r[y],i=t[y];if(!i)continue;let h=e.find(a=>a.route.id===i.route.id),d=h!=null&&!x1(h,i)&&(p&&p[i.route.id])!==void 0;if(Zn(u)&&(o||d)){let a=n[y];Pe(a,"Expected an AbortSignal for revalidating fetcher deferred result"),await _1(u,a,o).then(l=>{l&&(r[y]=l||r[y])})}}}async function _1(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:tt.data,data:e.deferredData.unwrappedData}}catch(o){return{type:tt.error,error:o}}return{type:tt.data,data:e.deferredData.data}}}function xd(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Yh(e,t){let r=typeof t=="string"?Nr(t).search:t.search;if(e[e.length-1].route.index&&xd(r||""))return e[e.length-1];let n=g1(e);return n[n.length-1]}function Bg(e){let{formMethod:t,formAction:r,formEncType:n,text:o,formData:p,json:y}=e;if(!(!t||!r||!n)){if(o!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:o};if(p!=null)return{formMethod:t,formAction:r,formEncType:n,formData:p,json:void 0,text:void 0};if(y!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:y,text:void 0}}}function Fc(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function kS(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function mo(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function AS(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function ln(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function MS(e,t){try{let r=e.sessionStorage.getItem(b1);if(r){let n=JSON.parse(r);for(let[o,p]of Object.entries(n||{}))p&&Array.isArray(p)&&t.set(o,new Set(p||[]))}}catch{}}function RS(e,t){if(t.size>0){let r={};for(let[n,o]of t)r[n]=[...o];try{e.sessionStorage.setItem(b1,JSON.stringify(r))}catch(n){Ln(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},os.apply(this,arguments)}const Ps=B.createContext(null),wd=B.createContext(null),zn=B.createContext(null),Fu=B.createContext(null),Un=B.createContext({outlet:null,matches:[],isDataRoute:!1}),S1=B.createContext(null);function DS(e,t){let{relative:r}=t===void 0?{}:t;ks()||Pe(!1);let{basename:n,navigator:o}=B.useContext(zn),{hash:p,pathname:y,search:u}=Lu(e,{relative:r}),i=y;return n!=="/"&&(i=y==="/"?n:Vr([n,y])),o.createHref({pathname:i,search:u,hash:p})}function ks(){return B.useContext(Fu)!=null}function Ya(){return ks()||Pe(!1),B.useContext(Fu).location}function C1(e){B.useContext(zn).static||B.useLayoutEffect(e)}function T1(){let{isDataRoute:e}=B.useContext(Un);return e?GS():FS()}function FS(){ks()||Pe(!1);let e=B.useContext(Ps),{basename:t,future:r,navigator:n}=B.useContext(zn),{matches:o}=B.useContext(Un),{pathname:p}=Ya(),y=JSON.stringify(md(o,r.v7_relativeSplatPath)),u=B.useRef(!1);return C1(()=>{u.current=!0}),B.useCallback(function(h,d){if(d===void 0&&(d={}),!u.current)return;if(typeof h=="number"){n.go(h);return}let a=yd(h,JSON.parse(y),p,d.relative==="path");e==null&&t!=="/"&&(a.pathname=a.pathname==="/"?t:Vr([t,a.pathname])),(d.replace?n.replace:n.push)(a,d.state,d)},[t,n,y,p,e])}const LS=B.createContext(null);function jS(e){let t=B.useContext(Un).outlet;return t&&B.createElement(LS.Provider,{value:e},t)}function Lu(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=B.useContext(zn),{matches:o}=B.useContext(Un),{pathname:p}=Ya(),y=JSON.stringify(md(o,n.v7_relativeSplatPath));return B.useMemo(()=>yd(e,JSON.parse(y),p,r==="path"),[e,y,p,r])}function IS(e,t,r,n){ks()||Pe(!1);let{navigator:o}=B.useContext(zn),{matches:p}=B.useContext(Un),y=p[p.length-1],u=y?y.params:{};y&&y.pathname;let i=y?y.pathnameBase:"/";y&&y.route;let h=Ya(),d;if(t){var a;let c=typeof t=="string"?Nr(t):t;i==="/"||(a=c.pathname)!=null&&a.startsWith(i)||Pe(!1),d=c}else d=h;let l=d.pathname||"/",s=i==="/"?l:l.slice(i.length)||"/",f=ua(e,{pathname:s}),v=zS(f&&f.map(c=>Object.assign({},c,{params:Object.assign({},u,c.params),pathname:Vr([i,o.encodeLocation?o.encodeLocation(c.pathname).pathname:c.pathname]),pathnameBase:c.pathnameBase==="/"?i:Vr([i,o.encodeLocation?o.encodeLocation(c.pathnameBase).pathname:c.pathnameBase])})),p,r,n);return t&&v?B.createElement(Fu.Provider,{value:{location:os({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:it.Pop}},v):v}function $S(){let e=YS(),t=v1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},p=null;return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),r?B.createElement("pre",{style:o},r):null,p)}const NS=B.createElement($S,null);class BS extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?B.createElement(Un.Provider,{value:this.props.routeContext},B.createElement(S1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HS(e){let{routeContext:t,match:r,children:n}=e,o=B.useContext(Ps);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),B.createElement(Un.Provider,{value:t},n)}function zS(e,t,r,n){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var p;if((p=r)!=null&&p.errors)e=r.matches;else return null}let y=e,u=(o=r)==null?void 0:o.errors;if(u!=null){let d=y.findIndex(a=>a.route.id&&(u==null?void 0:u[a.route.id]));d>=0||Pe(!1),y=y.slice(0,Math.min(y.length,d+1))}let i=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<y.length;d++){let a=y[d];if((a.route.HydrateFallback||a.route.hydrateFallbackElement)&&(h=d),a.route.id){let{loaderData:l,errors:s}=r,f=a.route.loader&&l[a.route.id]===void 0&&(!s||s[a.route.id]===void 0);if(a.route.lazy||f){i=!0,h>=0?y=y.slice(0,h+1):y=[y[0]];break}}}return y.reduceRight((d,a,l)=>{let s,f=!1,v=null,c=null;r&&(s=u&&a.route.id?u[a.route.id]:void 0,v=a.route.errorElement||NS,i&&(h<0&&l===0?(VS("route-fallback",!1),f=!0,c=null):h===l&&(f=!0,c=a.route.hydrateFallbackElement||null)));let g=t.concat(y.slice(0,l+1)),m=()=>{let b;return s?b=v:f?b=c:a.route.Component?b=B.createElement(a.route.Component,null):a.route.element?b=a.route.element:b=d,B.createElement(HS,{match:a,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:b})};return r&&(a.route.ErrorBoundary||a.route.errorElement||l===0)?B.createElement(BS,{location:r.location,revalidation:r.revalidation,component:v,error:s,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var E1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(E1||{}),tu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(tu||{});function US(e){let t=B.useContext(Ps);return t||Pe(!1),t}function WS(e){let t=B.useContext(wd);return t||Pe(!1),t}function XS(e){let t=B.useContext(Un);return t||Pe(!1),t}function O1(e){let t=XS(),r=t.matches[t.matches.length-1];return r.route.id||Pe(!1),r.route.id}function YS(){var e;let t=B.useContext(S1),r=WS(tu.UseRouteError),n=O1(tu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function GS(){let{router:e}=US(E1.UseNavigateStable),t=O1(tu.UseNavigateStable),r=B.useRef(!1);return C1(()=>{r.current=!0}),B.useCallback(function(o,p){p===void 0&&(p={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,os({fromRouteId:t},p)))},[e,t])}const Hg={};function VS(e,t,r){!t&&!Hg[e]&&(Hg[e]=!0)}function KS(e){return jS(e.context)}function qS(e){let{basename:t="/",children:r=null,location:n,navigationType:o=it.Pop,navigator:p,static:y=!1,future:u}=e;ks()&&Pe(!1);let i=t.replace(/^\/*/,"/"),h=B.useMemo(()=>({basename:i,navigator:p,static:y,future:os({v7_relativeSplatPath:!1},u)}),[i,u,p,y]);typeof n=="string"&&(n=Nr(n));let{pathname:d="/",search:a="",hash:l="",state:s=null,key:f="default"}=n,v=B.useMemo(()=>{let c=jn(d,i);return c==null?null:{location:{pathname:c,search:a,hash:l,state:s,key:f},navigationType:o}},[i,d,a,l,s,f,o]);return v==null?null:B.createElement(zn.Provider,{value:h},B.createElement(Fu.Provider,{children:r,value:v}))}new Promise(()=>{});function QS(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:B.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:B.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:B.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ha.apply(this,arguments)}function P1(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,p;for(p=0;p<n.length;p++)o=n[p],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function JS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ZS(e,t){return e.button===0&&(!t||t==="_self")&&!JS(e)}function Gh(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(o=>[r,o]):[[r,n]])},[]))}function eC(e,t){let r=Gh(e);return t&&t.forEach((n,o)=>{r.has(o)||t.getAll(o).forEach(p=>{r.append(o,p)})}),r}const tC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],rC=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];function nC(e,t){return xS({basename:t==null?void 0:t.basename,future:Ha({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:U_({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||iC(),routes:e,mapRouteProperties:QS,window:t==null?void 0:t.window}).initialize()}function iC(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Ha({},t,{errors:aC(t.errors)})),t}function aC(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,o]of t)if(o&&o.__type==="RouteErrorResponse")r[n]=new bd(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let p=window[o.__subType];if(typeof p=="function")try{let y=new p(o.message);y.stack="",r[n]=y}catch{}}if(r[n]==null){let p=new Error(o.message);p.stack="",r[n]=p}}else r[n]=o;return r}const k1=B.createContext({isTransitioning:!1}),oC=B.createContext(new Map),sC="startTransition",zg=Mx[sC],lC="flushSync",Ug=z_[lC];function uC(e){zg?zg(e):e()}function yo(e){Ug?Ug(e):e()}class cC{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function hC(e){let{fallbackElement:t,router:r,future:n}=e,[o,p]=B.useState(r.state),[y,u]=B.useState(),[i,h]=B.useState({isTransitioning:!1}),[d,a]=B.useState(),[l,s]=B.useState(),[f,v]=B.useState(),c=B.useRef(new Map),{v7_startTransition:g}=n||{},m=B.useCallback(S=>{g?uC(S):S()},[g]),b=B.useCallback((S,E)=>{let{deletedFetchers:R,unstable_flushSync:N,unstable_viewTransitionOpts:K}=E;R.forEach(ie=>c.current.delete(ie)),S.fetchers.forEach((ie,ne)=>{ie.data!==void 0&&c.current.set(ne,ie.data)});let re=r.window==null||typeof r.window.document.startViewTransition!="function";if(!K||re){N?yo(()=>p(S)):m(()=>p(S));return}if(N){yo(()=>{l&&(d&&d.resolve(),l.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:K.currentLocation,nextLocation:K.nextLocation})});let ie=r.window.document.startViewTransition(()=>{yo(()=>p(S))});ie.finished.finally(()=>{yo(()=>{a(void 0),s(void 0),u(void 0),h({isTransitioning:!1})})}),yo(()=>s(ie));return}l?(d&&d.resolve(),l.skipTransition(),v({state:S,currentLocation:K.currentLocation,nextLocation:K.nextLocation})):(u(S),h({isTransitioning:!0,flushSync:!1,currentLocation:K.currentLocation,nextLocation:K.nextLocation}))},[r.window,l,d,c,m]);B.useLayoutEffect(()=>r.subscribe(b),[r,b]),B.useEffect(()=>{i.isTransitioning&&!i.flushSync&&a(new cC)},[i]),B.useEffect(()=>{if(d&&y&&r.window){let S=y,E=d.promise,R=r.window.document.startViewTransition(async()=>{m(()=>p(S)),await E});R.finished.finally(()=>{a(void 0),s(void 0),u(void 0),h({isTransitioning:!1})}),s(R)}},[m,y,d,r.window]),B.useEffect(()=>{d&&y&&o.location.key===y.location.key&&d.resolve()},[d,l,o.location,y]),B.useEffect(()=>{!i.isTransitioning&&f&&(u(f.state),h({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),v(void 0))},[i.isTransitioning,f]),B.useEffect(()=>{},[]);let x=B.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:S=>r.navigate(S),push:(S,E,R)=>r.navigate(S,{state:E,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(S,E,R)=>r.navigate(S,{replace:!0,state:E,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[r]),w=r.basename||"/",_=B.useMemo(()=>({router:r,navigator:x,static:!1,basename:w}),[r,x,w]);return B.createElement(B.Fragment,null,B.createElement(Ps.Provider,{value:_},B.createElement(wd.Provider,{value:o},B.createElement(oC.Provider,{value:c.current},B.createElement(k1.Provider,{value:i},B.createElement(qS,{basename:w,location:o.location,navigationType:o.historyAction,navigator:x,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},o.initialized||r.future.v7_partialHydration?B.createElement(fC,{routes:r.routes,future:r.future,state:o}):t))))),null)}function fC(e){let{routes:t,future:r,state:n}=e;return IS(t,void 0,n,r)}const dC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ru=B.forwardRef(function(t,r){let{onClick:n,relative:o,reloadDocument:p,replace:y,state:u,target:i,to:h,preventScrollReset:d,unstable_viewTransition:a}=t,l=P1(t,tC),{basename:s}=B.useContext(zn),f,v=!1;if(typeof h=="string"&&pC.test(h)&&(f=h,dC))try{let b=new URL(window.location.href),x=h.startsWith("//")?new URL(b.protocol+h):new URL(h),w=jn(x.pathname,s);x.origin===b.origin&&w!=null?h=w+x.search+x.hash:v=!0}catch{}let c=DS(h,{relative:o}),g=vC(h,{replace:y,state:u,target:i,preventScrollReset:d,relative:o,unstable_viewTransition:a});function m(b){n&&n(b),b.defaultPrevented||g(b)}return B.createElement("a",Ha({},l,{href:f||c,onClick:v||p?n:m,ref:r,target:i}))}),Lc=B.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:o=!1,className:p="",end:y=!1,style:u,to:i,unstable_viewTransition:h,children:d}=t,a=P1(t,rC),l=Lu(i,{relative:a.relative}),s=Ya(),f=B.useContext(wd),{navigator:v}=B.useContext(zn),c=f!=null&&mC(l)&&h===!0,g=v.encodeLocation?v.encodeLocation(l).pathname:l.pathname,m=s.pathname,b=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;o||(m=m.toLowerCase(),b=b?b.toLowerCase():null,g=g.toLowerCase());const x=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let w=m===g||!y&&m.startsWith(g)&&m.charAt(x)==="/",_=b!=null&&(b===g||!y&&b.startsWith(g)&&b.charAt(g.length)==="/"),S={isActive:w,isPending:_,isTransitioning:c},E=w?n:void 0,R;typeof p=="function"?R=p(S):R=[p,w?"active":null,_?"pending":null,c?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(S):u;return B.createElement(ru,Ha({},a,{"aria-current":E,className:R,ref:r,style:N,to:i,unstable_viewTransition:h}),typeof d=="function"?d(S):d)});var Vh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vh||(Vh={}));var Wg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Wg||(Wg={}));function gC(e){let t=B.useContext(Ps);return t||Pe(!1),t}function vC(e,t){let{target:r,replace:n,state:o,preventScrollReset:p,relative:y,unstable_viewTransition:u}=t===void 0?{}:t,i=T1(),h=Ya(),d=Lu(e,{relative:y});return B.useCallback(a=>{if(ZS(a,r)){a.preventDefault();let l=n!==void 0?n:mi(h)===mi(d);i(e,{replace:l,state:o,preventScrollReset:p,relative:y,unstable_viewTransition:u})}},[h,i,d,n,o,r,e,p,y,u])}function A1(e){let t=B.useRef(Gh(e)),r=B.useRef(!1),n=Ya(),o=B.useMemo(()=>eC(n.search,r.current?null:t.current),[n.search]),p=T1(),y=B.useCallback((u,i)=>{const h=Gh(typeof u=="function"?u(o):u);r.current=!0,p("?"+h,i)},[p,o]);return[o,y]}function mC(e,t){t===void 0&&(t={});let r=B.useContext(k1);r==null&&Pe(!1);let{basename:n}=gC(Vh.useViewTransitionState),o=Lu(e,{relative:t.relative});if(!r.isTransitioning)return!1;let p=jn(r.currentLocation.pathname,n)||r.currentLocation.pathname,y=jn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Uh(o.pathname,y)!=null||Uh(o.pathname,p)!=null}const yC=()=>F.jsxs("div",{className:"flex items-center justify-center h-screen space-x-4",children:[F.jsxs(ru,{to:"/object",className:"rounded-xl hover:text-white font-bold text-primary flex-col w-48 h-48 border-2 hover:shadow-xl border-primary flex items-center justify-center transition-all cursor-pointer hover:bg-primary",children:[F.jsx("img",{src:"/images/pan.png",className:"w-4/5"}),"OEM đồ vật"]}),F.jsxs(ru,{to:"/kitchen",className:"rounded-xl hover:text-white font-bold text-primary flex-col w-48 h-48 border-2 hover:shadow-xl border-primary flex items-center justify-center transition-all cursor-pointer hover:bg-primary",children:[F.jsx("img",{src:"/images/kitchen.png",className:"w-4/5"}),"OEM căn bếp"]})]}),bC=()=>F.jsxs("div",{className:"mb-7 bg-white rounded-lg shadow-lg overflow-hidden",children:[F.jsxs("table",{className:"table-auto w-full",children:[F.jsx("thead",{className:"bg-white text-[#3D3B40] border-b-2 border-silver h-[70px]",children:F.jsxs("tr",{children:[F.jsx("th",{className:"py-3 px-4 text-left",children:"Hình ảnh"}),F.jsx("th",{className:"py-3 px-4 text-left",children:"Sản phẩm"}),F.jsx("th",{className:"py-3 px-4 text-left",children:"Đơn giá"}),F.jsx("th",{className:"py-3 px-4 text-left",children:"Số lượng"}),F.jsx("th",{className:"py-3 px-4 text-left",children:"Tổng cộng"}),F.jsx("th",{className:"py-3 px-4 w-1/12",children:"Chi tiết"}),F.jsx("th",{className:"py-3 px-4 w-1/12",children:"Xóa"})]})}),F.jsxs("tbody",{children:[F.jsxs("tr",{className:"hover:bg-gray-100 border-b-2 border-silver",children:[F.jsxs("td",{className:"px-4 py-3",children:[F.jsx("img",{className:"inline rounded-full w-1/12 mr-2.5 shadow-md",src:"https://picsum.photos/seed/100/200",alt:"..."}),"Rachel"]}),F.jsx("td",{className:"px-4 py-3",children:"Mike wazowski"}),F.jsx("td",{className:"px-4 py-3",children:"Mike Dawson"}),F.jsx("td",{className:"px-4 py-3",children:F.jsx("input",{type:"number",className:"border border-silver w-1/2 rounded-[6px] h-9",style:{textAlign:"center"},value:"3"})}),F.jsx("td",{children:F.jsx("div",{className:"bg-gray-200 h-1.5 rounded-lg overflow-hidden",children:F.jsx("div",{className:"w-1/2 bg-red-500 h-1.5"})})}),F.jsx("td",{className:"px-4 py-3 text-center",children:F.jsx("button",{className:"hover:bg-gray-300 p-1 px-2 font-bold rounded-lg focus:outline-none",children:"Xem chi tiết"})}),F.jsx("td",{className:"px-4 py-3 text-center",children:F.jsx("button",{className:"hover:bg-gray-300 p-1 px-2 font-bold rounded-lg focus:outline-none",children:"✕"})})]}),F.jsxs("tr",{className:"hover:bg-gray-100 border-b-2 border-silver",children:[F.jsxs("td",{className:"px-4 py-3",children:[F.jsx("img",{className:"inline rounded-full w-1/12 mr-2.5 shadow-md",src:"https://picsum.photos/seed/100/200",alt:"..."}),"Rachel"]}),F.jsx("td",{className:"px-4 py-3",children:"Mike wazowski"}),F.jsx("td",{className:"px-4 py-3",children:"Mike Dawson"}),F.jsx("td",{className:"px-4 py-3",children:F.jsx("span",{className:"bg-gray-200 px-4 py-2 rounded-lg text-gray-600",children:"12 days left"})}),F.jsx("td",{children:F.jsx("div",{className:"bg-gray-200 h-1.5 rounded-lg overflow-hidden",children:F.jsx("div",{className:"w-1/4 bg-red-500 h-1.5"})})}),F.jsx("td",{className:"px-4 py-3 text-center",children:F.jsx("button",{className:"hover:bg-gray-300 p-1 px-2 font-bold rounded-lg focus:outline-none",children:"⋯"})}),F.jsx("td",{className:"px-4 py-3 text-center",children:F.jsx("button",{className:"hover:bg-gray-300 p-1 px-2 font-bold rounded-lg focus:outline-none",children:"⋯"})})]}),F.jsxs("tr",{className:"hover:bg-gray-100 border-b-2 border-silver",children:[F.jsxs("td",{className:"px-4 py-3",children:[F.jsx("img",{className:"inline rounded-full w-1/12 mr-2.5 shadow-md",src:"https://picsum.photos/seed/100/200",alt:"..."}),"Rachel"]}),F.jsx("td",{className:"px-4 py-3",children:"Mike wazowski"}),F.jsx("td",{className:"px-4 py-3",children:"Mike Dawson"}),F.jsx("td",{className:"px-4 py-3",children:F.jsx("span",{className:"bg-gray-200 px-4 py-2 rounded-lg text-gray-600",children:"12 days left"})}),F.jsx("td",{children:F.jsx("div",{className:"bg-gray-200 h-1.5 rounded-lg overflow-hidden",children:F.jsx("div",{className:"w-3/4 bg-red-500 h-1.5"})})}),F.jsx("td",{className:"px-4 py-3 text-center",children:F.jsx("button",{className:"hover:bg-gray-300 p-1 px-2 font-bold rounded-lg focus:outline-none",children:"⋯"})}),F.jsx("td",{className:"px-4 py-3 text-center",children:F.jsx("button",{className:"hover:bg-gray-300 p-1 px-2 font-bold rounded-lg focus:outline-none",children:"⋯"})})]})]})]}),F.jsxs("div",{className:"p-4 w-1/2 flex gap-3 justify-between",children:[F.jsx("div",{className:"w-[75%]",children:F.jsx("input",{name:"discount_code",type:"text",placeholder:"Mã giảm giá",className:"w-full px-3 py-2 transition-all border border-gray-200 rounded-md outline-blue-600/50 hover:border-blue-600/30"})}),F.jsx("div",{className:"w-[25%]",children:F.jsx("button",{type:"submit",className:"w-full p-2.5 text-sm font-medium text-white bg-primary rounded-md",children:"Áp dụng"})})]})]}),xC=()=>F.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[F.jsx("div",{className:"title-confirm py-3 px-6 text-[#3D3B40] border-b-2 border-silver font-bold",children:"Đơn hàng (2 sản phẩm)"}),F.jsxs("div",{className:"p-6 text-[#706d6d] font-semibold",children:[F.jsxs("div",{className:"information-confirm border-b-2 border-silver",children:[F.jsxs("div",{className:"flex justify-between pb-2",children:[F.jsx("p",{children:"Tạm tính"}),F.jsx("p",{children:"123456"})]}),F.jsxs("div",{className:"flex justify-between pb-2",children:[F.jsx("p",{children:"Phí vận chuyển"}),F.jsx("p",{children:"123456"})]})]}),F.jsx("div",{className:"sum-order",children:F.jsxs("div",{className:"flex justify-between py-5",children:[F.jsx("p",{children:"Tổng tiền"}),F.jsx("p",{children:"123456"})]})}),F.jsxs("div",{className:"",children:[F.jsx("label",{className:"flex justify-end mb-1",children:"Đã bao gồm VAT (nếu có)"}),F.jsx("button",{type:"submit",className:"w-full p-2.5 text-sm font-medium text-white bg-primary rounded-md",children:"Đặt hàng"})]})]})]}),Xg=({label:e,name:t,value:r,onChange:n,placeholder:o,classs:p,...y})=>{const u=B.useCallback(i=>{n(i.target.value,i.target.id)},[]);return F.jsxs("div",{className:p+" mb-4",children:[F.jsx("div",{className:"label-input text-[15px] font-medium mb-2",children:e}),F.jsx("input",{name:t,type:"text",value:r,placeholder:o,onChange:u,className:"input-main w-full px-3 py-2 transition-all border border-gray-200 rounded-md outline-blue-600/50 hover:border-blue-600/30",...y})]})},wC=()=>{const e=()=>{};return F.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[F.jsx("div",{className:"title-confirm py-3 px-6 text-[#3D3B40] border-b-2 border-silver font-bold",children:"Thông tin liên hệ"}),F.jsx("div",{className:"p-6 text-[#706d6d] font-semibold",children:F.jsxs("div",{className:"information-confirm",children:[F.jsxs("div",{className:"flex justify-between pb-2 w-full gap-4",children:[F.jsx(Xg,{classs:"w-1/2",id:"name",name:"name",value:"",onChange:e,placeholder:"Nhập tên...",label:"Họ tên",autoComplete:"name"}),F.jsx(Xg,{classs:"w-1/2",id:"phone",name:"phone",value:"",onChange:e,placeholder:"Nhập số điện thoại...",label:"Số điện thoại",autoComplete:"phone"})]}),F.jsxs("div",{className:"flex justify-between pb-2",children:[F.jsx("p",{children:"Phí vận chuyển"}),F.jsx("p",{children:"123456"})]})]})})]})},_C=()=>F.jsx("div",{className:"p-8",children:F.jsxs("div",{className:"w-full flex justify-between",children:[F.jsxs("div",{className:" w-[75%]",children:[F.jsx(bC,{}),F.jsx(wC,{})]}),F.jsx("div",{className:"w-[23%] max-h-[300px] rounded-lg",children:F.jsx(xC,{})})]})}),SC=()=>F.jsx("header",{className:"shadow-lg fixed top-0 left-0 w-screen z-50 bg-white",children:F.jsxs("div",{className:"container py-3 sm:py-2 mx-auto flex justify-between items-center",children:[F.jsx("div",{className:"logo-elmich",children:F.jsx(ru,{to:"/",title:"Elmich",className:"",children:F.jsx("img",{src:"/images/logo.png",className:"img-fluid w-auto h-[32px] sm:h-[40px]"})})}),F.jsxs("div",{className:"text-xs sm:text flex justify-center items-center flex-1",children:[F.jsx(Lc,{to:"/object",className:"mr-1 sm:mr-2",children:"OEM cá nhân"})," ",">"," ",F.jsx(Lc,{to:"/object/form",className:"mx-1 sm:mx-2",children:"Thông tin"})," ",">"," ",F.jsx(Lc,{to:"/object/checkout",className:"ml-1 sm:ml-2",children:"Thanh toán"})]})]})}),CC=()=>F.jsxs(F.Fragment,{children:[F.jsx(SC,{}),F.jsx("main",{className:"pt-16 bg-gray-100 min-h-[100vh]",children:F.jsx(KS,{})})]}),cl=({label:e,name:t,required:r,value:n,onChange:o,placeholder:p,error:y,...u})=>{const i=B.useCallback(h=>{o(h.target.value,h.target.id)},[]);return F.jsxs("div",{className:"mb-4",children:[F.jsxs("div",{className:"label-input text-[15px] font-medium mb-2",children:[e," ",r?F.jsx(F.Fragment,{children:F.jsx("span",{className:"required-indicator",children:"*"})}):null]}),F.jsx("input",{name:t,type:"text",value:n,placeholder:p,onChange:i,className:`input-main w-full px-3 py-2 transition-all border border-gray-200 rounded-md outline-blue-600/50 hover:border-blue-600/30 ${y?"error":""}`,...u}),y?F.jsx("p",{className:"ae-text--errors text-red-400",children:y}):null]})},Yg=e=>/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e),TC={errors:{},name:"",name_company:"",phone:"",email:"",content:""},EC=(e,t)=>{const{type:r,value:n}=t;return r==="CHANGE"?{...e,[n.id]:n.value,errors:{...e.errors,[n.id]:void 0}}:r==="ERROR"?{...e,errors:n}:e},OC=()=>{const[e,t]=B.useReducer(EC,TC),r=B.useCallback((p,y)=>t({type:"CHANGE",value:{value:p,id:y}}),[]),n=B.useCallback(p=>{const{value:y,id:u}=p.target;t({type:"CHANGE",value:{value:y,id:u}})},[t]),o=p=>{const y=[];if(e.name===""&&y.push("name"),e.name_company===""&&y.push("name_company"),e.phone===""&&y.push("phone"),e.email===""&&y.push("email"),Yg(e.email.toString())||y.push("email"),y.length>0){const u={};y.forEach(i=>{u[i]=`Bạn chưa nhập ${i==="phone"?"số điện thoại":i==="name_company"?"tên công ty":i==="email"?"email":"tên"}`,i==="email"&&!Yg(e.email.toString())&&e.email!=""&&(u[i]="Email không hợp lệ")}),t({type:"ERROR",value:u})}p.preventDefault()};return F.jsx("div",{className:"container mx-auto p-4 flex items-center justify-center h-full",children:F.jsxs("div",{className:"max-w-[600px] w-full",children:[F.jsx("div",{className:"title-from text-center text-primary text-[25px] my-6 font-medium",children:"Form thông tin khách hàng"}),F.jsxs("form",{className:"w-full flex flex-col justify-center",action:"",method:"post",id:"submit_form",children:[F.jsxs("div",{className:"bg-white p-6 rounded-[10px]",children:[F.jsx(cl,{id:"name",name:"name",value:e.name,onChange:r,placeholder:"Nhập tên...",label:"Họ tên",required:!0,error:e.errors.name,autoComplete:"cccd"}),F.jsx(cl,{id:"name_company",name:"name_company",value:e.name_company,onChange:r,placeholder:"Nhập tên Công ty...",label:"Tên công ty",required:!0,error:e.errors.name_company,autoComplete:"name_company"}),F.jsx(cl,{id:"phone",name:"phone",value:e.phone,onChange:r,placeholder:"Nhập số điện thoại...",label:"Số điện thoại",required:!0,error:e.errors.phone,autoComplete:"phone"}),F.jsx(cl,{id:"email",name:"email",value:e.email,onChange:r,placeholder:"Nhập email...",label:"Email",required:!0,error:e.errors.email,autoComplete:"email"}),F.jsxs("div",{children:[F.jsx("label",{className:"text-[15px] font-medium",children:"Nội dung"}),F.jsx("textarea",{name:"content",id:"content",value:e.content,onChange:n,placeholder:"Message",className:"w-full px-3 py-2 mb-2 resize-none transition-all border border-gray-200 rounded-md outline-blue-600/50 hover:border-blue-600/30"})]})]}),F.jsxs("div",{className:"w-full flex gap-4",children:[F.jsx("button",{type:"submit",className:"w-1/2 mt-2 p-2.5 text-sm font-medium text-[#333] bg-white rounded-md",children:"Quay lại"}),F.jsx("button",{onClick:o,type:"submit",className:"w-1/2 mt-2 p-2.5 text-sm font-medium text-white bg-primary rounded-md",children:"Tiếp tục"})]})]})]})})};var As=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},za=typeof window>"u"||"Deno"in window;function ir(){}function PC(e,t){return typeof e=="function"?e(t):e}function Kh(e){return typeof e=="number"&&e>=0&&e!==1/0}function M1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gg(e,t){const{type:r="all",exact:n,fetchStatus:o,predicate:p,queryKey:y,stale:u}=e;if(y){if(n){if(t.queryHash!==_d(y,t.options))return!1}else if(!ls(t.queryKey,y))return!1}if(r!=="all"){const i=t.isActive();if(r==="active"&&!i||r==="inactive"&&i)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||typeof o<"u"&&o!==t.state.fetchStatus||p&&!p(t))}function Vg(e,t){const{exact:r,status:n,predicate:o,mutationKey:p}=e;if(p){if(!t.options.mutationKey)return!1;if(r){if(ss(t.options.mutationKey)!==ss(p))return!1}else if(!ls(t.options.mutationKey,p))return!1}return!(n&&t.state.status!==n||o&&!o(t))}function _d(e,t){return((t==null?void 0:t.queryKeyHashFn)||ss)(e)}function ss(e){return JSON.stringify(e,(t,r)=>Qh(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function ls(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!ls(e[r],t[r])):!1}function R1(e,t){if(e===t)return e;const r=Kg(e)&&Kg(t);if(r||Qh(e)&&Qh(t)){const n=r?e.length:Object.keys(e).length,o=r?t:Object.keys(t),p=o.length,y=r?[]:{};let u=0;for(let i=0;i<p;i++){const h=r?i:o[i];y[h]=R1(e[h],t[h]),y[h]===e[h]&&u++}return n===p&&u===n?e:y}return t}function qh(e,t){if(e&&!t||t&&!e)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Kg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Qh(e){if(!qg(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const r=t.prototype;return!(!qg(r)||!r.hasOwnProperty("isPrototypeOf"))}function qg(e){return Object.prototype.toString.call(e)==="[object Object]"}function D1(e){return new Promise(t=>{setTimeout(t,e)})}function Qg(e){D1(0).then(e)}function Jh(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?R1(e,t):t}function kC(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function AC(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var ti,pn,ba,Um,MC=(Um=class extends As{constructor(){super();be(this,ti,void 0);be(this,pn,void 0);be(this,ba,void 0);fe(this,ba,t=>{if(!za&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){L(this,pn)||this.setEventListener(L(this,ba))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,pn))==null||t.call(this),fe(this,pn,void 0))}setEventListener(t){var r;fe(this,ba,t),(r=L(this,pn))==null||r.call(this),fe(this,pn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){L(this,ti)!==t&&(fe(this,ti,t),this.onFocus())}onFocus(){this.listeners.forEach(t=>{t()})}isFocused(){var t;return typeof L(this,ti)=="boolean"?L(this,ti):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ti=new WeakMap,pn=new WeakMap,ba=new WeakMap,Um),nu=new MC,xa,gn,wa,Wm,RC=(Wm=class extends As{constructor(){super();be(this,xa,!0);be(this,gn,void 0);be(this,wa,void 0);fe(this,wa,t=>{if(!za&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){L(this,gn)||this.setEventListener(L(this,wa))}onUnsubscribe(){var t;this.hasListeners()||((t=L(this,gn))==null||t.call(this),fe(this,gn,void 0))}setEventListener(t){var r;fe(this,wa,t),(r=L(this,gn))==null||r.call(this),fe(this,gn,t(this.setOnline.bind(this)))}setOnline(t){L(this,xa)!==t&&(fe(this,xa,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return L(this,xa)}},xa=new WeakMap,gn=new WeakMap,wa=new WeakMap,Wm),iu=new RC;function DC(e){return Math.min(1e3*2**e,3e4)}function ju(e){return(e??"online")==="online"?iu.isOnline():!0}var F1=class{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function jc(e){return e instanceof F1}function L1(e){let t=!1,r=0,n=!1,o,p,y;const u=new Promise((c,g)=>{p=c,y=g}),i=c=>{var g;n||(s(new F1(c)),(g=e.abort)==null||g.call(e))},h=()=>{t=!0},d=()=>{t=!1},a=()=>!nu.isFocused()||e.networkMode!=="always"&&!iu.isOnline(),l=c=>{var g;n||(n=!0,(g=e.onSuccess)==null||g.call(e,c),o==null||o(),p(c))},s=c=>{var g;n||(n=!0,(g=e.onError)==null||g.call(e,c),o==null||o(),y(c))},f=()=>new Promise(c=>{var g;o=m=>{const b=n||!a();return b&&c(m),b},(g=e.onPause)==null||g.call(e)}).then(()=>{var c;o=void 0,n||(c=e.onContinue)==null||c.call(e)}),v=()=>{if(n)return;let c;try{c=e.fn()}catch(g){c=Promise.reject(g)}Promise.resolve(c).then(l).catch(g=>{var _;if(n)return;const m=e.retry??(za?0:3),b=e.retryDelay??DC,x=typeof b=="function"?b(r,g):b,w=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,g);if(t||!w){s(g);return}r++,(_=e.onFail)==null||_.call(e,r,g),D1(x).then(()=>{if(a())return f()}).then(()=>{t?s(g):v()})})};return ju(e.networkMode)?v():f().then(v),{promise:u,cancel:i,continue:()=>(o==null?void 0:o())?u:Promise.resolve(),cancelRetry:h,continueRetry:d}}function FC(){let e=[],t=0,r=d=>{d()},n=d=>{d()};const o=d=>{let a;t++;try{a=d()}finally{t--,t||u()}return a},p=d=>{t?e.push(d):Qg(()=>{r(d)})},y=d=>(...a)=>{p(()=>{d(...a)})},u=()=>{const d=e;e=[],d.length&&Qg(()=>{n(()=>{d.forEach(a=>{r(a)})})})};return{batch:o,batchCalls:y,schedule:p,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d}}}var bt=FC(),ri,Xm,j1=(Xm=class{constructor(){be(this,ri,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kh(this.gcTime)&&fe(this,ri,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(za?1/0:5*60*1e3))}clearGcTimeout(){L(this,ri)&&(clearTimeout(L(this,ri)),fe(this,ri,void 0))}},ri=new WeakMap,Xm),_a,Sa,er,vn,tr,dt,hs,ni,Ca,kl,vr,zr,Ym,LC=(Ym=class extends j1{constructor(t){super();be(this,Ca);be(this,vr);be(this,_a,void 0);be(this,Sa,void 0);be(this,er,void 0);be(this,vn,void 0);be(this,tr,void 0);be(this,dt,void 0);be(this,hs,void 0);be(this,ni,void 0);fe(this,ni,!1),fe(this,hs,t.defaultOptions),Ae(this,Ca,kl).call(this,t.options),fe(this,dt,[]),fe(this,er,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,fe(this,_a,t.state||jC(this.options)),this.state=L(this,_a),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!L(this,dt).length&&this.state.fetchStatus==="idle"&&L(this,er).remove(this)}setData(t,r){const n=Jh(this.state.data,t,this.options);return Ae(this,vr,zr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ae(this,vr,zr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n;const r=L(this,vn);return(n=L(this,tr))==null||n.cancel(t),r?r.then(ir).catch(ir):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,_a))}isActive(){return L(this,dt).some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||L(this,dt).some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!M1(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=L(this,dt).find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=L(this,tr))==null||r.continue()}onOnline(){var r;const t=L(this,dt).find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=L(this,tr))==null||r.continue()}addObserver(t){L(this,dt).includes(t)||(L(this,dt).push(t),this.clearGcTimeout(),L(this,er).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){L(this,dt).includes(t)&&(fe(this,dt,L(this,dt).filter(r=>r!==t)),L(this,dt).length||(L(this,tr)&&(L(this,ni)?L(this,tr).cancel({revert:!0}):L(this,tr).cancelRetry()),this.scheduleGc()),L(this,er).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return L(this,dt).length}invalidate(){this.state.isInvalidated||Ae(this,vr,zr).call(this,{type:"invalidate"})}fetch(t,r){var h,d,a,l;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(L(this,vn))return(h=L(this,tr))==null||h.continueRetry(),L(this,vn)}if(t&&Ae(this,Ca,kl).call(this,t),!this.options.queryFn){const s=L(this,dt).find(f=>f.options.queryFn);s&&Ae(this,Ca,kl).call(this,s.options)}const n=new AbortController,o={queryKey:this.queryKey,meta:this.meta},p=s=>{Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(fe(this,ni,!0),n.signal)})};p(o);const y=()=>this.options.queryFn?(fe(this,ni,!1),this.options.persister?this.options.persister(this.options.queryFn,o,this):this.options.queryFn(o)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),u={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:y};p(u),(d=this.options.behavior)==null||d.onFetch(u,this),fe(this,Sa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((a=u.fetchOptions)==null?void 0:a.meta))&&Ae(this,vr,zr).call(this,{type:"fetch",meta:(l=u.fetchOptions)==null?void 0:l.meta});const i=s=>{var f,v,c,g;jc(s)&&s.silent||Ae(this,vr,zr).call(this,{type:"error",error:s}),jc(s)||((v=(f=L(this,er).config).onError)==null||v.call(f,s,this),(g=(c=L(this,er).config).onSettled)==null||g.call(c,this.state.data,s,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return fe(this,tr,L1({fn:u.fetchFn,abort:n.abort.bind(n),onSuccess:s=>{var f,v,c,g;if(typeof s>"u"){i(new Error(`${this.queryHash} data is undefined`));return}this.setData(s),(v=(f=L(this,er).config).onSuccess)==null||v.call(f,s,this),(g=(c=L(this,er).config).onSettled)==null||g.call(c,s,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:i,onFail:(s,f)=>{Ae(this,vr,zr).call(this,{type:"failed",failureCount:s,error:f})},onPause:()=>{Ae(this,vr,zr).call(this,{type:"pause"})},onContinue:()=>{Ae(this,vr,zr).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode})),fe(this,vn,L(this,tr).promise),L(this,vn)}},_a=new WeakMap,Sa=new WeakMap,er=new WeakMap,vn=new WeakMap,tr=new WeakMap,dt=new WeakMap,hs=new WeakMap,ni=new WeakMap,Ca=new WeakSet,kl=function(t){this.options={...L(this,hs),...t},this.updateGcTime(this.options.gcTime)},vr=new WeakSet,zr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:t.meta??null,fetchStatus:ju(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return jc(o)&&o.revert&&L(this,Sa)?{...L(this,Sa),fetchStatus:"idle"}:{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),bt.batch(()=>{L(this,dt).forEach(n=>{n.onQueryUpdate()}),L(this,er).notify({query:this,type:"updated",action:t})})},Ym);function jC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=typeof t<"u",n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ar,Gm,IC=(Gm=class extends As{constructor(t={}){super();be(this,Ar,void 0);this.config=t,fe(this,Ar,new Map)}build(t,r,n){const o=r.queryKey,p=r.queryHash??_d(o,r);let y=this.get(p);return y||(y=new LC({cache:this,queryKey:o,queryHash:p,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(o)}),this.add(y)),y}add(t){L(this,Ar).has(t.queryHash)||(L(this,Ar).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=L(this,Ar).get(t.queryHash);r&&(t.destroy(),r===t&&L(this,Ar).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){bt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return L(this,Ar).get(t)}getAll(){return[...L(this,Ar).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Gg(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Gg(t,n)):r}notify(t){bt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){bt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){bt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ar=new WeakMap,Gm),Mr,fs,zt,Ta,Rr,un,Vm,$C=(Vm=class extends j1{constructor(t){super();be(this,Rr);be(this,Mr,void 0);be(this,fs,void 0);be(this,zt,void 0);be(this,Ta,void 0);this.mutationId=t.mutationId,fe(this,fs,t.defaultOptions),fe(this,zt,t.mutationCache),fe(this,Mr,[]),this.state=t.state||NC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...L(this,fs),...t},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){L(this,Mr).includes(t)||(L(this,Mr).push(t),this.clearGcTimeout(),L(this,zt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){fe(this,Mr,L(this,Mr).filter(r=>r!==t)),this.scheduleGc(),L(this,zt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){L(this,Mr).length||(this.state.status==="pending"?this.scheduleGc():L(this,zt).remove(this))}continue(){var t;return((t=L(this,Ta))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,p,y,u,i,h,d,a,l,s,f,v,c,g,m,b,x,w,_,S;const r=()=>(fe(this,Ta,L1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,R)=>{Ae(this,Rr,un).call(this,{type:"failed",failureCount:E,error:R})},onPause:()=>{Ae(this,Rr,un).call(this,{type:"pause"})},onContinue:()=>{Ae(this,Rr,un).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),L(this,Ta).promise),n=this.state.status==="pending";try{if(!n){Ae(this,Rr,un).call(this,{type:"pending",variables:t}),await((p=(o=L(this,zt).config).onMutate)==null?void 0:p.call(o,t,this));const R=await((u=(y=this.options).onMutate)==null?void 0:u.call(y,t));R!==this.state.context&&Ae(this,Rr,un).call(this,{type:"pending",context:R,variables:t})}const E=await r();return await((h=(i=L(this,zt).config).onSuccess)==null?void 0:h.call(i,E,t,this.state.context,this)),await((a=(d=this.options).onSuccess)==null?void 0:a.call(d,E,t,this.state.context)),await((s=(l=L(this,zt).config).onSettled)==null?void 0:s.call(l,E,null,this.state.variables,this.state.context,this)),await((v=(f=this.options).onSettled)==null?void 0:v.call(f,E,null,t,this.state.context)),Ae(this,Rr,un).call(this,{type:"success",data:E}),E}catch(E){try{throw await((g=(c=L(this,zt).config).onError)==null?void 0:g.call(c,E,t,this.state.context,this)),await((b=(m=this.options).onError)==null?void 0:b.call(m,E,t,this.state.context)),await((w=(x=L(this,zt).config).onSettled)==null?void 0:w.call(x,void 0,E,this.state.variables,this.state.context,this)),await((S=(_=this.options).onSettled)==null?void 0:S.call(_,void 0,E,t,this.state.context)),E}finally{Ae(this,Rr,un).call(this,{type:"error",error:E})}}}},Mr=new WeakMap,fs=new WeakMap,zt=new WeakMap,Ta=new WeakMap,Rr=new WeakSet,un=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!ju(this.options.networkMode),status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),bt.batch(()=>{L(this,Mr).forEach(n=>{n.onMutationUpdate(t)}),L(this,zt).notify({mutation:this,type:"updated",action:t})})},Vm);function NC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rr,ds,ii,Km,BC=(Km=class extends As{constructor(t={}){super();be(this,rr,void 0);be(this,ds,void 0);be(this,ii,void 0);this.config=t,fe(this,rr,[]),fe(this,ds,0)}build(t,r,n){const o=new $C({mutationCache:this,mutationId:++Xs(this,ds)._,options:t.defaultMutationOptions(r),state:n});return this.add(o),o}add(t){L(this,rr).push(t),this.notify({type:"added",mutation:t})}remove(t){fe(this,rr,L(this,rr).filter(r=>r!==t)),this.notify({type:"removed",mutation:t})}clear(){bt.batch(()=>{L(this,rr).forEach(t=>{this.remove(t)})})}getAll(){return L(this,rr)}find(t){const r={exact:!0,...t};return L(this,rr).find(n=>Vg(r,n))}findAll(t={}){return L(this,rr).filter(r=>Vg(t,r))}notify(t){bt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){return fe(this,ii,(L(this,ii)??Promise.resolve()).then(()=>{const t=L(this,rr).filter(r=>r.state.isPaused);return bt.batch(()=>t.reduce((r,n)=>r.then(()=>n.continue().catch(ir)),Promise.resolve()))}).then(()=>{fe(this,ii,void 0)})),L(this,ii)}},rr=new WeakMap,ds=new WeakMap,ii=new WeakMap,Km);function HC(e){return{onFetch:(t,r)=>{const n=async()=>{var f,v,c,g,m;const o=t.options,p=(c=(v=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:v.fetchMore)==null?void 0:c.direction,y=((g=t.state.data)==null?void 0:g.pages)||[],u=((m=t.state.data)==null?void 0:m.pageParams)||[],i={pages:[],pageParams:[]};let h=!1;const d=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},a=t.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${t.options.queryHash}'`))),l=async(b,x,w)=>{if(h)return Promise.reject();if(x==null&&b.pages.length)return Promise.resolve(b);const _={queryKey:t.queryKey,pageParam:x,direction:w?"backward":"forward",meta:t.options.meta};d(_);const S=await a(_),{maxPages:E}=t.options,R=w?AC:kC;return{pages:R(b.pages,S,E),pageParams:R(b.pageParams,x,E)}};let s;if(p&&y.length){const b=p==="backward",x=b?zC:Jg,w={pages:y,pageParams:u},_=x(o,w);s=await l(w,_,b)}else{s=await l(i,u[0]??o.initialPageParam);const b=e??y.length;for(let x=1;x<b;x++){const w=Jg(o,s);s=await l(s,w)}}return s};t.options.persister?t.fetchFn=()=>{var o,p;return(p=(o=t.options).persister)==null?void 0:p.call(o,n,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=n}}}function Jg(e,{pages:t,pageParams:r}){const n=t.length-1;return e.getNextPageParam(t[n],t,r[n],r)}function zC(e,{pages:t,pageParams:r}){var n;return(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r)}var lt,mn,yn,Ea,Oa,bn,Pa,ka,qm,UC=(qm=class{constructor(e={}){be(this,lt,void 0);be(this,mn,void 0);be(this,yn,void 0);be(this,Ea,void 0);be(this,Oa,void 0);be(this,bn,void 0);be(this,Pa,void 0);be(this,ka,void 0);fe(this,lt,e.queryCache||new IC),fe(this,mn,e.mutationCache||new BC),fe(this,yn,e.defaultOptions||{}),fe(this,Ea,new Map),fe(this,Oa,new Map),fe(this,bn,0)}mount(){Xs(this,bn)._++,L(this,bn)===1&&(fe(this,Pa,nu.subscribe(()=>{nu.isFocused()&&(this.resumePausedMutations(),L(this,lt).onFocus())})),fe(this,ka,iu.subscribe(()=>{iu.isOnline()&&(this.resumePausedMutations(),L(this,lt).onOnline())})))}unmount(){var e,t;Xs(this,bn)._--,L(this,bn)===0&&((e=L(this,Pa))==null||e.call(this),fe(this,Pa,void 0),(t=L(this,ka))==null||t.call(this),fe(this,ka,void 0))}isFetching(e){return L(this,lt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return L(this,mn).findAll({...e,status:"pending"}).length}getQueryData(e){var t;return(t=L(this,lt).find({queryKey:e}))==null?void 0:t.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);return t!==void 0?Promise.resolve(t):this.fetchQuery(e)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=L(this,lt).find({queryKey:e}),o=n==null?void 0:n.state.data,p=PC(t,o);if(typeof p>"u")return;const y=this.defaultQueryOptions({queryKey:e});return L(this,lt).build(this,y).setData(p,{...r,manual:!0})}setQueriesData(e,t,r){return bt.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var t;return(t=L(this,lt).find({queryKey:e}))==null?void 0:t.state}removeQueries(e){const t=L(this,lt);bt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=L(this,lt),n={type:"active",...e};return bt.batch(()=>(r.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=bt.batch(()=>L(this,lt).findAll(e).map(o=>o.cancel(r)));return Promise.all(n).then(ir).catch(ir)}invalidateQueries(e={},t={}){return bt.batch(()=>{if(L(this,lt).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=bt.batch(()=>L(this,lt).findAll(e).filter(o=>!o.isDisabled()).map(o=>{let p=o.fetch(void 0,r);return r.throwOnError||(p=p.catch(ir)),o.state.fetchStatus==="paused"?Promise.resolve():p}));return Promise.all(n).then(ir)}fetchQuery(e){const t=this.defaultQueryOptions(e);typeof t.retry>"u"&&(t.retry=!1);const r=L(this,lt).build(this,t);return r.isStaleByTime(t.staleTime)?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ir).catch(ir)}fetchInfiniteQuery(e){return e.behavior=HC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ir).catch(ir)}resumePausedMutations(){return L(this,mn).resumePausedMutations()}getQueryCache(){return L(this,lt)}getMutationCache(){return L(this,mn)}getDefaultOptions(){return L(this,yn)}setDefaultOptions(e){fe(this,yn,e)}setQueryDefaults(e,t){L(this,Ea).set(ss(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...L(this,Ea).values()];let r={};return t.forEach(n=>{ls(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){L(this,Oa).set(ss(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...L(this,Oa).values()];let r={};return t.forEach(n=>{ls(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const t={...L(this,yn).queries,...(e==null?void 0:e.queryKey)&&this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_d(t.queryKey,t)),typeof t.refetchOnReconnect>"u"&&(t.refetchOnReconnect=t.networkMode!=="always"),typeof t.throwOnError>"u"&&(t.throwOnError=!!t.suspense),typeof t.networkMode>"u"&&t.persister&&(t.networkMode="offlineFirst"),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...L(this,yn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){L(this,lt).clear(),L(this,mn).clear()}},lt=new WeakMap,mn=new WeakMap,yn=new WeakMap,Ea=new WeakMap,Oa=new WeakMap,bn=new WeakMap,Pa=new WeakMap,ka=new WeakMap,qm),Mt,He,Aa,Ct,ai,Ma,Dr,ps,Ra,Da,oi,si,xn,li,ui,Oo,gs,Zh,vs,ef,ms,tf,ys,rf,bs,nf,xs,af,ws,of,vu,I1,Qm,WC=(Qm=class extends As{constructor(t,r){super();be(this,ui);be(this,gs);be(this,vs);be(this,ms);be(this,ys);be(this,bs);be(this,xs);be(this,ws);be(this,vu);be(this,Mt,void 0);be(this,He,void 0);be(this,Aa,void 0);be(this,Ct,void 0);be(this,ai,void 0);be(this,Ma,void 0);be(this,Dr,void 0);be(this,ps,void 0);be(this,Ra,void 0);be(this,Da,void 0);be(this,oi,void 0);be(this,si,void 0);be(this,xn,void 0);be(this,li,void 0);fe(this,He,void 0),fe(this,Aa,void 0),fe(this,Ct,void 0),fe(this,li,new Set),fe(this,Mt,t),this.options=r,fe(this,Dr,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(L(this,He).addObserver(this),Zg(L(this,He),this.options)?Ae(this,ui,Oo).call(this):this.updateResult(),Ae(this,ys,rf).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return sf(L(this,He),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return sf(L(this,He),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ae(this,bs,nf).call(this),Ae(this,xs,af).call(this),L(this,He).removeObserver(this)}setOptions(t,r){const n=this.options,o=L(this,He);if(this.options=L(this,Mt).defaultQueryOptions(t),qh(n,this.options)||L(this,Mt).getQueryCache().notify({type:"observerOptionsUpdated",query:L(this,He),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),Ae(this,ws,of).call(this);const p=this.hasListeners();p&&ev(L(this,He),o,this.options,n)&&Ae(this,ui,Oo).call(this),this.updateResult(r),p&&(L(this,He)!==o||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&Ae(this,gs,Zh).call(this);const y=Ae(this,vs,ef).call(this);p&&(L(this,He)!==o||this.options.enabled!==n.enabled||y!==L(this,xn))&&Ae(this,ms,tf).call(this,y)}getOptimisticResult(t){const r=L(this,Mt).getQueryCache().build(L(this,Mt),t),n=this.createResult(r,t);return YC(this,n)&&(fe(this,Ct,n),fe(this,Ma,this.options),fe(this,ai,L(this,He).state)),n}getCurrentResult(){return L(this,Ct)}trackResult(t){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(L(this,li).add(n),t[n])})}),r}getCurrentQuery(){return L(this,He)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=L(this,Mt).defaultQueryOptions(t),n=L(this,Mt).getQueryCache().build(L(this,Mt),r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ae(this,ui,Oo).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),L(this,Ct)))}createResult(t,r){var _;const n=L(this,He),o=this.options,p=L(this,Ct),y=L(this,ai),u=L(this,Ma),h=t!==n?t.state:L(this,Aa),{state:d}=t;let{error:a,errorUpdatedAt:l,fetchStatus:s,status:f}=d,v=!1,c;if(r._optimisticResults){const S=this.hasListeners(),E=!S&&Zg(t,r),R=S&&ev(t,n,r,o);(E||R)&&(s=ju(t.options.networkMode)?"fetching":"paused",d.dataUpdatedAt||(f="pending")),r._optimisticResults==="isRestoring"&&(s="idle")}if(r.select&&typeof d.data<"u")if(p&&d.data===(y==null?void 0:y.data)&&r.select===L(this,ps))c=L(this,Ra);else try{fe(this,ps,r.select),c=r.select(d.data),c=Jh(p==null?void 0:p.data,c,r),fe(this,Ra,c),fe(this,Dr,null)}catch(S){fe(this,Dr,S)}else c=d.data;if(typeof r.placeholderData<"u"&&typeof c>"u"&&f==="pending"){let S;if(p!=null&&p.isPlaceholderData&&r.placeholderData===(u==null?void 0:u.placeholderData))S=p.data;else if(S=typeof r.placeholderData=="function"?r.placeholderData((_=L(this,Da))==null?void 0:_.state.data,L(this,Da)):r.placeholderData,r.select&&typeof S<"u")try{S=r.select(S),fe(this,Dr,null)}catch(E){fe(this,Dr,E)}typeof S<"u"&&(f="success",c=Jh(p==null?void 0:p.data,S,r),v=!0)}L(this,Dr)&&(a=L(this,Dr),c=L(this,Ra),l=Date.now(),f="error");const g=s==="fetching",m=f==="pending",b=f==="error",x=m&&g;return{status:f,fetchStatus:s,isPending:m,isSuccess:f==="success",isError:b,isInitialLoading:x,isLoading:x,data:c,dataUpdatedAt:d.dataUpdatedAt,error:a,errorUpdatedAt:l,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>h.dataUpdateCount||d.errorUpdateCount>h.errorUpdateCount,isFetching:g,isRefetching:g&&!m,isLoadingError:b&&d.dataUpdatedAt===0,isPaused:s==="paused",isPlaceholderData:v,isRefetchError:b&&d.dataUpdatedAt!==0,isStale:Sd(t,r),refetch:this.refetch}}updateResult(t){const r=L(this,Ct),n=this.createResult(L(this,He),this.options);if(fe(this,ai,L(this,He).state),fe(this,Ma,this.options),L(this,ai).data!==void 0&&fe(this,Da,L(this,He)),qh(n,r))return;fe(this,Ct,n);const o={},p=()=>{if(!r)return!0;const{notifyOnChangeProps:y}=this.options,u=typeof y=="function"?y():y;if(u==="all"||!u&&!L(this,li).size)return!0;const i=new Set(u??L(this,li));return this.options.throwOnError&&i.add("error"),Object.keys(L(this,Ct)).some(h=>{const d=h;return L(this,Ct)[d]!==r[d]&&i.has(d)})};(t==null?void 0:t.listeners)!==!1&&p()&&(o.listeners=!0),Ae(this,vu,I1).call(this,{...o,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ae(this,ys,rf).call(this)}},Mt=new WeakMap,He=new WeakMap,Aa=new WeakMap,Ct=new WeakMap,ai=new WeakMap,Ma=new WeakMap,Dr=new WeakMap,ps=new WeakMap,Ra=new WeakMap,Da=new WeakMap,oi=new WeakMap,si=new WeakMap,xn=new WeakMap,li=new WeakMap,ui=new WeakSet,Oo=function(t){Ae(this,ws,of).call(this);let r=L(this,He).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ir)),r},gs=new WeakSet,Zh=function(){if(Ae(this,bs,nf).call(this),za||L(this,Ct).isStale||!Kh(this.options.staleTime))return;const r=M1(L(this,Ct).dataUpdatedAt,this.options.staleTime)+1;fe(this,oi,setTimeout(()=>{L(this,Ct).isStale||this.updateResult()},r))},vs=new WeakSet,ef=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(L(this,He)):this.options.refetchInterval)??!1},ms=new WeakSet,tf=function(t){Ae(this,xs,af).call(this),fe(this,xn,t),!(za||this.options.enabled===!1||!Kh(L(this,xn))||L(this,xn)===0)&&fe(this,si,setInterval(()=>{(this.options.refetchIntervalInBackground||nu.isFocused())&&Ae(this,ui,Oo).call(this)},L(this,xn)))},ys=new WeakSet,rf=function(){Ae(this,gs,Zh).call(this),Ae(this,ms,tf).call(this,Ae(this,vs,ef).call(this))},bs=new WeakSet,nf=function(){L(this,oi)&&(clearTimeout(L(this,oi)),fe(this,oi,void 0))},xs=new WeakSet,af=function(){L(this,si)&&(clearInterval(L(this,si)),fe(this,si,void 0))},ws=new WeakSet,of=function(){const t=L(this,Mt).getQueryCache().build(L(this,Mt),this.options);if(t===L(this,He))return;const r=L(this,He);fe(this,He,t),fe(this,Aa,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},vu=new WeakSet,I1=function(t){bt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(L(this,Ct))}),L(this,Mt).getQueryCache().notify({query:L(this,He),type:"observerResultsUpdated"})})},Qm);function XC(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Zg(e,t){return XC(e,t)||e.state.dataUpdatedAt>0&&sf(e,t,t.refetchOnMount)}function sf(e,t,r){if(t.enabled!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Sd(e,t)}return!1}function ev(e,t,r,n){return r.enabled!==!1&&(e!==t||n.enabled===!1)&&(!r.suspense||e.state.status!=="error")&&Sd(e,r)}function Sd(e,t){return e.isStaleByTime(t.staleTime)}function YC(e,t){return!qh(e.getCurrentResult(),t)}var $1=B.createContext(void 0),GC=e=>{const t=B.useContext($1);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},VC=({client:e,children:t})=>(B.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),B.createElement($1.Provider,{value:e},t)),N1=B.createContext(!1),KC=()=>B.useContext(N1);N1.Provider;function qC(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var QC=B.createContext(qC()),JC=()=>B.useContext(QC);function ZC(e,t){return typeof e=="function"?e(...t):!!e}var eT=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},tT=e=>{B.useEffect(()=>{e.clearReset()},[e])},rT=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&ZC(r,[e.error,n]),nT=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},iT=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,aT=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function oT(e,t,r){const n=GC(r),o=KC(),p=JC(),y=n.defaultQueryOptions(e);y._optimisticResults=o?"isRestoring":"optimistic",nT(y),eT(y,p),tT(p);const[u]=B.useState(()=>new t(n,y)),i=u.getOptimisticResult(y);if(B.useSyncExternalStore(B.useCallback(h=>{const d=o?()=>{}:u.subscribe(bt.batchCalls(h));return u.updateResult(),d},[u,o]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),B.useEffect(()=>{u.setOptions(y,{listeners:!1})},[y,u]),iT(y,i))throw u.setOptions(y,{listeners:!1}),aT(y,u,p);if(rT({result:i,errorResetBoundary:p,throwOnError:y.throwOnError,query:u.getCurrentQuery()}))throw i.error;return y.notifyOnChangeProps?i:u.trackResult(i)}function sT(e,t){return oT(e,WC,t)}var B1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var p="",y=0;y<arguments.length;y++){var u=arguments[y];u&&(p=o(p,n(u)))}return p}function n(p){if(typeof p=="string"||typeof p=="number")return p;if(typeof p!="object")return"";if(Array.isArray(p))return r.apply(null,p);if(p.toString!==Object.prototype.toString&&!p.toString.toString().includes("[native code]"))return p.toString();var y="";for(var u in p)t.call(p,u)&&p[u]&&(y=o(y,u));return y}function o(p,y){return y?p?p+" "+y:p+y:p}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(B1);var lT=B1.exports;const ya=_s(lT),uT={id:"total",name:"Tổng quan",src:"/images/pan.png",properties:[]};var Wt=(e=>(e.COLOR="color",e.IMAGE="image",e.TEXT="text",e.NONE="none",e))(Wt||{}),lf={exports:{}},uf={exports:{}},H1={exports:{}},cT="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hT=cT,fT=hT;function z1(){}function U1(){}U1.resetWarningCache=z1;var dT=function(){function e(n,o,p,y,u,i){if(i!==fT){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:U1,resetWarningCache:z1};return r.PropTypes=r,r};H1.exports=dT();var W1=H1.exports;const ce=_s(W1);/*!
 * perfect-scrollbar v1.5.3
 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function Lr(e){return getComputedStyle(e)}function Dt(e,t){for(var r in t){var n=t[r];typeof n=="number"&&(n=n+"px"),e.style[r]=n}return e}function hl(e){var t=document.createElement("div");return t.className=e,t}var tv=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function Sn(e,t){if(!tv)throw new Error("No element matching method supported");return tv.call(e,t)}function ha(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function rv(e,t){return Array.prototype.filter.call(e.children,function(r){return Sn(r,t)})}var ot={main:"ps",rtl:"ps__rtl",element:{thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}}},X1={x:null,y:null};function Y1(e,t){var r=e.element.classList,n=ot.state.scrolling(t);r.contains(n)?clearTimeout(X1[t]):r.add(n)}function G1(e,t){X1[t]=setTimeout(function(){return e.isAlive&&e.element.classList.remove(ot.state.scrolling(t))},e.settings.scrollingThreshold)}function pT(e,t){Y1(e,t),G1(e,t)}var Ms=function(t){this.element=t,this.handlers={}},V1={isEmpty:{configurable:!0}};Ms.prototype.bind=function(t,r){typeof this.handlers[t]>"u"&&(this.handlers[t]=[]),this.handlers[t].push(r),this.element.addEventListener(t,r,!1)};Ms.prototype.unbind=function(t,r){var n=this;this.handlers[t]=this.handlers[t].filter(function(o){return r&&o!==r?!0:(n.element.removeEventListener(t,o,!1),!1)})};Ms.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)};V1.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every(function(t){return e.handlers[t].length===0})};Object.defineProperties(Ms.prototype,V1);var Ga=function(){this.eventElements=[]};Ga.prototype.eventElement=function(t){var r=this.eventElements.filter(function(n){return n.element===t})[0];return r||(r=new Ms(t),this.eventElements.push(r)),r};Ga.prototype.bind=function(t,r,n){this.eventElement(t).bind(r,n)};Ga.prototype.unbind=function(t,r,n){var o=this.eventElement(t);o.unbind(r,n),o.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(o),1)};Ga.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]};Ga.prototype.once=function(t,r,n){var o=this.eventElement(t),p=function(y){o.unbind(r,p),n(y)};o.bind(r,p)};function fl(e){if(typeof window.CustomEvent=="function")return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function au(e,t,r,n,o){n===void 0&&(n=!0),o===void 0&&(o=!1);var p;if(t==="top")p=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(t==="left")p=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");gT(e,r,p,n,o)}function gT(e,t,r,n,o){var p=r[0],y=r[1],u=r[2],i=r[3],h=r[4],d=r[5];n===void 0&&(n=!0),o===void 0&&(o=!1);var a=e.element;e.reach[i]=null,a[u]<1&&(e.reach[i]="start"),a[u]>e[p]-e[y]-1&&(e.reach[i]="end"),t&&(a.dispatchEvent(fl("ps-scroll-"+i)),t<0?a.dispatchEvent(fl("ps-scroll-"+h)):t>0&&a.dispatchEvent(fl("ps-scroll-"+d)),n&&pT(e,i)),e.reach[i]&&(t||o)&&a.dispatchEvent(fl("ps-"+i+"-reach-"+e.reach[i]))}function Qe(e){return parseInt(e,10)||0}function vT(e){return Sn(e,"input,[contenteditable]")||Sn(e,"select,[contenteditable]")||Sn(e,"textarea,[contenteditable]")||Sn(e,"button,[contenteditable]")}function mT(e){var t=Lr(e);return Qe(t.width)+Qe(t.paddingLeft)+Qe(t.paddingRight)+Qe(t.borderLeftWidth)+Qe(t.borderRightWidth)}var Di={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function Zr(e){var t=e.element,r=Math.floor(t.scrollTop),n=t.getBoundingClientRect();e.containerWidth=Math.round(n.width),e.containerHeight=Math.round(n.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(rv(t,ot.element.rail("x")).forEach(function(o){return ha(o)}),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(rv(t,ot.element.rail("y")).forEach(function(o){return ha(o)}),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=nv(e,Qe(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=Qe((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=nv(e,Qe(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=Qe(r*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),yT(t,e),e.scrollbarXActive?t.classList.add(ot.state.active("x")):(t.classList.remove(ot.state.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=e.isRtl===!0?e.contentWidth:0),e.scrollbarYActive?t.classList.add(ot.state.active("y")):(t.classList.remove(ot.state.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function nv(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function yT(e,t){var r={width:t.railXWidth},n=Math.floor(e.scrollTop);t.isRtl?r.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:r.left=e.scrollLeft,t.isScrollbarXUsingBottom?r.bottom=t.scrollbarXBottom-n:r.top=t.scrollbarXTop+n,Dt(t.scrollbarXRail,r);var o={top:n,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?o.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:o.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?o.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth*2-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:o.left=t.scrollbarYLeft+e.scrollLeft,Dt(t.scrollbarYRail,o),Dt(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),Dt(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}function bT(e){e.element,e.event.bind(e.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),e.event.bind(e.scrollbarYRail,"mousedown",function(t){var r=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top,n=r>e.scrollbarYTop?1:-1;e.element.scrollTop+=n*e.containerHeight,Zr(e),t.stopPropagation()}),e.event.bind(e.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),e.event.bind(e.scrollbarXRail,"mousedown",function(t){var r=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left,n=r>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=n*e.containerWidth,Zr(e),t.stopPropagation()})}function xT(e){iv(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),iv(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function iv(e,t){var r=t[0],n=t[1],o=t[2],p=t[3],y=t[4],u=t[5],i=t[6],h=t[7],d=t[8],a=e.element,l=null,s=null,f=null;function v(m){m.touches&&m.touches[0]&&(m[o]=m.touches[0].pageY),a[i]=l+f*(m[o]-s),Y1(e,h),Zr(e),m.stopPropagation(),m.type.startsWith("touch")&&m.changedTouches.length>1&&m.preventDefault()}function c(){G1(e,h),e[d].classList.remove(ot.state.clicking),e.event.unbind(e.ownerDocument,"mousemove",v)}function g(m,b){l=a[i],b&&m.touches&&(m[o]=m.touches[0].pageY),s=m[o],f=(e[n]-e[r])/(e[p]-e[u]),b?e.event.bind(e.ownerDocument,"touchmove",v):(e.event.bind(e.ownerDocument,"mousemove",v),e.event.once(e.ownerDocument,"mouseup",c),m.preventDefault()),e[d].classList.add(ot.state.clicking),m.stopPropagation()}e.event.bind(e[y],"mousedown",function(m){g(m)}),e.event.bind(e[y],"touchstart",function(m){g(m,!0)})}function wT(e){var t=e.element,r=function(){return Sn(t,":hover")},n=function(){return Sn(e.scrollbarX,":focus")||Sn(e.scrollbarY,":focus")};function o(p,y){var u=Math.floor(t.scrollTop);if(p===0){if(!e.scrollbarYActive)return!1;if(u===0&&y>0||u>=e.contentHeight-e.containerHeight&&y<0)return!e.settings.wheelPropagation}var i=t.scrollLeft;if(y===0){if(!e.scrollbarXActive)return!1;if(i===0&&p<0||i>=e.contentWidth-e.containerWidth&&p>0)return!e.settings.wheelPropagation}return!0}e.event.bind(e.ownerDocument,"keydown",function(p){if(!(p.isDefaultPrevented&&p.isDefaultPrevented()||p.defaultPrevented)&&!(!r()&&!n())){var y=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(y){if(y.tagName==="IFRAME")y=y.contentDocument.activeElement;else for(;y.shadowRoot;)y=y.shadowRoot.activeElement;if(vT(y))return}var u=0,i=0;switch(p.which){case 37:p.metaKey?u=-e.contentWidth:p.altKey?u=-e.containerWidth:u=-30;break;case 38:p.metaKey?i=e.contentHeight:p.altKey?i=e.containerHeight:i=30;break;case 39:p.metaKey?u=e.contentWidth:p.altKey?u=e.containerWidth:u=30;break;case 40:p.metaKey?i=-e.contentHeight:p.altKey?i=-e.containerHeight:i=-30;break;case 32:p.shiftKey?i=e.containerHeight:i=-e.containerHeight;break;case 33:i=e.containerHeight;break;case 34:i=-e.containerHeight;break;case 36:i=e.contentHeight;break;case 35:i=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&u!==0||e.settings.suppressScrollY&&i!==0||(t.scrollTop-=i,t.scrollLeft+=u,Zr(e),o(u,i)&&p.preventDefault())}})}function _T(e){var t=e.element;function r(y,u){var i=Math.floor(t.scrollTop),h=t.scrollTop===0,d=i+t.offsetHeight===t.scrollHeight,a=t.scrollLeft===0,l=t.scrollLeft+t.offsetWidth===t.scrollWidth,s;return Math.abs(u)>Math.abs(y)?s=h||d:s=a||l,s?!e.settings.wheelPropagation:!0}function n(y){var u=y.deltaX,i=-1*y.deltaY;return(typeof u>"u"||typeof i>"u")&&(u=-1*y.wheelDeltaX/6,i=y.wheelDeltaY/6),y.deltaMode&&y.deltaMode===1&&(u*=10,i*=10),u!==u&&i!==i&&(u=0,i=y.wheelDelta),y.shiftKey?[-i,-u]:[u,i]}function o(y,u,i){if(!Di.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(y))return!1;for(var h=y;h&&h!==t;){if(h.classList.contains(ot.element.consuming))return!0;var d=Lr(h);if(i&&d.overflowY.match(/(scroll|auto)/)){var a=h.scrollHeight-h.clientHeight;if(a>0&&(h.scrollTop>0&&i<0||h.scrollTop<a&&i>0))return!0}if(u&&d.overflowX.match(/(scroll|auto)/)){var l=h.scrollWidth-h.clientWidth;if(l>0&&(h.scrollLeft>0&&u<0||h.scrollLeft<l&&u>0))return!0}h=h.parentNode}return!1}function p(y){var u=n(y),i=u[0],h=u[1];if(!o(y.target,i,h)){var d=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(h?t.scrollTop-=h*e.settings.wheelSpeed:t.scrollTop+=i*e.settings.wheelSpeed,d=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(i?t.scrollLeft+=i*e.settings.wheelSpeed:t.scrollLeft-=h*e.settings.wheelSpeed,d=!0):(t.scrollTop-=h*e.settings.wheelSpeed,t.scrollLeft+=i*e.settings.wheelSpeed),Zr(e),d=d||r(i,h),d&&!y.ctrlKey&&(y.stopPropagation(),y.preventDefault())}}typeof window.onwheel<"u"?e.event.bind(t,"wheel",p):typeof window.onmousewheel<"u"&&e.event.bind(t,"mousewheel",p)}function ST(e){if(!Di.supportsTouch&&!Di.supportsIePointer)return;var t=e.element;function r(f,v){var c=Math.floor(t.scrollTop),g=t.scrollLeft,m=Math.abs(f),b=Math.abs(v);if(b>m){if(v<0&&c===e.contentHeight-e.containerHeight||v>0&&c===0)return window.scrollY===0&&v>0&&Di.isChrome}else if(m>b&&(f<0&&g===e.contentWidth-e.containerWidth||f>0&&g===0))return!0;return!0}function n(f,v){t.scrollTop-=v,t.scrollLeft-=f,Zr(e)}var o={},p=0,y={},u=null;function i(f){return f.targetTouches?f.targetTouches[0]:f}function h(f){return f.pointerType&&f.pointerType==="pen"&&f.buttons===0?!1:!!(f.targetTouches&&f.targetTouches.length===1||f.pointerType&&f.pointerType!=="mouse"&&f.pointerType!==f.MSPOINTER_TYPE_MOUSE)}function d(f){if(h(f)){var v=i(f);o.pageX=v.pageX,o.pageY=v.pageY,p=new Date().getTime(),u!==null&&clearInterval(u)}}function a(f,v,c){if(!t.contains(f))return!1;for(var g=f;g&&g!==t;){if(g.classList.contains(ot.element.consuming))return!0;var m=Lr(g);if(c&&m.overflowY.match(/(scroll|auto)/)){var b=g.scrollHeight-g.clientHeight;if(b>0&&(g.scrollTop>0&&c<0||g.scrollTop<b&&c>0))return!0}if(v&&m.overflowX.match(/(scroll|auto)/)){var x=g.scrollWidth-g.clientWidth;if(x>0&&(g.scrollLeft>0&&v<0||g.scrollLeft<x&&v>0))return!0}g=g.parentNode}return!1}function l(f){if(h(f)){var v=i(f),c={pageX:v.pageX,pageY:v.pageY},g=c.pageX-o.pageX,m=c.pageY-o.pageY;if(a(f.target,g,m))return;n(g,m),o=c;var b=new Date().getTime(),x=b-p;x>0&&(y.x=g/x,y.y=m/x,p=b),r(g,m)&&f.preventDefault()}}function s(){e.settings.swipeEasing&&(clearInterval(u),u=setInterval(function(){if(e.isInitialized){clearInterval(u);return}if(!y.x&&!y.y){clearInterval(u);return}if(Math.abs(y.x)<.01&&Math.abs(y.y)<.01){clearInterval(u);return}if(!e.element){clearInterval(u);return}n(y.x*30,y.y*30),y.x*=.8,y.y*=.8},10))}Di.supportsTouch?(e.event.bind(t,"touchstart",d),e.event.bind(t,"touchmove",l),e.event.bind(t,"touchend",s)):Di.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",d),e.event.bind(t,"pointermove",l),e.event.bind(t,"pointerup",s)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",d),e.event.bind(t,"MSPointerMove",l),e.event.bind(t,"MSPointerUp",s)))}var CT=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},TT={"click-rail":bT,"drag-thumb":xT,keyboard:wT,wheel:_T,touch:ST},Rs=function(t,r){var n=this;if(r===void 0&&(r={}),typeof t=="string"&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=t,t.classList.add(ot.main),this.settings=CT();for(var o in r)this.settings[o]=r[o];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var p=function(){return t.classList.add(ot.state.focus)},y=function(){return t.classList.remove(ot.state.focus)};this.isRtl=Lr(t).direction==="rtl",this.isRtl===!0&&t.classList.add(ot.rtl),this.isNegativeScroll=function(){var h=t.scrollLeft,d=null;return t.scrollLeft=-1,d=t.scrollLeft<0,t.scrollLeft=h,d}(),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new Ga,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=hl(ot.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=hl(ot.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",p),this.event.bind(this.scrollbarX,"blur",y),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var u=Lr(this.scrollbarXRail);this.scrollbarXBottom=parseInt(u.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=Qe(u.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=Qe(u.borderLeftWidth)+Qe(u.borderRightWidth),Dt(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=Qe(u.marginLeft)+Qe(u.marginRight),Dt(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=hl(ot.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=hl(ot.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",p),this.event.bind(this.scrollbarY,"blur",y),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var i=Lr(this.scrollbarYRail);this.scrollbarYRight=parseInt(i.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=Qe(i.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?mT(this.scrollbarY):null,this.railBorderYWidth=Qe(i.borderTopWidth)+Qe(i.borderBottomWidth),Dt(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=Qe(i.marginTop)+Qe(i.marginBottom),Dt(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(h){return TT[h](n)}),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",function(h){return n.onScroll(h)}),Zr(this)};Rs.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,Dt(this.scrollbarXRail,{display:"block"}),Dt(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=Qe(Lr(this.scrollbarXRail).marginLeft)+Qe(Lr(this.scrollbarXRail).marginRight),this.railYMarginHeight=Qe(Lr(this.scrollbarYRail).marginTop)+Qe(Lr(this.scrollbarYRail).marginBottom),Dt(this.scrollbarXRail,{display:"none"}),Dt(this.scrollbarYRail,{display:"none"}),Zr(this),au(this,"top",0,!1,!0),au(this,"left",0,!1,!0),Dt(this.scrollbarXRail,{display:""}),Dt(this.scrollbarYRail,{display:""}))};Rs.prototype.onScroll=function(t){this.isAlive&&(Zr(this),au(this,"top",this.element.scrollTop-this.lastScrollTop),au(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)};Rs.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),ha(this.scrollbarX),ha(this.scrollbarY),ha(this.scrollbarXRail),ha(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)};Rs.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")};const ET=Object.freeze(Object.defineProperty({__proto__:null,default:Rs},Symbol.toStringTag,{value:"Module"})),OT=Zm(ET);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(c){for(var g=1;g<arguments.length;g++){var m=arguments[g];for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(c[b]=m[b])}return c},n=function(){function c(g,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,m,b){return m&&c(g.prototype,m),b&&c(g,b),g}}(),o=B,p=h(o),y=W1,u=OT,i=h(u);function h(c){return c&&c.__esModule?c:{default:c}}function d(c,g){var m={};for(var b in c)g.indexOf(b)>=0||Object.prototype.hasOwnProperty.call(c,b)&&(m[b]=c[b]);return m}function a(c,g){if(!(c instanceof g))throw new TypeError("Cannot call a class as a function")}function l(c,g){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:c}function s(c,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);c.prototype=Object.create(g&&g.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(c,g):c.__proto__=g)}var f={"ps-scroll-y":"onScrollY","ps-scroll-x":"onScrollX","ps-scroll-up":"onScrollUp","ps-scroll-down":"onScrollDown","ps-scroll-left":"onScrollLeft","ps-scroll-right":"onScrollRight","ps-y-reach-start":"onYReachStart","ps-y-reach-end":"onYReachEnd","ps-x-reach-start":"onXReachStart","ps-x-reach-end":"onXReachEnd"};Object.freeze(f);var v=function(c){s(g,c);function g(m){a(this,g);var b=l(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,m));return b.handleRef=b.handleRef.bind(b),b._handlerByEvent={},b}return n(g,[{key:"componentDidMount",value:function(){this.props.option&&console.warn('react-perfect-scrollbar: the "option" prop has been deprecated in favor of "options"'),this._ps=new i.default(this._container,this.props.options||this.props.option),this._updateEventHook(),this._updateClassName()}},{key:"componentDidUpdate",value:function(b){this._updateEventHook(b),this.updateScroll(),b.className!==this.props.className&&this._updateClassName()}},{key:"componentWillUnmount",value:function(){var b=this;Object.keys(this._handlerByEvent).forEach(function(x){var w=b._handlerByEvent[x];w&&b._container.removeEventListener(x,w,!1)}),this._handlerByEvent={},this._ps.destroy(),this._ps=null}},{key:"_updateEventHook",value:function(){var b=this,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.keys(f).forEach(function(w){var _=b.props[f[w]],S=x[f[w]];if(_!==S){if(S){var E=b._handlerByEvent[w];b._container.removeEventListener(w,E,!1),b._handlerByEvent[w]=null}if(_){var R=function(){return _(b._container)};b._container.addEventListener(w,R,!1),b._handlerByEvent[w]=R}}})}},{key:"_updateClassName",value:function(){var b=this.props.className,x=this._container.className.split(" ").filter(function(w){return w.match(/^ps([-_].+|)$/)}).join(" ");this._container&&(this._container.className="scrollbar-container"+(b?" "+b:"")+(x?" "+x:""))}},{key:"updateScroll",value:function(){this.props.onSync(this._ps)}},{key:"handleRef",value:function(b){this._container=b,this.props.containerRef(b)}},{key:"render",value:function(){var b=this.props;b.className;var x=b.style;b.option,b.options,b.containerRef,b.onScrollY,b.onScrollX,b.onScrollUp,b.onScrollDown,b.onScrollLeft,b.onScrollRight,b.onYReachStart,b.onYReachEnd,b.onXReachStart,b.onXReachEnd;var w=b.component;b.onSync;var _=b.children,S=d(b,["className","style","option","options","containerRef","onScrollY","onScrollX","onScrollUp","onScrollDown","onScrollLeft","onScrollRight","onYReachStart","onYReachEnd","onXReachStart","onXReachEnd","component","onSync","children"]),E=w;return p.default.createElement(E,r({style:x,ref:this.handleRef},S),_)}}]),g}(o.Component);t.default=v,v.defaultProps={className:"",style:void 0,option:void 0,options:void 0,containerRef:function(){},onScrollY:void 0,onScrollX:void 0,onScrollUp:void 0,onScrollDown:void 0,onScrollLeft:void 0,onScrollRight:void 0,onYReachStart:void 0,onYReachEnd:void 0,onXReachStart:void 0,onXReachEnd:void 0,onSync:function(g){return g.update()},component:"div"},v.propTypes={children:y.PropTypes.node.isRequired,className:y.PropTypes.string,style:y.PropTypes.object,option:y.PropTypes.object,options:y.PropTypes.object,containerRef:y.PropTypes.func,onScrollY:y.PropTypes.func,onScrollX:y.PropTypes.func,onScrollUp:y.PropTypes.func,onScrollDown:y.PropTypes.func,onScrollLeft:y.PropTypes.func,onScrollRight:y.PropTypes.func,onYReachStart:y.PropTypes.func,onYReachEnd:y.PropTypes.func,onXReachStart:y.PropTypes.func,onXReachEnd:y.PropTypes.func,onSync:y.PropTypes.func,component:y.PropTypes.string},e.exports=t.default})(uf,uf.exports);var PT=uf.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=PT,n=o(r);function o(p){return p&&p.__esModule?p:{default:p}}t.default=n.default,e.exports=t.default})(lf,lf.exports);var kT=lf.exports;const AT=_s(kT);function MT(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:+parseInt(t[1],16),g:+parseInt(t[2],16),b:+parseInt(t[3],16)}:null}function RT(e){const t=MT(e);return t?t.r*.299+t.g*.587+t.b*.114>186?"#000000":"#FFFFFF":null}var sr={},Ds={},DT=typeof Ys=="object"&&Ys&&Ys.Object===Object&&Ys,K1=DT,FT=K1,LT=typeof self=="object"&&self&&self.Object===Object&&self,jT=FT||LT||Function("return this")(),Br=jT,IT=Br,$T=IT.Symbol,Fs=$T,av=Fs,q1=Object.prototype,NT=q1.hasOwnProperty,BT=q1.toString,bo=av?av.toStringTag:void 0;function HT(e){var t=NT.call(e,bo),r=e[bo];try{e[bo]=void 0;var n=!0}catch{}var o=BT.call(e);return n&&(t?e[bo]=r:delete e[bo]),o}var zT=HT,UT=Object.prototype,WT=UT.toString;function XT(e){return WT.call(e)}var YT=XT,ov=Fs,GT=zT,VT=YT,KT="[object Null]",qT="[object Undefined]",sv=ov?ov.toStringTag:void 0;function QT(e){return e==null?e===void 0?qT:KT:sv&&sv in Object(e)?GT(e):VT(e)}var wi=QT,JT=Array.isArray,Cr=JT;function ZT(e){return e!=null&&typeof e=="object"}var tn=ZT,e2=wi,t2=Cr,r2=tn,n2="[object String]";function i2(e){return typeof e=="string"||!t2(e)&&r2(e)&&e2(e)==n2}var a2=i2;function o2(e){return function(t,r,n){for(var o=-1,p=Object(t),y=n(t),u=y.length;u--;){var i=y[e?u:++o];if(r(p[i],i,p)===!1)break}return t}}var s2=o2,l2=s2,u2=l2(),c2=u2;function h2(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var f2=h2,d2=wi,p2=tn,g2="[object Arguments]";function v2(e){return p2(e)&&d2(e)==g2}var m2=v2,lv=m2,y2=tn,Q1=Object.prototype,b2=Q1.hasOwnProperty,x2=Q1.propertyIsEnumerable,w2=lv(function(){return arguments}())?lv:function(e){return y2(e)&&b2.call(e,"callee")&&!x2.call(e,"callee")},J1=w2,ou={exports:{}};function _2(){return!1}var S2=_2;ou.exports;(function(e,t){var r=Br,n=S2,o=t&&!t.nodeType&&t,p=o&&!0&&e&&!e.nodeType&&e,y=p&&p.exports===o,u=y?r.Buffer:void 0,i=u?u.isBuffer:void 0,h=i||n;e.exports=h})(ou,ou.exports);var Cd=ou.exports,C2=9007199254740991,T2=/^(?:0|[1-9]\d*)$/;function E2(e,t){var r=typeof e;return t=t??C2,!!t&&(r=="number"||r!="symbol"&&T2.test(e))&&e>-1&&e%1==0&&e<t}var Z1=E2,O2=9007199254740991;function P2(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=O2}var Td=P2,k2=wi,A2=Td,M2=tn,R2="[object Arguments]",D2="[object Array]",F2="[object Boolean]",L2="[object Date]",j2="[object Error]",I2="[object Function]",$2="[object Map]",N2="[object Number]",B2="[object Object]",H2="[object RegExp]",z2="[object Set]",U2="[object String]",W2="[object WeakMap]",X2="[object ArrayBuffer]",Y2="[object DataView]",G2="[object Float32Array]",V2="[object Float64Array]",K2="[object Int8Array]",q2="[object Int16Array]",Q2="[object Int32Array]",J2="[object Uint8Array]",Z2="[object Uint8ClampedArray]",eE="[object Uint16Array]",tE="[object Uint32Array]",Xe={};Xe[G2]=Xe[V2]=Xe[K2]=Xe[q2]=Xe[Q2]=Xe[J2]=Xe[Z2]=Xe[eE]=Xe[tE]=!0;Xe[R2]=Xe[D2]=Xe[X2]=Xe[F2]=Xe[Y2]=Xe[L2]=Xe[j2]=Xe[I2]=Xe[$2]=Xe[N2]=Xe[B2]=Xe[H2]=Xe[z2]=Xe[U2]=Xe[W2]=!1;function rE(e){return M2(e)&&A2(e.length)&&!!Xe[k2(e)]}var nE=rE;function iE(e){return function(t){return e(t)}}var Ed=iE,su={exports:{}};su.exports;(function(e,t){var r=K1,n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,p=o&&o.exports===n,y=p&&r.process,u=function(){try{var i=o&&o.require&&o.require("util").types;return i||y&&y.binding&&y.binding("util")}catch{}}();e.exports=u})(su,su.exports);var Od=su.exports,aE=nE,oE=Ed,uv=Od,cv=uv&&uv.isTypedArray,sE=cv?oE(cv):aE,eb=sE,lE=f2,uE=J1,cE=Cr,hE=Cd,fE=Z1,dE=eb,pE=Object.prototype,gE=pE.hasOwnProperty;function vE(e,t){var r=cE(e),n=!r&&uE(e),o=!r&&!n&&hE(e),p=!r&&!n&&!o&&dE(e),y=r||n||o||p,u=y?lE(e.length,String):[],i=u.length;for(var h in e)(t||gE.call(e,h))&&!(y&&(h=="length"||o&&(h=="offset"||h=="parent")||p&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||fE(h,i)))&&u.push(h);return u}var tb=vE,mE=Object.prototype;function yE(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||mE;return e===r}var Pd=yE;function bE(e,t){return function(r){return e(t(r))}}var rb=bE,xE=rb,wE=xE(Object.keys,Object),_E=wE,SE=Pd,CE=_E,TE=Object.prototype,EE=TE.hasOwnProperty;function OE(e){if(!SE(e))return CE(e);var t=[];for(var r in Object(e))EE.call(e,r)&&r!="constructor"&&t.push(r);return t}var PE=OE;function kE(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Va=kE,AE=wi,ME=Va,RE="[object AsyncFunction]",DE="[object Function]",FE="[object GeneratorFunction]",LE="[object Proxy]";function jE(e){if(!ME(e))return!1;var t=AE(e);return t==DE||t==FE||t==RE||t==LE}var nb=jE,IE=nb,$E=Td;function NE(e){return e!=null&&$E(e.length)&&!IE(e)}var Iu=NE,BE=tb,HE=PE,zE=Iu;function UE(e){return zE(e)?BE(e):HE(e)}var Ls=UE,WE=c2,XE=Ls;function YE(e,t){return e&&WE(e,t,XE)}var ib=YE;function GE(e){return e}var ab=GE,VE=ab;function KE(e){return typeof e=="function"?e:VE}var qE=KE,QE=ib,JE=qE;function ZE(e,t){return e&&QE(e,JE(t))}var kd=ZE,eO=rb,tO=eO(Object.getPrototypeOf,Object),Ad=tO,rO=wi,nO=Ad,iO=tn,aO="[object Object]",oO=Function.prototype,sO=Object.prototype,ob=oO.toString,lO=sO.hasOwnProperty,uO=ob.call(Object);function cO(e){if(!iO(e)||rO(e)!=aO)return!1;var t=nO(e);if(t===null)return!0;var r=lO.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ob.call(r)==uO}var hO=cO;function fO(e,t){for(var r=-1,n=e==null?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}var sb=fO;function dO(){this.__data__=[],this.size=0}var pO=dO;function gO(e,t){return e===t||e!==e&&t!==t}var Md=gO,vO=Md;function mO(e,t){for(var r=e.length;r--;)if(vO(e[r][0],t))return r;return-1}var $u=mO,yO=$u,bO=Array.prototype,xO=bO.splice;function wO(e){var t=this.__data__,r=yO(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():xO.call(t,r,1),--this.size,!0}var _O=wO,SO=$u;function CO(e){var t=this.__data__,r=SO(t,e);return r<0?void 0:t[r][1]}var TO=CO,EO=$u;function OO(e){return EO(this.__data__,e)>-1}var PO=OO,kO=$u;function AO(e,t){var r=this.__data__,n=kO(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var MO=AO,RO=pO,DO=_O,FO=TO,LO=PO,jO=MO;function Ka(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ka.prototype.clear=RO;Ka.prototype.delete=DO;Ka.prototype.get=FO;Ka.prototype.has=LO;Ka.prototype.set=jO;var Nu=Ka,IO=Nu;function $O(){this.__data__=new IO,this.size=0}var NO=$O;function BO(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var HO=BO;function zO(e){return this.__data__.get(e)}var UO=zO;function WO(e){return this.__data__.has(e)}var XO=WO,YO=Br,GO=YO["__core-js_shared__"],VO=GO,Ic=VO,hv=function(){var e=/[^.]+$/.exec(Ic&&Ic.keys&&Ic.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function KO(e){return!!hv&&hv in e}var qO=KO,QO=Function.prototype,JO=QO.toString;function ZO(e){if(e!=null){try{return JO.call(e)}catch{}try{return e+""}catch{}}return""}var lb=ZO,eP=nb,tP=qO,rP=Va,nP=lb,iP=/[\\^$.*+?()[\]{}|]/g,aP=/^\[object .+?Constructor\]$/,oP=Function.prototype,sP=Object.prototype,lP=oP.toString,uP=sP.hasOwnProperty,cP=RegExp("^"+lP.call(uP).replace(iP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hP(e){if(!rP(e)||tP(e))return!1;var t=eP(e)?cP:aP;return t.test(nP(e))}var fP=hP;function dP(e,t){return e==null?void 0:e[t]}var pP=dP,gP=fP,vP=pP;function mP(e,t){var r=vP(e,t);return gP(r)?r:void 0}var _i=mP,yP=_i,bP=Br,xP=yP(bP,"Map"),Rd=xP,wP=_i,_P=wP(Object,"create"),Bu=_P,fv=Bu;function SP(){this.__data__=fv?fv(null):{},this.size=0}var CP=SP;function TP(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var EP=TP,OP=Bu,PP="__lodash_hash_undefined__",kP=Object.prototype,AP=kP.hasOwnProperty;function MP(e){var t=this.__data__;if(OP){var r=t[e];return r===PP?void 0:r}return AP.call(t,e)?t[e]:void 0}var RP=MP,DP=Bu,FP=Object.prototype,LP=FP.hasOwnProperty;function jP(e){var t=this.__data__;return DP?t[e]!==void 0:LP.call(t,e)}var IP=jP,$P=Bu,NP="__lodash_hash_undefined__";function BP(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$P&&t===void 0?NP:t,this}var HP=BP,zP=CP,UP=EP,WP=RP,XP=IP,YP=HP;function qa(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}qa.prototype.clear=zP;qa.prototype.delete=UP;qa.prototype.get=WP;qa.prototype.has=XP;qa.prototype.set=YP;var GP=qa,dv=GP,VP=Nu,KP=Rd;function qP(){this.size=0,this.__data__={hash:new dv,map:new(KP||VP),string:new dv}}var QP=qP;function JP(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ZP=JP,ek=ZP;function tk(e,t){var r=e.__data__;return ek(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Hu=tk,rk=Hu;function nk(e){var t=rk(this,e).delete(e);return this.size-=t?1:0,t}var ik=nk,ak=Hu;function ok(e){return ak(this,e).get(e)}var sk=ok,lk=Hu;function uk(e){return lk(this,e).has(e)}var ck=uk,hk=Hu;function fk(e,t){var r=hk(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var dk=fk,pk=QP,gk=ik,vk=sk,mk=ck,yk=dk;function Qa(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qa.prototype.clear=pk;Qa.prototype.delete=gk;Qa.prototype.get=vk;Qa.prototype.has=mk;Qa.prototype.set=yk;var Dd=Qa,bk=Nu,xk=Rd,wk=Dd,_k=200;function Sk(e,t){var r=this.__data__;if(r instanceof bk){var n=r.__data__;if(!xk||n.length<_k-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new wk(n)}return r.set(e,t),this.size=r.size,this}var Ck=Sk,Tk=Nu,Ek=NO,Ok=HO,Pk=UO,kk=XO,Ak=Ck;function Ja(e){var t=this.__data__=new Tk(e);this.size=t.size}Ja.prototype.clear=Ek;Ja.prototype.delete=Ok;Ja.prototype.get=Pk;Ja.prototype.has=kk;Ja.prototype.set=Ak;var Fd=Ja,Mk="__lodash_hash_undefined__";function Rk(e){return this.__data__.set(e,Mk),this}var Dk=Rk;function Fk(e){return this.__data__.has(e)}var Lk=Fk,jk=Dd,Ik=Dk,$k=Lk;function lu(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new jk;++t<r;)this.add(e[t])}lu.prototype.add=lu.prototype.push=Ik;lu.prototype.has=$k;var Nk=lu;function Bk(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Hk=Bk;function zk(e,t){return e.has(t)}var Uk=zk,Wk=Nk,Xk=Hk,Yk=Uk,Gk=1,Vk=2;function Kk(e,t,r,n,o,p){var y=r&Gk,u=e.length,i=t.length;if(u!=i&&!(y&&i>u))return!1;var h=p.get(e),d=p.get(t);if(h&&d)return h==t&&d==e;var a=-1,l=!0,s=r&Vk?new Wk:void 0;for(p.set(e,t),p.set(t,e);++a<u;){var f=e[a],v=t[a];if(n)var c=y?n(v,f,a,t,e,p):n(f,v,a,e,t,p);if(c!==void 0){if(c)continue;l=!1;break}if(s){if(!Xk(t,function(g,m){if(!Yk(s,m)&&(f===g||o(f,g,r,n,p)))return s.push(m)})){l=!1;break}}else if(!(f===v||o(f,v,r,n,p))){l=!1;break}}return p.delete(e),p.delete(t),l}var ub=Kk,qk=Br,Qk=qk.Uint8Array,cb=Qk;function Jk(e){var t=-1,r=Array(e.size);return e.forEach(function(n,o){r[++t]=[o,n]}),r}var Zk=Jk;function eA(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var tA=eA,pv=Fs,gv=cb,rA=Md,nA=ub,iA=Zk,aA=tA,oA=1,sA=2,lA="[object Boolean]",uA="[object Date]",cA="[object Error]",hA="[object Map]",fA="[object Number]",dA="[object RegExp]",pA="[object Set]",gA="[object String]",vA="[object Symbol]",mA="[object ArrayBuffer]",yA="[object DataView]",vv=pv?pv.prototype:void 0,$c=vv?vv.valueOf:void 0;function bA(e,t,r,n,o,p,y){switch(r){case yA:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case mA:return!(e.byteLength!=t.byteLength||!p(new gv(e),new gv(t)));case lA:case uA:case fA:return rA(+e,+t);case cA:return e.name==t.name&&e.message==t.message;case dA:case gA:return e==t+"";case hA:var u=iA;case pA:var i=n&oA;if(u||(u=aA),e.size!=t.size&&!i)return!1;var h=y.get(e);if(h)return h==t;n|=sA,y.set(e,t);var d=nA(u(e),u(t),n,o,p,y);return y.delete(e),d;case vA:if($c)return $c.call(e)==$c.call(t)}return!1}var xA=bA;function wA(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}var hb=wA,_A=hb,SA=Cr;function CA(e,t,r){var n=t(e);return SA(e)?n:_A(n,r(e))}var fb=CA;function TA(e,t){for(var r=-1,n=e==null?0:e.length,o=0,p=[];++r<n;){var y=e[r];t(y,r,e)&&(p[o++]=y)}return p}var EA=TA;function OA(){return[]}var db=OA,PA=EA,kA=db,AA=Object.prototype,MA=AA.propertyIsEnumerable,mv=Object.getOwnPropertySymbols,RA=mv?function(e){return e==null?[]:(e=Object(e),PA(mv(e),function(t){return MA.call(e,t)}))}:kA,Ld=RA,DA=fb,FA=Ld,LA=Ls;function jA(e){return DA(e,LA,FA)}var pb=jA,yv=pb,IA=1,$A=Object.prototype,NA=$A.hasOwnProperty;function BA(e,t,r,n,o,p){var y=r&IA,u=yv(e),i=u.length,h=yv(t),d=h.length;if(i!=d&&!y)return!1;for(var a=i;a--;){var l=u[a];if(!(y?l in t:NA.call(t,l)))return!1}var s=p.get(e),f=p.get(t);if(s&&f)return s==t&&f==e;var v=!0;p.set(e,t),p.set(t,e);for(var c=y;++a<i;){l=u[a];var g=e[l],m=t[l];if(n)var b=y?n(m,g,l,t,e,p):n(g,m,l,e,t,p);if(!(b===void 0?g===m||o(g,m,r,n,p):b)){v=!1;break}c||(c=l=="constructor")}if(v&&!c){var x=e.constructor,w=t.constructor;x!=w&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof w=="function"&&w instanceof w)&&(v=!1)}return p.delete(e),p.delete(t),v}var HA=BA,zA=_i,UA=Br,WA=zA(UA,"DataView"),XA=WA,YA=_i,GA=Br,VA=YA(GA,"Promise"),KA=VA,qA=_i,QA=Br,JA=qA(QA,"Set"),ZA=JA,eM=_i,tM=Br,rM=eM(tM,"WeakMap"),nM=rM,cf=XA,hf=Rd,ff=KA,df=ZA,pf=nM,gb=wi,Za=lb,bv="[object Map]",iM="[object Object]",xv="[object Promise]",wv="[object Set]",_v="[object WeakMap]",Sv="[object DataView]",aM=Za(cf),oM=Za(hf),sM=Za(ff),lM=Za(df),uM=Za(pf),Vn=gb;(cf&&Vn(new cf(new ArrayBuffer(1)))!=Sv||hf&&Vn(new hf)!=bv||ff&&Vn(ff.resolve())!=xv||df&&Vn(new df)!=wv||pf&&Vn(new pf)!=_v)&&(Vn=function(e){var t=gb(e),r=t==iM?e.constructor:void 0,n=r?Za(r):"";if(n)switch(n){case aM:return Sv;case oM:return bv;case sM:return xv;case lM:return wv;case uM:return _v}return t});var zu=Vn,Nc=Fd,cM=ub,hM=xA,fM=HA,Cv=zu,Tv=Cr,Ev=Cd,dM=eb,pM=1,Ov="[object Arguments]",Pv="[object Array]",dl="[object Object]",gM=Object.prototype,kv=gM.hasOwnProperty;function vM(e,t,r,n,o,p){var y=Tv(e),u=Tv(t),i=y?Pv:Cv(e),h=u?Pv:Cv(t);i=i==Ov?dl:i,h=h==Ov?dl:h;var d=i==dl,a=h==dl,l=i==h;if(l&&Ev(e)){if(!Ev(t))return!1;y=!0,d=!1}if(l&&!d)return p||(p=new Nc),y||dM(e)?cM(e,t,r,n,o,p):hM(e,t,i,r,n,o,p);if(!(r&pM)){var s=d&&kv.call(e,"__wrapped__"),f=a&&kv.call(t,"__wrapped__");if(s||f){var v=s?e.value():e,c=f?t.value():t;return p||(p=new Nc),o(v,c,r,n,p)}}return l?(p||(p=new Nc),fM(e,t,r,n,o,p)):!1}var mM=vM,yM=mM,Av=tn;function vb(e,t,r,n,o){return e===t?!0:e==null||t==null||!Av(e)&&!Av(t)?e!==e&&t!==t:yM(e,t,r,n,vb,o)}var mb=vb,bM=Fd,xM=mb,wM=1,_M=2;function SM(e,t,r,n){var o=r.length,p=o,y=!n;if(e==null)return!p;for(e=Object(e);o--;){var u=r[o];if(y&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<p;){u=r[o];var i=u[0],h=e[i],d=u[1];if(y&&u[2]){if(h===void 0&&!(i in e))return!1}else{var a=new bM;if(n)var l=n(h,d,i,e,t,a);if(!(l===void 0?xM(d,h,wM|_M,n,a):l))return!1}}return!0}var CM=SM,TM=Va;function EM(e){return e===e&&!TM(e)}var yb=EM,OM=yb,PM=Ls;function kM(e){for(var t=PM(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,OM(o)]}return t}var AM=kM;function MM(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var bb=MM,RM=CM,DM=AM,FM=bb;function LM(e){var t=DM(e);return t.length==1&&t[0][2]?FM(t[0][0],t[0][1]):function(r){return r===e||RM(r,e,t)}}var jM=LM,IM=wi,$M=tn,NM="[object Symbol]";function BM(e){return typeof e=="symbol"||$M(e)&&IM(e)==NM}var jd=BM,HM=Cr,zM=jd,UM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,WM=/^\w*$/;function XM(e,t){if(HM(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||zM(e)?!0:WM.test(e)||!UM.test(e)||t!=null&&e in Object(t)}var Id=XM,xb=Dd,YM="Expected a function";function $d(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(YM);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],p=r.cache;if(p.has(o))return p.get(o);var y=e.apply(this,n);return r.cache=p.set(o,y)||p,y};return r.cache=new($d.Cache||xb),r}$d.Cache=xb;var GM=$d,VM=GM,KM=500;function qM(e){var t=VM(e,function(n){return r.size===KM&&r.clear(),n}),r=t.cache;return t}var QM=qM,JM=QM,ZM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eR=/\\(\\)?/g,tR=JM(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ZM,function(r,n,o,p){t.push(o?p.replace(eR,"$1"):n||r)}),t}),rR=tR,Mv=Fs,nR=sb,iR=Cr,aR=jd,oR=1/0,Rv=Mv?Mv.prototype:void 0,Dv=Rv?Rv.toString:void 0;function wb(e){if(typeof e=="string")return e;if(iR(e))return nR(e,wb)+"";if(aR(e))return Dv?Dv.call(e):"";var t=e+"";return t=="0"&&1/e==-oR?"-0":t}var sR=wb,lR=sR;function uR(e){return e==null?"":lR(e)}var cR=uR,hR=Cr,fR=Id,dR=rR,pR=cR;function gR(e,t){return hR(e)?e:fR(e,t)?[e]:dR(pR(e))}var _b=gR,vR=jd,mR=1/0;function yR(e){if(typeof e=="string"||vR(e))return e;var t=e+"";return t=="0"&&1/e==-mR?"-0":t}var Uu=yR,bR=_b,xR=Uu;function wR(e,t){t=bR(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[xR(t[r++])];return r&&r==n?e:void 0}var Sb=wR,_R=Sb;function SR(e,t,r){var n=e==null?void 0:_R(e,t);return n===void 0?r:n}var CR=SR;function TR(e,t){return e!=null&&t in Object(e)}var ER=TR,OR=_b,PR=J1,kR=Cr,AR=Z1,MR=Td,RR=Uu;function DR(e,t,r){t=OR(t,e);for(var n=-1,o=t.length,p=!1;++n<o;){var y=RR(t[n]);if(!(p=e!=null&&r(e,y)))break;e=e[y]}return p||++n!=o?p:(o=e==null?0:e.length,!!o&&MR(o)&&AR(y,o)&&(kR(e)||PR(e)))}var FR=DR,LR=ER,jR=FR;function IR(e,t){return e!=null&&jR(e,t,LR)}var $R=IR,NR=mb,BR=CR,HR=$R,zR=Id,UR=yb,WR=bb,XR=Uu,YR=1,GR=2;function VR(e,t){return zR(e)&&UR(t)?WR(XR(e),t):function(r){var n=BR(r,e);return n===void 0&&n===t?HR(r,e):NR(t,n,YR|GR)}}var KR=VR;function qR(e){return function(t){return t==null?void 0:t[e]}}var QR=qR,JR=Sb;function ZR(e){return function(t){return JR(t,e)}}var eD=ZR,tD=QR,rD=eD,nD=Id,iD=Uu;function aD(e){return nD(e)?tD(iD(e)):rD(e)}var oD=aD,sD=jM,lD=KR,uD=ab,cD=Cr,hD=oD;function fD(e){return typeof e=="function"?e:e==null?uD:typeof e=="object"?cD(e)?lD(e[0],e[1]):sD(e):hD(e)}var dD=fD,pD=Iu;function gD(e,t){return function(r,n){if(r==null)return r;if(!pD(r))return e(r,n);for(var o=r.length,p=t?o:-1,y=Object(r);(t?p--:++p<o)&&n(y[p],p,y)!==!1;);return r}}var vD=gD,mD=ib,yD=vD,bD=yD(mD),xD=bD,wD=xD,_D=Iu;function SD(e,t){var r=-1,n=_D(e)?Array(e.length):[];return wD(e,function(o,p,y){n[++r]=t(o,p,y)}),n}var CD=SD,TD=sb,ED=dD,OD=CD,PD=Cr;function kD(e,t){var r=PD(e)?TD:OD;return r(e,ED(t))}var AD=kD;Object.defineProperty(Ds,"__esModule",{value:!0});Ds.flattenNames=void 0;var MD=a2,RD=Wu(MD),DD=kd,FD=Wu(DD),LD=hO,jD=Wu(LD),ID=AD,$D=Wu(ID);function Wu(e){return e&&e.__esModule?e:{default:e}}var ND=Ds.flattenNames=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[];return(0,$D.default)(t,function(n){Array.isArray(n)?e(n).map(function(o){return r.push(o)}):(0,jD.default)(n)?(0,FD.default)(n,function(o,p){o===!0&&r.push(p),r.push(p+"-"+o)}):(0,RD.default)(n)&&r.push(n)}),r};Ds.default=ND;var js={};function BD(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var HD=BD,zD=_i,UD=function(){try{var e=zD(Object,"defineProperty");return e({},"",{}),e}catch{}}(),WD=UD,Fv=WD;function XD(e,t,r){t=="__proto__"&&Fv?Fv(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Cb=XD,YD=Cb,GD=Md,VD=Object.prototype,KD=VD.hasOwnProperty;function qD(e,t,r){var n=e[t];(!(KD.call(e,t)&&GD(n,r))||r===void 0&&!(t in e))&&YD(e,t,r)}var Tb=qD,QD=Tb,JD=Cb;function ZD(e,t,r,n){var o=!r;r||(r={});for(var p=-1,y=t.length;++p<y;){var u=t[p],i=n?n(r[u],e[u],u,r,e):void 0;i===void 0&&(i=e[u]),o?JD(r,u,i):QD(r,u,i)}return r}var Xu=ZD,eF=Xu,tF=Ls;function rF(e,t){return e&&eF(t,tF(t),e)}var nF=rF;function iF(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var aF=iF,oF=Va,sF=Pd,lF=aF,uF=Object.prototype,cF=uF.hasOwnProperty;function hF(e){if(!oF(e))return lF(e);var t=sF(e),r=[];for(var n in e)n=="constructor"&&(t||!cF.call(e,n))||r.push(n);return r}var fF=hF,dF=tb,pF=fF,gF=Iu;function vF(e){return gF(e)?dF(e,!0):pF(e)}var Nd=vF,mF=Xu,yF=Nd;function bF(e,t){return e&&mF(t,yF(t),e)}var xF=bF,uu={exports:{}};uu.exports;(function(e,t){var r=Br,n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,p=o&&o.exports===n,y=p?r.Buffer:void 0,u=y?y.allocUnsafe:void 0;function i(h,d){if(d)return h.slice();var a=h.length,l=u?u(a):new h.constructor(a);return h.copy(l),l}e.exports=i})(uu,uu.exports);var wF=uu.exports;function _F(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var SF=_F,CF=Xu,TF=Ld;function EF(e,t){return CF(e,TF(e),t)}var OF=EF,PF=hb,kF=Ad,AF=Ld,MF=db,RF=Object.getOwnPropertySymbols,DF=RF?function(e){for(var t=[];e;)PF(t,AF(e)),e=kF(e);return t}:MF,Eb=DF,FF=Xu,LF=Eb;function jF(e,t){return FF(e,LF(e),t)}var IF=jF,$F=fb,NF=Eb,BF=Nd;function HF(e){return $F(e,BF,NF)}var zF=HF,UF=Object.prototype,WF=UF.hasOwnProperty;function XF(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&WF.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var YF=XF,Lv=cb;function GF(e){var t=new e.constructor(e.byteLength);return new Lv(t).set(new Lv(e)),t}var Bd=GF,VF=Bd;function KF(e,t){var r=t?VF(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var qF=KF,QF=/\w*$/;function JF(e){var t=new e.constructor(e.source,QF.exec(e));return t.lastIndex=e.lastIndex,t}var ZF=JF,jv=Fs,Iv=jv?jv.prototype:void 0,$v=Iv?Iv.valueOf:void 0;function eL(e){return $v?Object($v.call(e)):{}}var tL=eL,rL=Bd;function nL(e,t){var r=t?rL(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var iL=nL,aL=Bd,oL=qF,sL=ZF,lL=tL,uL=iL,cL="[object Boolean]",hL="[object Date]",fL="[object Map]",dL="[object Number]",pL="[object RegExp]",gL="[object Set]",vL="[object String]",mL="[object Symbol]",yL="[object ArrayBuffer]",bL="[object DataView]",xL="[object Float32Array]",wL="[object Float64Array]",_L="[object Int8Array]",SL="[object Int16Array]",CL="[object Int32Array]",TL="[object Uint8Array]",EL="[object Uint8ClampedArray]",OL="[object Uint16Array]",PL="[object Uint32Array]";function kL(e,t,r){var n=e.constructor;switch(t){case yL:return aL(e);case cL:case hL:return new n(+e);case bL:return oL(e,r);case xL:case wL:case _L:case SL:case CL:case TL:case EL:case OL:case PL:return uL(e,r);case fL:return new n;case dL:case vL:return new n(e);case pL:return sL(e);case gL:return new n;case mL:return lL(e)}}var AL=kL,ML=Va,Nv=Object.create,RL=function(){function e(){}return function(t){if(!ML(t))return{};if(Nv)return Nv(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),DL=RL,FL=DL,LL=Ad,jL=Pd;function IL(e){return typeof e.constructor=="function"&&!jL(e)?FL(LL(e)):{}}var $L=IL,NL=zu,BL=tn,HL="[object Map]";function zL(e){return BL(e)&&NL(e)==HL}var UL=zL,WL=UL,XL=Ed,Bv=Od,Hv=Bv&&Bv.isMap,YL=Hv?XL(Hv):WL,GL=YL,VL=zu,KL=tn,qL="[object Set]";function QL(e){return KL(e)&&VL(e)==qL}var JL=QL,ZL=JL,e5=Ed,zv=Od,Uv=zv&&zv.isSet,t5=Uv?e5(Uv):ZL,r5=t5,n5=Fd,i5=HD,a5=Tb,o5=nF,s5=xF,l5=wF,u5=SF,c5=OF,h5=IF,f5=pb,d5=zF,p5=zu,g5=YF,v5=AL,m5=$L,y5=Cr,b5=Cd,x5=GL,w5=Va,_5=r5,S5=Ls,C5=Nd,T5=1,E5=2,O5=4,Ob="[object Arguments]",P5="[object Array]",k5="[object Boolean]",A5="[object Date]",M5="[object Error]",Pb="[object Function]",R5="[object GeneratorFunction]",D5="[object Map]",F5="[object Number]",kb="[object Object]",L5="[object RegExp]",j5="[object Set]",I5="[object String]",$5="[object Symbol]",N5="[object WeakMap]",B5="[object ArrayBuffer]",H5="[object DataView]",z5="[object Float32Array]",U5="[object Float64Array]",W5="[object Int8Array]",X5="[object Int16Array]",Y5="[object Int32Array]",G5="[object Uint8Array]",V5="[object Uint8ClampedArray]",K5="[object Uint16Array]",q5="[object Uint32Array]",ze={};ze[Ob]=ze[P5]=ze[B5]=ze[H5]=ze[k5]=ze[A5]=ze[z5]=ze[U5]=ze[W5]=ze[X5]=ze[Y5]=ze[D5]=ze[F5]=ze[kb]=ze[L5]=ze[j5]=ze[I5]=ze[$5]=ze[G5]=ze[V5]=ze[K5]=ze[q5]=!0;ze[M5]=ze[Pb]=ze[N5]=!1;function Al(e,t,r,n,o,p){var y,u=t&T5,i=t&E5,h=t&O5;if(r&&(y=o?r(e,n,o,p):r(e)),y!==void 0)return y;if(!w5(e))return e;var d=y5(e);if(d){if(y=g5(e),!u)return u5(e,y)}else{var a=p5(e),l=a==Pb||a==R5;if(b5(e))return l5(e,u);if(a==kb||a==Ob||l&&!o){if(y=i||l?{}:m5(e),!u)return i?h5(e,s5(y,e)):c5(e,o5(y,e))}else{if(!ze[a])return o?e:{};y=v5(e,a,u)}}p||(p=new n5);var s=p.get(e);if(s)return s;p.set(e,y),_5(e)?e.forEach(function(c){y.add(Al(c,t,r,c,e,p))}):x5(e)&&e.forEach(function(c,g){y.set(g,Al(c,t,r,g,e,p))});var f=h?i?d5:f5:i?C5:S5,v=d?void 0:f(e);return i5(v||e,function(c,g){v&&(g=c,c=e[g]),a5(y,g,Al(c,t,r,g,e,p))}),y}var Q5=Al,J5=Q5,Z5=1,ej=4;function tj(e){return J5(e,Z5|ej)}var rj=tj;Object.defineProperty(js,"__esModule",{value:!0});js.mergeClasses=void 0;var nj=kd,ij=Ab(nj),aj=rj,oj=Ab(aj),sj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function Ab(e){return e&&e.__esModule?e:{default:e}}var lj=js.mergeClasses=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=t.default&&(0,oj.default)(t.default)||{};return r.map(function(o){var p=t[o];return p&&(0,ij.default)(p,function(y,u){n[u]||(n[u]={}),n[u]=sj({},n[u],p[u])}),o}),n};js.default=lj;var Is={};Object.defineProperty(Is,"__esModule",{value:!0});Is.autoprefix=void 0;var uj=kd,Wv=hj(uj),cj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function hj(e){return e&&e.__esModule?e:{default:e}}var fj={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var r=t&&t.split(" ");return{position:"absolute",top:r&&r[0],right:r&&r[1],bottom:r&&r[2],left:r&&r[3]}},extend:function(t,r){var n=r[t];return n||{extend:t}}},dj=Is.autoprefix=function(t){var r={};return(0,Wv.default)(t,function(n,o){var p={};(0,Wv.default)(n,function(y,u){var i=fj[u];i?p=cj({},p,i(y)):p[u]=y}),r[o]=p}),r};Is.default=dj;var $s={};Object.defineProperty($s,"__esModule",{value:!0});$s.hover=void 0;var pj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gj=B,Bc=vj(gj);function vj(e){return e&&e.__esModule?e:{default:e}}function mj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xv(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function yj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var bj=$s.hover=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){yj(o,n);function o(){var p,y,u,i;mj(this,o);for(var h=arguments.length,d=Array(h),a=0;a<h;a++)d[a]=arguments[a];return i=(y=(u=Xv(this,(p=o.__proto__||Object.getPrototypeOf(o)).call.apply(p,[this].concat(d))),u),u.state={hover:!1},u.handleMouseOver=function(){return u.setState({hover:!0})},u.handleMouseOut=function(){return u.setState({hover:!1})},u.render=function(){return Bc.default.createElement(r,{onMouseOver:u.handleMouseOver,onMouseOut:u.handleMouseOut},Bc.default.createElement(t,pj({},u.props,u.state)))},y),Xv(u,i)}return o}(Bc.default.Component)};$s.default=bj;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.active=void 0;var xj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wj=B,Hc=_j(wj);function _j(e){return e&&e.__esModule?e:{default:e}}function Sj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yv(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Cj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Tj=Ns.active=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){Cj(o,n);function o(){var p,y,u,i;Sj(this,o);for(var h=arguments.length,d=Array(h),a=0;a<h;a++)d[a]=arguments[a];return i=(y=(u=Yv(this,(p=o.__proto__||Object.getPrototypeOf(o)).call.apply(p,[this].concat(d))),u),u.state={active:!1},u.handleMouseDown=function(){return u.setState({active:!0})},u.handleMouseUp=function(){return u.setState({active:!1})},u.render=function(){return Hc.default.createElement(r,{onMouseDown:u.handleMouseDown,onMouseUp:u.handleMouseUp},Hc.default.createElement(t,xj({},u.props,u.state)))},y),Yv(u,i)}return o}(Hc.default.Component)};Ns.default=Tj;var Hd={};Object.defineProperty(Hd,"__esModule",{value:!0});var Ej=function(t,r){var n={},o=function(y){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n[y]=u};return t===0&&o("first-child"),t===r-1&&o("last-child"),(t===0||t%2===0)&&o("even"),Math.abs(t%2)===1&&o("odd"),o("nth-child",t),n};Hd.default=Ej;Object.defineProperty(sr,"__esModule",{value:!0});sr.ReactCSS=sr.loop=sr.handleActive=zd=sr.handleHover=sr.hover=void 0;var Oj=Ds,Pj=eo(Oj),kj=js,Aj=eo(kj),Mj=Is,Rj=eo(Mj),Dj=$s,Mb=eo(Dj),Fj=Ns,Lj=eo(Fj),jj=Hd,Ij=eo(jj);function eo(e){return e&&e.__esModule?e:{default:e}}sr.hover=Mb.default;var zd=sr.handleHover=Mb.default;sr.handleActive=Lj.default;sr.loop=Ij.default;var $j=sr.ReactCSS=function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];var p=(0,Pj.default)(n),y=(0,Aj.default)(t,p);return(0,Rj.default)(y)},Te=sr.default=$j,Nj=function(t,r,n,o,p){var y=p.clientWidth,u=p.clientHeight,i=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,h=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,d=i-(p.getBoundingClientRect().left+window.pageXOffset),a=h-(p.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var l=void 0;if(a<0?l=0:a>u?l=1:l=Math.round(a*100/u)/100,r.a!==l)return{h:r.h,s:r.s,l:r.l,a:l,source:"rgb"}}else{var s=void 0;if(d<0?s=0:d>y?s=1:s=Math.round(d*100/y)/100,o!==s)return{h:r.h,s:r.s,l:r.l,a:s,source:"rgb"}}return null},zc={},Bj=function(t,r,n,o){if(typeof document>"u"&&!o)return null;var p=o?new o:document.createElement("canvas");p.width=n*2,p.height=n*2;var y=p.getContext("2d");return y?(y.fillStyle=t,y.fillRect(0,0,p.width,p.height),y.fillStyle=r,y.fillRect(0,0,n,n),y.translate(n,n),y.fillRect(0,0,n,n),p.toDataURL()):null},Hj=function(t,r,n,o){var p=t+"-"+r+"-"+n+(o?"-server":"");if(zc[p])return zc[p];var y=Bj(t,r,n,o);return zc[p]=y,y},Gv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},to=function(t){var r=t.white,n=t.grey,o=t.size,p=t.renderers,y=t.borderRadius,u=t.boxShadow,i=t.children,h=Te({default:{grid:{borderRadius:y,boxShadow:u,absolute:"0px 0px 0px 0px",background:"url("+Hj(r,n,o,p.canvas)+") center left"}}});return B.isValidElement(i)?O.cloneElement(i,Gv({},i.props,{style:Gv({},i.props.style,h.grid)})):O.createElement("div",{style:h.grid})};to.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var zj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uj=function(){function e(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function Wj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vv(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Xj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ud=function(e){Xj(t,e);function t(){var r,n,o,p;Wj(this,t);for(var y=arguments.length,u=Array(y),i=0;i<y;i++)u[i]=arguments[i];return p=(n=(o=Vv(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(u))),o),o.handleChange=function(h){var d=Nj(h,o.props.hsl,o.props.direction,o.props.a,o.container);d&&typeof o.props.onChange=="function"&&o.props.onChange(d,h)},o.handleMouseDown=function(h){o.handleChange(h),window.addEventListener("mousemove",o.handleChange),window.addEventListener("mouseup",o.handleMouseUp)},o.handleMouseUp=function(){o.unbindEventListeners()},o.unbindEventListeners=function(){window.removeEventListener("mousemove",o.handleChange),window.removeEventListener("mouseup",o.handleMouseUp)},n),Vv(o,p)}return Uj(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var n=this,o=this.props.rgb,p=Te({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+o.r+","+o.g+","+o.b+`, 0) 0%,
           rgba(`+o.r+","+o.g+","+o.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:o.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+o.r+","+o.g+","+o.b+`, 0) 0%,
           rgba(`+o.r+","+o.g+","+o.b+", 1) 100%)"},pointer:{left:0,top:o.a*100+"%"}},overwrite:zj({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return O.createElement("div",{style:p.alpha},O.createElement("div",{style:p.checkboard},O.createElement(to,{renderers:this.props.renderers})),O.createElement("div",{style:p.gradient}),O.createElement("div",{style:p.container,ref:function(u){return n.container=u},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},O.createElement("div",{style:p.pointer},this.props.pointer?O.createElement(this.props.pointer,this.props):O.createElement("div",{style:p.slider}))))}}]),t}(B.PureComponent||B.Component),Yj=function(){function e(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function Gj(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kj(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function qj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Qj=1,Rb=38,Jj=40,Zj=[Rb,Jj],e3=function(t){return Zj.indexOf(t)>-1},t3=function(t){return Number(String(t).replace(/%/g,""))},r3=1,De=function(e){qj(t,e);function t(r){Vj(this,t);var n=Kj(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(o){n.setUpdatedValue(o.target.value,o)},n.handleKeyDown=function(o){var p=t3(o.target.value);if(!isNaN(p)&&e3(o.keyCode)){var y=n.getArrowOffset(),u=o.keyCode===Rb?p+y:p-y;n.setUpdatedValue(u,o)}},n.handleDrag=function(o){if(n.props.dragLabel){var p=Math.round(n.props.value+o.movementX);p>=0&&p<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(p),o)}},n.handleMouseDown=function(o){n.props.dragLabel&&(o.preventDefault(),n.handleDrag(o),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(r.value).toUpperCase(),blurValue:String(r.value).toUpperCase()},n.inputId="rc-editable-input-"+r3++,n}return Yj(t,[{key:"componentDidUpdate",value:function(n,o){this.props.value!==this.state.value&&(n.value!==this.props.value||o.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(n){return Gj({},this.props.label,n)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Qj}},{key:"setUpdatedValue",value:function(n,o){var p=this.props.label?this.getValueObjectWithLabel(n):n;this.props.onChange&&this.props.onChange(p,o),this.setState({value:n})}},{key:"render",value:function(){var n=this,o=Te({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return O.createElement("div",{style:o.wrap},O.createElement("input",{id:this.inputId,style:o.input,ref:function(y){return n.input=y},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?O.createElement("label",{htmlFor:this.inputId,style:o.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(B.PureComponent||B.Component),n3=function(t,r,n,o){var p=o.clientWidth,y=o.clientHeight,u=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,i=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,h=u-(o.getBoundingClientRect().left+window.pageXOffset),d=i-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var a=void 0;if(d<0)a=359;else if(d>y)a=0;else{var l=-(d*100/y)+100;a=360*l/100}if(n.h!==a)return{h:a,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var s=void 0;if(h<0)s=0;else if(h>p)s=359;else{var f=h*100/p;s=360*f/100}if(n.h!==s)return{h:s,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null},i3=function(){function e(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function a3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kv(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function o3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ro=function(e){o3(t,e);function t(){var r,n,o,p;a3(this,t);for(var y=arguments.length,u=Array(y),i=0;i<y;i++)u[i]=arguments[i];return p=(n=(o=Kv(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(u))),o),o.handleChange=function(h){var d=n3(h,o.props.direction,o.props.hsl,o.container);d&&typeof o.props.onChange=="function"&&o.props.onChange(d,h)},o.handleMouseDown=function(h){o.handleChange(h),window.addEventListener("mousemove",o.handleChange),window.addEventListener("mouseup",o.handleMouseUp)},o.handleMouseUp=function(){o.unbindEventListeners()},n),Kv(o,p)}return i3(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,o=this.props.direction,p=o===void 0?"horizontal":o,y=Te({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:p==="vertical"});return O.createElement("div",{style:y.hue},O.createElement("div",{className:"hue-"+p,style:y.container,ref:function(i){return n.container=i},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},O.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),O.createElement("div",{style:y.pointer},this.props.pointer?O.createElement(this.props.pointer,this.props):O.createElement("div",{style:y.slider}))))}}]),t}(B.PureComponent||B.Component);function s3(){this.__data__=[],this.size=0}function Bs(e,t){return e===t||e!==e&&t!==t}function Yu(e,t){for(var r=e.length;r--;)if(Bs(e[r][0],t))return r;return-1}var l3=Array.prototype,u3=l3.splice;function c3(e){var t=this.__data__,r=Yu(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():u3.call(t,r,1),--this.size,!0}function h3(e){var t=this.__data__,r=Yu(t,e);return r<0?void 0:t[r][1]}function f3(e){return Yu(this.__data__,e)>-1}function d3(e,t){var r=this.__data__,n=Yu(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function rn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}rn.prototype.clear=s3;rn.prototype.delete=c3;rn.prototype.get=h3;rn.prototype.has=f3;rn.prototype.set=d3;function p3(){this.__data__=new rn,this.size=0}function g3(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function v3(e){return this.__data__.get(e)}function m3(e){return this.__data__.has(e)}var y3=typeof global=="object"&&global&&global.Object===Object&&global;const Db=y3;var b3=typeof self=="object"&&self&&self.Object===Object&&self,x3=Db||b3||Function("return this")();const Tr=x3;var w3=Tr.Symbol;const In=w3;var Fb=Object.prototype,_3=Fb.hasOwnProperty,S3=Fb.toString,xo=In?In.toStringTag:void 0;function C3(e){var t=_3.call(e,xo),r=e[xo];try{e[xo]=void 0;var n=!0}catch{}var o=S3.call(e);return n&&(t?e[xo]=r:delete e[xo]),o}var T3=Object.prototype,E3=T3.toString;function O3(e){return E3.call(e)}var P3="[object Null]",k3="[object Undefined]",qv=In?In.toStringTag:void 0;function Si(e){return e==null?e===void 0?k3:P3:qv&&qv in Object(e)?C3(e):O3(e)}function fr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var A3="[object AsyncFunction]",M3="[object Function]",R3="[object GeneratorFunction]",D3="[object Proxy]";function Wd(e){if(!fr(e))return!1;var t=Si(e);return t==M3||t==R3||t==A3||t==D3}var F3=Tr["__core-js_shared__"];const Uc=F3;var Qv=function(){var e=/[^.]+$/.exec(Uc&&Uc.keys&&Uc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function L3(e){return!!Qv&&Qv in e}var j3=Function.prototype,I3=j3.toString;function Ci(e){if(e!=null){try{return I3.call(e)}catch{}try{return e+""}catch{}}return""}var $3=/[\\^$.*+?()[\]{}|]/g,N3=/^\[object .+?Constructor\]$/,B3=Function.prototype,H3=Object.prototype,z3=B3.toString,U3=H3.hasOwnProperty,W3=RegExp("^"+z3.call(U3).replace($3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function X3(e){if(!fr(e)||L3(e))return!1;var t=Wd(e)?W3:N3;return t.test(Ci(e))}function Y3(e,t){return e==null?void 0:e[t]}function Ti(e,t){var r=Y3(e,t);return X3(r)?r:void 0}var G3=Ti(Tr,"Map");const us=G3;var V3=Ti(Object,"create");const cs=V3;function K3(){this.__data__=cs?cs(null):{},this.size=0}function q3(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Q3="__lodash_hash_undefined__",J3=Object.prototype,Z3=J3.hasOwnProperty;function e4(e){var t=this.__data__;if(cs){var r=t[e];return r===Q3?void 0:r}return Z3.call(t,e)?t[e]:void 0}var t4=Object.prototype,r4=t4.hasOwnProperty;function n4(e){var t=this.__data__;return cs?t[e]!==void 0:r4.call(t,e)}var i4="__lodash_hash_undefined__";function a4(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=cs&&t===void 0?i4:t,this}function yi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yi.prototype.clear=K3;yi.prototype.delete=q3;yi.prototype.get=e4;yi.prototype.has=n4;yi.prototype.set=a4;function o4(){this.size=0,this.__data__={hash:new yi,map:new(us||rn),string:new yi}}function s4(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Gu(e,t){var r=e.__data__;return s4(t)?r[typeof t=="string"?"string":"hash"]:r.map}function l4(e){var t=Gu(this,e).delete(e);return this.size-=t?1:0,t}function u4(e){return Gu(this,e).get(e)}function c4(e){return Gu(this,e).has(e)}function h4(e,t){var r=Gu(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function nn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}nn.prototype.clear=o4;nn.prototype.delete=l4;nn.prototype.get=u4;nn.prototype.has=c4;nn.prototype.set=h4;var f4=200;function d4(e,t){var r=this.__data__;if(r instanceof rn){var n=r.__data__;if(!us||n.length<f4-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new nn(n)}return r.set(e,t),this.size=r.size,this}function $r(e){var t=this.__data__=new rn(e);this.size=t.size}$r.prototype.clear=p3;$r.prototype.delete=g3;$r.prototype.get=v3;$r.prototype.has=m3;$r.prototype.set=d4;var p4=function(){try{var e=Ti(Object,"defineProperty");return e({},"",{}),e}catch{}}();const cu=p4;function Xd(e,t,r){t=="__proto__"&&cu?cu(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function gf(e,t,r){(r!==void 0&&!Bs(e[t],r)||r===void 0&&!(t in e))&&Xd(e,t,r)}function g4(e){return function(t,r,n){for(var o=-1,p=Object(t),y=n(t),u=y.length;u--;){var i=y[e?u:++o];if(r(p[i],i,p)===!1)break}return t}}var v4=g4();const Lb=v4;var jb=typeof Yt=="object"&&Yt&&!Yt.nodeType&&Yt,Jv=jb&&typeof Gt=="object"&&Gt&&!Gt.nodeType&&Gt,m4=Jv&&Jv.exports===jb,Zv=m4?Tr.Buffer:void 0,em=Zv?Zv.allocUnsafe:void 0;function y4(e,t){if(t)return e.slice();var r=e.length,n=em?em(r):new e.constructor(r);return e.copy(n),n}var b4=Tr.Uint8Array;const hu=b4;function x4(e){var t=new e.constructor(e.byteLength);return new hu(t).set(new hu(e)),t}function w4(e,t){var r=t?x4(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function _4(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var tm=Object.create,S4=function(){function e(){}return function(t){if(!fr(t))return{};if(tm)return tm(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();const C4=S4;function Ib(e,t){return function(r){return e(t(r))}}var T4=Ib(Object.getPrototypeOf,Object);const $b=T4;var E4=Object.prototype;function Yd(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||E4;return e===r}function O4(e){return typeof e.constructor=="function"&&!Yd(e)?C4($b(e)):{}}function $n(e){return e!=null&&typeof e=="object"}var P4="[object Arguments]";function rm(e){return $n(e)&&Si(e)==P4}var Nb=Object.prototype,k4=Nb.hasOwnProperty,A4=Nb.propertyIsEnumerable,M4=rm(function(){return arguments}())?rm:function(e){return $n(e)&&k4.call(e,"callee")&&!A4.call(e,"callee")};const fu=M4;var R4=Array.isArray;const qt=R4;var D4=9007199254740991;function Gd(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=D4}function no(e){return e!=null&&Gd(e.length)&&!Wd(e)}function F4(e){return $n(e)&&no(e)}function L4(){return!1}var Bb=typeof Yt=="object"&&Yt&&!Yt.nodeType&&Yt,nm=Bb&&typeof Gt=="object"&&Gt&&!Gt.nodeType&&Gt,j4=nm&&nm.exports===Bb,im=j4?Tr.Buffer:void 0,I4=im?im.isBuffer:void 0,$4=I4||L4;const du=$4;var N4="[object Object]",B4=Function.prototype,H4=Object.prototype,Hb=B4.toString,z4=H4.hasOwnProperty,U4=Hb.call(Object);function W4(e){if(!$n(e)||Si(e)!=N4)return!1;var t=$b(e);if(t===null)return!0;var r=z4.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Hb.call(r)==U4}var X4="[object Arguments]",Y4="[object Array]",G4="[object Boolean]",V4="[object Date]",K4="[object Error]",q4="[object Function]",Q4="[object Map]",J4="[object Number]",Z4="[object Object]",eI="[object RegExp]",tI="[object Set]",rI="[object String]",nI="[object WeakMap]",iI="[object ArrayBuffer]",aI="[object DataView]",oI="[object Float32Array]",sI="[object Float64Array]",lI="[object Int8Array]",uI="[object Int16Array]",cI="[object Int32Array]",hI="[object Uint8Array]",fI="[object Uint8ClampedArray]",dI="[object Uint16Array]",pI="[object Uint32Array]",Ye={};Ye[oI]=Ye[sI]=Ye[lI]=Ye[uI]=Ye[cI]=Ye[hI]=Ye[fI]=Ye[dI]=Ye[pI]=!0;Ye[X4]=Ye[Y4]=Ye[iI]=Ye[G4]=Ye[aI]=Ye[V4]=Ye[K4]=Ye[q4]=Ye[Q4]=Ye[J4]=Ye[Z4]=Ye[eI]=Ye[tI]=Ye[rI]=Ye[nI]=!1;function gI(e){return $n(e)&&Gd(e.length)&&!!Ye[Si(e)]}function vI(e){return function(t){return e(t)}}var zb=typeof Yt=="object"&&Yt&&!Yt.nodeType&&Yt,Ho=zb&&typeof Gt=="object"&&Gt&&!Gt.nodeType&&Gt,mI=Ho&&Ho.exports===zb,Wc=mI&&Db.process,yI=function(){try{var e=Ho&&Ho.require&&Ho.require("util").types;return e||Wc&&Wc.binding&&Wc.binding("util")}catch{}}();const am=yI;var om=am&&am.isTypedArray,bI=om?vI(om):gI;const Vd=bI;function vf(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var xI=Object.prototype,wI=xI.hasOwnProperty;function _I(e,t,r){var n=e[t];(!(wI.call(e,t)&&Bs(n,r))||r===void 0&&!(t in e))&&Xd(e,t,r)}function SI(e,t,r,n){var o=!r;r||(r={});for(var p=-1,y=t.length;++p<y;){var u=t[p],i=n?n(r[u],e[u],u,r,e):void 0;i===void 0&&(i=e[u]),o?Xd(r,u,i):_I(r,u,i)}return r}function CI(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var TI=9007199254740991,EI=/^(?:0|[1-9]\d*)$/;function Kd(e,t){var r=typeof e;return t=t??TI,!!t&&(r=="number"||r!="symbol"&&EI.test(e))&&e>-1&&e%1==0&&e<t}var OI=Object.prototype,PI=OI.hasOwnProperty;function Ub(e,t){var r=qt(e),n=!r&&fu(e),o=!r&&!n&&du(e),p=!r&&!n&&!o&&Vd(e),y=r||n||o||p,u=y?CI(e.length,String):[],i=u.length;for(var h in e)(t||PI.call(e,h))&&!(y&&(h=="length"||o&&(h=="offset"||h=="parent")||p&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||Kd(h,i)))&&u.push(h);return u}function kI(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var AI=Object.prototype,MI=AI.hasOwnProperty;function RI(e){if(!fr(e))return kI(e);var t=Yd(e),r=[];for(var n in e)n=="constructor"&&(t||!MI.call(e,n))||r.push(n);return r}function Wb(e){return no(e)?Ub(e,!0):RI(e)}function DI(e){return SI(e,Wb(e))}function FI(e,t,r,n,o,p,y){var u=vf(e,r),i=vf(t,r),h=y.get(i);if(h){gf(e,r,h);return}var d=p?p(u,i,r+"",e,t,y):void 0,a=d===void 0;if(a){var l=qt(i),s=!l&&du(i),f=!l&&!s&&Vd(i);d=i,l||s||f?qt(u)?d=u:F4(u)?d=_4(u):s?(a=!1,d=y4(i,!0)):f?(a=!1,d=w4(i,!0)):d=[]:W4(i)||fu(i)?(d=u,fu(u)?d=DI(u):(!fr(u)||Wd(u))&&(d=O4(i))):a=!1}a&&(y.set(i,d),o(d,i,n,p,y),y.delete(i)),gf(e,r,d)}function Xb(e,t,r,n,o){e!==t&&Lb(t,function(p,y){if(o||(o=new $r),fr(p))FI(e,t,y,r,Xb,n,o);else{var u=n?n(vf(e,y),p,y+"",e,t,o):void 0;u===void 0&&(u=p),gf(e,y,u)}},Wb)}function Vu(e){return e}function LI(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var sm=Math.max;function jI(e,t,r){return t=sm(t===void 0?e.length-1:t,0),function(){for(var n=arguments,o=-1,p=sm(n.length-t,0),y=Array(p);++o<p;)y[o]=n[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=n[o];return u[t]=r(y),LI(e,this,u)}}function II(e){return function(){return e}}var $I=cu?function(e,t){return cu(e,"toString",{configurable:!0,enumerable:!1,value:II(t),writable:!0})}:Vu;const NI=$I;var BI=800,HI=16,zI=Date.now;function UI(e){var t=0,r=0;return function(){var n=zI(),o=HI-(n-r);if(r=n,o>0){if(++t>=BI)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var WI=UI(NI);const XI=WI;function YI(e,t){return XI(jI(e,t,Vu),e+"")}function GI(e,t,r){if(!fr(r))return!1;var n=typeof t;return(n=="number"?no(r)&&Kd(t,r.length):n=="string"&&t in r)?Bs(r[t],e):!1}function VI(e){return YI(function(t,r){var n=-1,o=r.length,p=o>1?r[o-1]:void 0,y=o>2?r[2]:void 0;for(p=e.length>3&&typeof p=="function"?(o--,p):void 0,y&&GI(r[0],r[1],y)&&(p=o<3?void 0:p,o=1),t=Object(t);++n<o;){var u=r[n];u&&e(t,u,n,p)}return t})}var KI=VI(function(e,t,r){Xb(e,t,r)});const $t=KI;var Hs=function(t){var r=t.zDepth,n=t.radius,o=t.background,p=t.children,y=t.styles,u=y===void 0?{}:y,i=Te($t({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+r+"px "+r*4+"px rgba(0,0,0,.24)",borderRadius:n,background:o}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},u),{"zDepth-1":r===1});return O.createElement("div",{style:i.wrap},O.createElement("div",{style:i.bg}),O.createElement("div",{style:i.content},p))};Hs.propTypes={background:ce.string,zDepth:ce.oneOf([0,1,2,3,4,5]),radius:ce.number,styles:ce.object};Hs.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var qI=function(){return Tr.Date.now()};const Xc=qI;var QI=/\s/;function JI(e){for(var t=e.length;t--&&QI.test(e.charAt(t)););return t}var ZI=/^\s+/;function e$(e){return e&&e.slice(0,JI(e)+1).replace(ZI,"")}var t$="[object Symbol]";function Ku(e){return typeof e=="symbol"||$n(e)&&Si(e)==t$}var lm=NaN,r$=/^[-+]0x[0-9a-f]+$/i,n$=/^0b[01]+$/i,i$=/^0o[0-7]+$/i,a$=parseInt;function um(e){if(typeof e=="number")return e;if(Ku(e))return lm;if(fr(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=fr(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e$(e);var r=n$.test(e);return r||i$.test(e)?a$(e.slice(2),r?2:8):r$.test(e)?lm:+e}var o$="Expected a function",s$=Math.max,l$=Math.min;function qd(e,t,r){var n,o,p,y,u,i,h=0,d=!1,a=!1,l=!0;if(typeof e!="function")throw new TypeError(o$);t=um(t)||0,fr(r)&&(d=!!r.leading,a="maxWait"in r,p=a?s$(um(r.maxWait)||0,t):p,l="trailing"in r?!!r.trailing:l);function s(_){var S=n,E=o;return n=o=void 0,h=_,y=e.apply(E,S),y}function f(_){return h=_,u=setTimeout(g,t),d?s(_):y}function v(_){var S=_-i,E=_-h,R=t-S;return a?l$(R,p-E):R}function c(_){var S=_-i,E=_-h;return i===void 0||S>=t||S<0||a&&E>=p}function g(){var _=Xc();if(c(_))return m(_);u=setTimeout(g,v(_))}function m(_){return u=void 0,l&&n?s(_):(n=o=void 0,y)}function b(){u!==void 0&&clearTimeout(u),h=0,n=i=o=u=void 0}function x(){return u===void 0?y:m(Xc())}function w(){var _=Xc(),S=c(_);if(n=arguments,o=this,i=_,S){if(u===void 0)return f(i);if(a)return clearTimeout(u),u=setTimeout(g,t),s(i)}return u===void 0&&(u=setTimeout(g,t)),y}return w.cancel=b,w.flush=x,w}var u$="Expected a function";function c$(e,t,r){var n=!0,o=!0;if(typeof e!="function")throw new TypeError(u$);return fr(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),qd(e,t,{leading:n,maxWait:t,trailing:o})}var h$=function(t,r,n){var o=n.getBoundingClientRect(),p=o.width,y=o.height,u=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,i=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,h=u-(n.getBoundingClientRect().left+window.pageXOffset),d=i-(n.getBoundingClientRect().top+window.pageYOffset);h<0?h=0:h>p&&(h=p),d<0?d=0:d>y&&(d=y);var a=h/p,l=1-d/y;return{h:r.h,s:a,v:l,a:r.a,source:"hsv"}},f$=function(){function e(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function d$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p$(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function g$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var qu=function(e){g$(t,e);function t(r){d$(this,t);var n=p$(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return n.handleChange=function(o){typeof n.props.onChange=="function"&&n.throttle(n.props.onChange,h$(o,n.props.hsl,n.container),o)},n.handleMouseDown=function(o){n.handleChange(o);var p=n.getContainerRenderWindow();p.addEventListener("mousemove",n.handleChange),p.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=c$(function(o,p,y){o(p,y)},50),n}return f$(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var n=this.container,o=window;!o.document.contains(n)&&o.parent!==o;)o=o.parent;return o}},{key:"unbindEventListeners",value:function(){var n=this.getContainerRenderWindow();n.removeEventListener("mousemove",this.handleChange),n.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,o=this.props.style||{},p=o.color,y=o.white,u=o.black,i=o.pointer,h=o.circle,d=Te({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:p,white:y,black:u,pointer:i,circle:h}},{custom:!!this.props.style});return O.createElement("div",{style:d.color,ref:function(l){return n.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},O.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),O.createElement("div",{style:d.white,className:"saturation-white"},O.createElement("div",{style:d.black,className:"saturation-black"}),O.createElement("div",{style:d.pointer},this.props.pointer?O.createElement(this.props.pointer,this.props):O.createElement("div",{style:d.circle}))))}}]),t}(B.PureComponent||B.Component);function v$(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var m$=Ib(Object.keys,Object);const y$=m$;var b$=Object.prototype,x$=b$.hasOwnProperty;function w$(e){if(!Yd(e))return y$(e);var t=[];for(var r in Object(e))x$.call(e,r)&&r!="constructor"&&t.push(r);return t}function Qd(e){return no(e)?Ub(e):w$(e)}function _$(e,t){return e&&Lb(e,t,Qd)}function S$(e,t){return function(r,n){if(r==null)return r;if(!no(r))return e(r,n);for(var o=r.length,p=t?o:-1,y=Object(r);(t?p--:++p<o)&&n(y[p],p,y)!==!1;);return r}}var C$=S$(_$);const Yb=C$;function T$(e){return typeof e=="function"?e:Vu}function E$(e,t){var r=qt(e)?v$:Yb;return r(e,T$(t))}function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}var O$=/^\s+/,P$=/\s+$/;function ve(e,t){if(e=e||"",t=t||{},e instanceof ve)return e;if(!(this instanceof ve))return new ve(e,t);var r=k$(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}ve.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),r,n,o,p,y,u;return r=t.r/255,n=t.g/255,o=t.b/255,r<=.03928?p=r/12.92:p=Math.pow((r+.055)/1.055,2.4),n<=.03928?y=n/12.92:y=Math.pow((n+.055)/1.055,2.4),o<=.03928?u=o/12.92:u=Math.pow((o+.055)/1.055,2.4),.2126*p+.7152*y+.0722*u},setAlpha:function(t){return this._a=Gb(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=hm(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=hm(this._r,this._g,this._b),r=Math.round(t.h*360),n=Math.round(t.s*100),o=Math.round(t.v*100);return this._a==1?"hsv("+r+", "+n+"%, "+o+"%)":"hsva("+r+", "+n+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var t=cm(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=cm(this._r,this._g,this._b),r=Math.round(t.h*360),n=Math.round(t.s*100),o=Math.round(t.l*100);return this._a==1?"hsl("+r+", "+n+"%, "+o+"%)":"hsla("+r+", "+n+"%, "+o+"%, "+this._roundA+")"},toHex:function(t){return fm(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return D$(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ke(this._r,255)*100)+"%",g:Math.round(Ke(this._g,255)*100)+"%",b:Math.round(Ke(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ke(this._r,255)*100)+"%, "+Math.round(Ke(this._g,255)*100)+"%, "+Math.round(Ke(this._b,255)*100)+"%)":"rgba("+Math.round(Ke(this._r,255)*100)+"%, "+Math.round(Ke(this._g,255)*100)+"%, "+Math.round(Ke(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:X$[fm(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var r="#"+dm(this._r,this._g,this._b,this._a),n=r,o=this._gradientType?"GradientType = 1, ":"";if(t){var p=ve(t);n="#"+dm(p._r,p._g,p._b,p._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+r+",endColorstr="+n+")"},toString:function(t){var r=!!t;t=t||this._format;var n=!1,o=this._a<1&&this._a>=0,p=!r&&o&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return p?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return ve(this.toString())},_applyModification:function(t,r){var n=t.apply(null,[this].concat([].slice.call(r)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(I$,arguments)},brighten:function(){return this._applyModification($$,arguments)},darken:function(){return this._applyModification(N$,arguments)},desaturate:function(){return this._applyModification(F$,arguments)},saturate:function(){return this._applyModification(L$,arguments)},greyscale:function(){return this._applyModification(j$,arguments)},spin:function(){return this._applyModification(B$,arguments)},_applyCombination:function(t,r){return t.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(U$,arguments)},complement:function(){return this._applyCombination(H$,arguments)},monochromatic:function(){return this._applyCombination(W$,arguments)},splitcomplement:function(){return this._applyCombination(z$,arguments)},triad:function(){return this._applyCombination(pm,[3])},tetrad:function(){return this._applyCombination(pm,[4])}};ve.fromRatio=function(e,t){if(pu(e)=="object"){var r={};for(var n in e)e.hasOwnProperty(n)&&(n==="a"?r[n]=e[n]:r[n]=Po(e[n]));e=r}return ve(e,t)};function k$(e){var t={r:0,g:0,b:0},r=1,n=null,o=null,p=null,y=!1,u=!1;return typeof e=="string"&&(e=K$(e)),pu(e)=="object"&&(Hr(e.r)&&Hr(e.g)&&Hr(e.b)?(t=A$(e.r,e.g,e.b),y=!0,u=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Hr(e.h)&&Hr(e.s)&&Hr(e.v)?(n=Po(e.s),o=Po(e.v),t=R$(e.h,n,o),y=!0,u="hsv"):Hr(e.h)&&Hr(e.s)&&Hr(e.l)&&(n=Po(e.s),p=Po(e.l),t=M$(e.h,n,p),y=!0,u="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=Gb(r),{ok:y,format:e.format||u,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}function A$(e,t,r){return{r:Ke(e,255)*255,g:Ke(t,255)*255,b:Ke(r,255)*255}}function cm(e,t,r){e=Ke(e,255),t=Ke(t,255),r=Ke(r,255);var n=Math.max(e,t,r),o=Math.min(e,t,r),p,y,u=(n+o)/2;if(n==o)p=y=0;else{var i=n-o;switch(y=u>.5?i/(2-n-o):i/(n+o),n){case e:p=(t-r)/i+(t<r?6:0);break;case t:p=(r-e)/i+2;break;case r:p=(e-t)/i+4;break}p/=6}return{h:p,s:y,l:u}}function M$(e,t,r){var n,o,p;e=Ke(e,360),t=Ke(t,100),r=Ke(r,100);function y(h,d,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?h+(d-h)*6*a:a<1/2?d:a<2/3?h+(d-h)*(2/3-a)*6:h}if(t===0)n=o=p=r;else{var u=r<.5?r*(1+t):r+t-r*t,i=2*r-u;n=y(i,u,e+1/3),o=y(i,u,e),p=y(i,u,e-1/3)}return{r:n*255,g:o*255,b:p*255}}function hm(e,t,r){e=Ke(e,255),t=Ke(t,255),r=Ke(r,255);var n=Math.max(e,t,r),o=Math.min(e,t,r),p,y,u=n,i=n-o;if(y=n===0?0:i/n,n==o)p=0;else{switch(n){case e:p=(t-r)/i+(t<r?6:0);break;case t:p=(r-e)/i+2;break;case r:p=(e-t)/i+4;break}p/=6}return{h:p,s:y,v:u}}function R$(e,t,r){e=Ke(e,360)*6,t=Ke(t,100),r=Ke(r,100);var n=Math.floor(e),o=e-n,p=r*(1-t),y=r*(1-o*t),u=r*(1-(1-o)*t),i=n%6,h=[r,y,p,p,u,r][i],d=[u,r,r,y,p,p][i],a=[p,p,u,r,r,y][i];return{r:h*255,g:d*255,b:a*255}}function fm(e,t,r,n){var o=[xr(Math.round(e).toString(16)),xr(Math.round(t).toString(16)),xr(Math.round(r).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function D$(e,t,r,n,o){var p=[xr(Math.round(e).toString(16)),xr(Math.round(t).toString(16)),xr(Math.round(r).toString(16)),xr(Vb(n))];return o&&p[0].charAt(0)==p[0].charAt(1)&&p[1].charAt(0)==p[1].charAt(1)&&p[2].charAt(0)==p[2].charAt(1)&&p[3].charAt(0)==p[3].charAt(1)?p[0].charAt(0)+p[1].charAt(0)+p[2].charAt(0)+p[3].charAt(0):p.join("")}function dm(e,t,r,n){var o=[xr(Vb(n)),xr(Math.round(e).toString(16)),xr(Math.round(t).toString(16)),xr(Math.round(r).toString(16))];return o.join("")}ve.equals=function(e,t){return!e||!t?!1:ve(e).toRgbString()==ve(t).toRgbString()};ve.random=function(){return ve.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function F$(e,t){t=t===0?0:t||10;var r=ve(e).toHsl();return r.s-=t/100,r.s=Qu(r.s),ve(r)}function L$(e,t){t=t===0?0:t||10;var r=ve(e).toHsl();return r.s+=t/100,r.s=Qu(r.s),ve(r)}function j$(e){return ve(e).desaturate(100)}function I$(e,t){t=t===0?0:t||10;var r=ve(e).toHsl();return r.l+=t/100,r.l=Qu(r.l),ve(r)}function $$(e,t){t=t===0?0:t||10;var r=ve(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),ve(r)}function N$(e,t){t=t===0?0:t||10;var r=ve(e).toHsl();return r.l-=t/100,r.l=Qu(r.l),ve(r)}function B$(e,t){var r=ve(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,ve(r)}function H$(e){var t=ve(e).toHsl();return t.h=(t.h+180)%360,ve(t)}function pm(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var r=ve(e).toHsl(),n=[ve(e)],o=360/t,p=1;p<t;p++)n.push(ve({h:(r.h+p*o)%360,s:r.s,l:r.l}));return n}function z$(e){var t=ve(e).toHsl(),r=t.h;return[ve(e),ve({h:(r+72)%360,s:t.s,l:t.l}),ve({h:(r+216)%360,s:t.s,l:t.l})]}function U$(e,t,r){t=t||6,r=r||30;var n=ve(e).toHsl(),o=360/r,p=[ve(e)];for(n.h=(n.h-(o*t>>1)+720)%360;--t;)n.h=(n.h+o)%360,p.push(ve(n));return p}function W$(e,t){t=t||6;for(var r=ve(e).toHsv(),n=r.h,o=r.s,p=r.v,y=[],u=1/t;t--;)y.push(ve({h:n,s:o,v:p})),p=(p+u)%1;return y}ve.mix=function(e,t,r){r=r===0?0:r||50;var n=ve(e).toRgb(),o=ve(t).toRgb(),p=r/100,y={r:(o.r-n.r)*p+n.r,g:(o.g-n.g)*p+n.g,b:(o.b-n.b)*p+n.b,a:(o.a-n.a)*p+n.a};return ve(y)};ve.readability=function(e,t){var r=ve(e),n=ve(t);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};ve.isReadable=function(e,t,r){var n=ve.readability(e,t),o,p;switch(p=!1,o=q$(r),o.level+o.size){case"AAsmall":case"AAAlarge":p=n>=4.5;break;case"AAlarge":p=n>=3;break;case"AAAsmall":p=n>=7;break}return p};ve.mostReadable=function(e,t,r){var n=null,o=0,p,y,u,i;r=r||{},y=r.includeFallbackColors,u=r.level,i=r.size;for(var h=0;h<t.length;h++)p=ve.readability(e,t[h]),p>o&&(o=p,n=ve(t[h]));return ve.isReadable(e,n,{level:u,size:i})||!y?n:(r.includeFallbackColors=!1,ve.mostReadable(e,["#fff","#000"],r))};var mf=ve.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},X$=ve.hexNames=Y$(mf);function Y$(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function Gb(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ke(e,t){G$(e)&&(e="100%");var r=V$(e);return e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Qu(e){return Math.min(1,Math.max(0,e))}function Ht(e){return parseInt(e,16)}function G$(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function V$(e){return typeof e=="string"&&e.indexOf("%")!=-1}function xr(e){return e.length==1?"0"+e:""+e}function Po(e){return e<=1&&(e=e*100+"%"),e}function Vb(e){return Math.round(parseFloat(e)*255).toString(16)}function gm(e){return Ht(e)/255}var pr=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",r="(?:"+t+")|(?:"+e+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",o="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Hr(e){return!!pr.CSS_UNIT.exec(e)}function K$(e){e=e.replace(O$,"").replace(P$,"").toLowerCase();var t=!1;if(mf[e])e=mf[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=pr.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=pr.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=pr.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=pr.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=pr.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=pr.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=pr.hex8.exec(e))?{r:Ht(r[1]),g:Ht(r[2]),b:Ht(r[3]),a:gm(r[4]),format:t?"name":"hex8"}:(r=pr.hex6.exec(e))?{r:Ht(r[1]),g:Ht(r[2]),b:Ht(r[3]),format:t?"name":"hex"}:(r=pr.hex4.exec(e))?{r:Ht(r[1]+""+r[1]),g:Ht(r[2]+""+r[2]),b:Ht(r[3]+""+r[3]),a:gm(r[4]+""+r[4]),format:t?"name":"hex8"}:(r=pr.hex3.exec(e))?{r:Ht(r[1]+""+r[1]),g:Ht(r[2]+""+r[2]),b:Ht(r[3]+""+r[3]),format:t?"name":"hex"}:!1}function q$(e){var t,r;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:t,size:r}}var vm=function(t){var r=["r","g","b","a","h","s","l","v"],n=0,o=0;return E$(r,function(p){if(t[p]&&(n+=1,isNaN(t[p])||(o+=1),p==="s"||p==="l")){var y=/^\d+%$/;y.test(t[p])&&(o+=1)}}),n===o?t:!1},ko=function(t,r){var n=t.hex?ve(t.hex):ve(t),o=n.toHsl(),p=n.toHsv(),y=n.toRgb(),u=n.toHex();o.s===0&&(o.h=r||0,p.h=r||0);var i=u==="000000"&&y.a===0;return{hsl:o,hex:i?"transparent":"#"+u,rgb:y,hsv:p,oldHue:t.h||r||o.h,source:t.source}},Wn=function(t){if(t==="transparent")return!0;var r=String(t).charAt(0)==="#"?1:0;return t.length!==4+r&&t.length<7+r&&ve(t).isValid()},Jd=function(t){if(!t)return"#fff";var r=ko(t);if(r.hex==="transparent")return"rgba(0,0,0,0.4)";var n=(r.rgb.r*299+r.rgb.g*587+r.rgb.b*114)/1e3;return n>=128?"#000":"#fff"},Yc=function(t,r){var n=t.replace("°","");return ve(r+" ("+n+")")._ok},wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q$=function(){function e(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function J$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z$(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function eN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Nt=function(t){var r=function(n){eN(o,n);function o(p){J$(this,o);var y=Z$(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return y.handleChange=function(u,i){var h=vm(u);if(h){var d=ko(u,u.h||y.state.oldHue);y.setState(d),y.props.onChangeComplete&&y.debounce(y.props.onChangeComplete,d,i),y.props.onChange&&y.props.onChange(d,i)}},y.handleSwatchHover=function(u,i){var h=vm(u);if(h){var d=ko(u,u.h||y.state.oldHue);y.props.onSwatchHover&&y.props.onSwatchHover(d,i)}},y.state=wo({},ko(p.color,0)),y.debounce=qd(function(u,i,h){u(i,h)},100),y}return Q$(o,[{key:"render",value:function(){var y={};return this.props.onSwatchHover&&(y.onSwatchHover=this.handleSwatchHover),O.createElement(t,wo({},this.props,this.state,{onChange:this.handleChange},y))}}],[{key:"getDerivedStateFromProps",value:function(y,u){return wo({},ko(y.color,u.oldHue))}}]),o}(B.PureComponent||B.Component);return r.propTypes=wo({},t.propTypes),r.defaultProps=wo({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),r},tN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rN=function(){function e(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function nN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mm(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function iN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var aN=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){iN(o,n);function o(){var p,y,u,i;nN(this,o);for(var h=arguments.length,d=Array(h),a=0;a<h;a++)d[a]=arguments[a];return i=(y=(u=mm(this,(p=o.__proto__||Object.getPrototypeOf(o)).call.apply(p,[this].concat(d))),u),u.state={focus:!1},u.handleFocus=function(){return u.setState({focus:!0})},u.handleBlur=function(){return u.setState({focus:!1})},y),mm(u,i)}return rN(o,[{key:"render",value:function(){return O.createElement(r,{onFocus:this.handleFocus,onBlur:this.handleBlur},O.createElement(t,tN({},this.props,this.state)))}}]),o}(O.Component)},ym=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oN=13,sN=function(t){var r=t.color,n=t.style,o=t.onClick,p=o===void 0?function(){}:o,y=t.onHover,u=t.title,i=u===void 0?r:u,h=t.children,d=t.focus,a=t.focusStyle,l=a===void 0?{}:a,s=r==="transparent",f=Te({default:{swatch:ym({background:r,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,d?l:{})}}),v=function(x){return p(r,x)},c=function(x){return x.keyCode===oN&&p(r,x)},g=function(x){return y(r,x)},m={};return y&&(m.onMouseOver=g),O.createElement("div",ym({style:f.swatch,onClick:v,title:i,tabIndex:0,onKeyDown:c},m),h,s&&O.createElement(to,{borderRadius:f.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Ei=aN(sN);var lN=function(t){var r=t.direction,n=Te({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return O.createElement("div",{style:n.picker})},uN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kb=function(t){var r=t.rgb,n=t.hsl,o=t.width,p=t.height,y=t.onChange,u=t.direction,i=t.style,h=t.renderers,d=t.pointer,a=t.className,l=a===void 0?"":a,s=Te({default:{picker:{position:"relative",width:o,height:p},alpha:{radius:"2px",style:i}}});return O.createElement("div",{style:s.picker,className:"alpha-picker "+l},O.createElement(Ud,uN({},s.alpha,{rgb:r,hsl:n,pointer:d,renderers:h,onChange:y,direction:u})))};Kb.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:lN};Nt(Kb);function qb(e,t){for(var r=-1,n=e==null?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}var cN="__lodash_hash_undefined__";function hN(e){return this.__data__.set(e,cN),this}function fN(e){return this.__data__.has(e)}function gu(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new nn;++t<r;)this.add(e[t])}gu.prototype.add=gu.prototype.push=hN;gu.prototype.has=fN;function dN(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function pN(e,t){return e.has(t)}var gN=1,vN=2;function Qb(e,t,r,n,o,p){var y=r&gN,u=e.length,i=t.length;if(u!=i&&!(y&&i>u))return!1;var h=p.get(e),d=p.get(t);if(h&&d)return h==t&&d==e;var a=-1,l=!0,s=r&vN?new gu:void 0;for(p.set(e,t),p.set(t,e);++a<u;){var f=e[a],v=t[a];if(n)var c=y?n(v,f,a,t,e,p):n(f,v,a,e,t,p);if(c!==void 0){if(c)continue;l=!1;break}if(s){if(!dN(t,function(g,m){if(!pN(s,m)&&(f===g||o(f,g,r,n,p)))return s.push(m)})){l=!1;break}}else if(!(f===v||o(f,v,r,n,p))){l=!1;break}}return p.delete(e),p.delete(t),l}function mN(e){var t=-1,r=Array(e.size);return e.forEach(function(n,o){r[++t]=[o,n]}),r}function yN(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var bN=1,xN=2,wN="[object Boolean]",_N="[object Date]",SN="[object Error]",CN="[object Map]",TN="[object Number]",EN="[object RegExp]",ON="[object Set]",PN="[object String]",kN="[object Symbol]",AN="[object ArrayBuffer]",MN="[object DataView]",bm=In?In.prototype:void 0,Gc=bm?bm.valueOf:void 0;function RN(e,t,r,n,o,p,y){switch(r){case MN:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case AN:return!(e.byteLength!=t.byteLength||!p(new hu(e),new hu(t)));case wN:case _N:case TN:return Bs(+e,+t);case SN:return e.name==t.name&&e.message==t.message;case EN:case PN:return e==t+"";case CN:var u=mN;case ON:var i=n&bN;if(u||(u=yN),e.size!=t.size&&!i)return!1;var h=y.get(e);if(h)return h==t;n|=xN,y.set(e,t);var d=Qb(u(e),u(t),n,o,p,y);return y.delete(e),d;case kN:if(Gc)return Gc.call(e)==Gc.call(t)}return!1}function DN(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}function FN(e,t,r){var n=t(e);return qt(e)?n:DN(n,r(e))}function LN(e,t){for(var r=-1,n=e==null?0:e.length,o=0,p=[];++r<n;){var y=e[r];t(y,r,e)&&(p[o++]=y)}return p}function jN(){return[]}var IN=Object.prototype,$N=IN.propertyIsEnumerable,xm=Object.getOwnPropertySymbols,NN=xm?function(e){return e==null?[]:(e=Object(e),LN(xm(e),function(t){return $N.call(e,t)}))}:jN;const BN=NN;function wm(e){return FN(e,Qd,BN)}var HN=1,zN=Object.prototype,UN=zN.hasOwnProperty;function WN(e,t,r,n,o,p){var y=r&HN,u=wm(e),i=u.length,h=wm(t),d=h.length;if(i!=d&&!y)return!1;for(var a=i;a--;){var l=u[a];if(!(y?l in t:UN.call(t,l)))return!1}var s=p.get(e),f=p.get(t);if(s&&f)return s==t&&f==e;var v=!0;p.set(e,t),p.set(t,e);for(var c=y;++a<i;){l=u[a];var g=e[l],m=t[l];if(n)var b=y?n(m,g,l,t,e,p):n(g,m,l,e,t,p);if(!(b===void 0?g===m||o(g,m,r,n,p):b)){v=!1;break}c||(c=l=="constructor")}if(v&&!c){var x=e.constructor,w=t.constructor;x!=w&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof w=="function"&&w instanceof w)&&(v=!1)}return p.delete(e),p.delete(t),v}var XN=Ti(Tr,"DataView");const yf=XN;var YN=Ti(Tr,"Promise");const bf=YN;var GN=Ti(Tr,"Set");const xf=GN;var VN=Ti(Tr,"WeakMap");const wf=VN;var _m="[object Map]",KN="[object Object]",Sm="[object Promise]",Cm="[object Set]",Tm="[object WeakMap]",Em="[object DataView]",qN=Ci(yf),QN=Ci(us),JN=Ci(bf),ZN=Ci(xf),eB=Ci(wf),Kn=Si;(yf&&Kn(new yf(new ArrayBuffer(1)))!=Em||us&&Kn(new us)!=_m||bf&&Kn(bf.resolve())!=Sm||xf&&Kn(new xf)!=Cm||wf&&Kn(new wf)!=Tm)&&(Kn=function(e){var t=Si(e),r=t==KN?e.constructor:void 0,n=r?Ci(r):"";if(n)switch(n){case qN:return Em;case QN:return _m;case JN:return Sm;case ZN:return Cm;case eB:return Tm}return t});const Om=Kn;var tB=1,Pm="[object Arguments]",km="[object Array]",pl="[object Object]",rB=Object.prototype,Am=rB.hasOwnProperty;function nB(e,t,r,n,o,p){var y=qt(e),u=qt(t),i=y?km:Om(e),h=u?km:Om(t);i=i==Pm?pl:i,h=h==Pm?pl:h;var d=i==pl,a=h==pl,l=i==h;if(l&&du(e)){if(!du(t))return!1;y=!0,d=!1}if(l&&!d)return p||(p=new $r),y||Vd(e)?Qb(e,t,r,n,o,p):RN(e,t,i,r,n,o,p);if(!(r&tB)){var s=d&&Am.call(e,"__wrapped__"),f=a&&Am.call(t,"__wrapped__");if(s||f){var v=s?e.value():e,c=f?t.value():t;return p||(p=new $r),o(v,c,r,n,p)}}return l?(p||(p=new $r),WN(e,t,r,n,o,p)):!1}function Zd(e,t,r,n,o){return e===t?!0:e==null||t==null||!$n(e)&&!$n(t)?e!==e&&t!==t:nB(e,t,r,n,Zd,o)}var iB=1,aB=2;function oB(e,t,r,n){var o=r.length,p=o,y=!n;if(e==null)return!p;for(e=Object(e);o--;){var u=r[o];if(y&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<p;){u=r[o];var i=u[0],h=e[i],d=u[1];if(y&&u[2]){if(h===void 0&&!(i in e))return!1}else{var a=new $r;if(n)var l=n(h,d,i,e,t,a);if(!(l===void 0?Zd(d,h,iB|aB,n,a):l))return!1}}return!0}function Jb(e){return e===e&&!fr(e)}function sB(e){for(var t=Qd(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,Jb(o)]}return t}function Zb(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function lB(e){var t=sB(e);return t.length==1&&t[0][2]?Zb(t[0][0],t[0][1]):function(r){return r===e||oB(r,e,t)}}var uB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cB=/^\w*$/;function ep(e,t){if(qt(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Ku(e)?!0:cB.test(e)||!uB.test(e)||t!=null&&e in Object(t)}var hB="Expected a function";function tp(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(hB);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],p=r.cache;if(p.has(o))return p.get(o);var y=e.apply(this,n);return r.cache=p.set(o,y)||p,y};return r.cache=new(tp.Cache||nn),r}tp.Cache=nn;var fB=500;function dB(e){var t=tp(e,function(n){return r.size===fB&&r.clear(),n}),r=t.cache;return t}var pB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gB=/\\(\\)?/g,vB=dB(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(pB,function(r,n,o,p){t.push(o?p.replace(gB,"$1"):n||r)}),t});const mB=vB;var yB=1/0,Mm=In?In.prototype:void 0,Rm=Mm?Mm.toString:void 0;function ex(e){if(typeof e=="string")return e;if(qt(e))return qb(e,ex)+"";if(Ku(e))return Rm?Rm.call(e):"";var t=e+"";return t=="0"&&1/e==-yB?"-0":t}function bB(e){return e==null?"":ex(e)}function tx(e,t){return qt(e)?e:ep(e,t)?[e]:mB(bB(e))}var xB=1/0;function Ju(e){if(typeof e=="string"||Ku(e))return e;var t=e+"";return t=="0"&&1/e==-xB?"-0":t}function rx(e,t){t=tx(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Ju(t[r++])];return r&&r==n?e:void 0}function wB(e,t,r){var n=e==null?void 0:rx(e,t);return n===void 0?r:n}function _B(e,t){return e!=null&&t in Object(e)}function SB(e,t,r){t=tx(t,e);for(var n=-1,o=t.length,p=!1;++n<o;){var y=Ju(t[n]);if(!(p=e!=null&&r(e,y)))break;e=e[y]}return p||++n!=o?p:(o=e==null?0:e.length,!!o&&Gd(o)&&Kd(y,o)&&(qt(e)||fu(e)))}function CB(e,t){return e!=null&&SB(e,t,_B)}var TB=1,EB=2;function OB(e,t){return ep(e)&&Jb(t)?Zb(Ju(e),t):function(r){var n=wB(r,e);return n===void 0&&n===t?CB(r,e):Zd(t,n,TB|EB)}}function PB(e){return function(t){return t==null?void 0:t[e]}}function kB(e){return function(t){return rx(t,e)}}function AB(e){return ep(e)?PB(Ju(e)):kB(e)}function MB(e){return typeof e=="function"?e:e==null?Vu:typeof e=="object"?qt(e)?OB(e[0],e[1]):lB(e):AB(e)}function RB(e,t){var r=-1,n=no(e)?Array(e.length):[];return Yb(e,function(o,p,y){n[++r]=t(o,p,y)}),n}function Oi(e,t){var r=qt(e)?qb:RB;return r(e,MB(t))}var DB=function(t){var r=t.colors,n=t.onClick,o=t.onSwatchHover,p=Te({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return O.createElement("div",{style:p.swatches},Oi(r,function(y){return O.createElement(Ei,{key:y,color:y,style:p.swatch,onClick:n,onHover:o,focusStyle:{boxShadow:"0 0 4px "+y}})}),O.createElement("div",{style:p.clear}))},rp=function(t){var r=t.onChange,n=t.onSwatchHover,o=t.hex,p=t.colors,y=t.width,u=t.triangle,i=t.styles,h=i===void 0?{}:i,d=t.className,a=d===void 0?"":d,l=o==="transparent",s=function(c,g){Wn(c)&&r({hex:c,source:"hex"},g)},f=Te($t({default:{card:{width:y,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:o,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:Jd(o),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+o+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},h),{"hide-triangle":u==="hide"});return O.createElement("div",{style:f.card,className:"block-picker "+a},O.createElement("div",{style:f.triangle}),O.createElement("div",{style:f.head},l&&O.createElement(to,{borderRadius:"6px 6px 0 0"}),O.createElement("div",{style:f.label},o)),O.createElement("div",{style:f.body},O.createElement(DB,{colors:p,onClick:s,onSwatchHover:n}),O.createElement(De,{style:{input:f.input},value:o,onChange:s})))};rp.propTypes={width:ce.oneOfType([ce.string,ce.number]),colors:ce.arrayOf(ce.string),triangle:ce.oneOf(["top","hide"]),styles:ce.object};rp.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Nt(rp);var Fi={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Li={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},ji={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Ii={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},$i={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Ni={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Bi={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Hi={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},zi={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Ao={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},Ui={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Wi={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Xi={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Yi={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Gi={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Vi={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Ki={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},qi={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},nx=function(t){var r=t.color,n=t.onClick,o=t.onSwatchHover,p=t.hover,y=t.active,u=t.circleSize,i=t.circleSpacing,h=Te({default:{swatch:{width:u,height:u,marginRight:i,marginBottom:i,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(u/2+1)+"px "+r,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+r}}},{hover:p,active:y});return O.createElement("div",{style:h.swatch},O.createElement(Ei,{style:h.Swatch,color:r,onClick:n,onHover:o,focusStyle:{boxShadow:h.Swatch.boxShadow+", 0 0 5px "+r}}))};nx.defaultProps={circleSize:28,circleSpacing:14};const FB=zd(nx);var np=function(t){var r=t.width,n=t.onChange,o=t.onSwatchHover,p=t.colors,y=t.hex,u=t.circleSize,i=t.styles,h=i===void 0?{}:i,d=t.circleSpacing,a=t.className,l=a===void 0?"":a,s=Te($t({default:{card:{width:r,display:"flex",flexWrap:"wrap",marginRight:-d,marginBottom:-d}}},h)),f=function(c,g){return n({hex:c,source:"hex"},g)};return O.createElement("div",{style:s.card,className:"circle-picker "+l},Oi(p,function(v){return O.createElement(FB,{key:v,color:v,onClick:f,onSwatchHover:o,active:y===v.toLowerCase(),circleSize:u,circleSpacing:d})}))};np.propTypes={width:ce.oneOfType([ce.string,ce.number]),circleSize:ce.number,circleSpacing:ce.number,styles:ce.object};np.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Fi[500],Li[500],ji[500],Ii[500],$i[500],Ni[500],Bi[500],Hi[500],zi[500],Ao[500],Ui[500],Wi[500],Xi[500],Yi[500],Gi[500],Vi[500],Ki[500],qi[500]],styles:{}};Nt(np);function Dm(e){return e===void 0}var ix={};Object.defineProperty(ix,"__esModule",{value:!0});var Fm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LB=B,Lm=jB(LB);function jB(e){return e&&e.__esModule?e:{default:e}}function IB(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var gl=24,$B=ix.default=function(e){var t=e.fill,r=t===void 0?"currentColor":t,n=e.width,o=n===void 0?gl:n,p=e.height,y=p===void 0?gl:p,u=e.style,i=u===void 0?{}:u,h=IB(e,["fill","width","height","style"]);return Lm.default.createElement("svg",Fm({viewBox:"0 0 "+gl+" "+gl,style:Fm({fill:r,width:o,height:y},i)},h),Lm.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},NB=function(){function e(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function BB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HB(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function zB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ax=function(e){zB(t,e);function t(r){BB(this,t);var n=HB(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){n.state.view==="hex"?n.setState({view:"rgb"}):n.state.view==="rgb"?n.setState({view:"hsl"}):n.state.view==="hsl"&&(n.props.hsl.a===1?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(o,p){o.hex?Wn(o.hex)&&n.props.onChange({hex:o.hex,source:"hex"},p):o.r||o.g||o.b?n.props.onChange({r:o.r||n.props.rgb.r,g:o.g||n.props.rgb.g,b:o.b||n.props.rgb.b,source:"rgb"},p):o.a?(o.a<0?o.a=0:o.a>1&&(o.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(o.a*100)/100,source:"rgb"},p)):(o.h||o.s||o.l)&&(typeof o.s=="string"&&o.s.includes("%")&&(o.s=o.s.replace("%","")),typeof o.l=="string"&&o.l.includes("%")&&(o.l=o.l.replace("%","")),o.s==1?o.s=.01:o.l==1&&(o.l=.01),n.props.onChange({h:o.h||n.props.hsl.h,s:Number(Dm(o.s)?n.props.hsl.s:o.s),l:Number(Dm(o.l)?n.props.hsl.l:o.l),source:"hsl"},p))},n.showHighlight=function(o){o.currentTarget.style.background="#eee"},n.hideHighlight=function(o){o.currentTarget.style.background="transparent"},r.hsl.a!==1&&r.view==="hex"?n.state={view:"rgb"}:n.state={view:r.view},n}return NB(t,[{key:"render",value:function(){var n=this,o=Te({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),p=void 0;return this.state.view==="hex"?p=O.createElement("div",{style:o.fields,className:"flexbox-fix"},O.createElement("div",{style:o.field},O.createElement(De,{style:{input:o.input,label:o.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?p=O.createElement("div",{style:o.fields,className:"flexbox-fix"},O.createElement("div",{style:o.field},O.createElement(De,{style:{input:o.input,label:o.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),O.createElement("div",{style:o.field},O.createElement(De,{style:{input:o.input,label:o.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),O.createElement("div",{style:o.field},O.createElement(De,{style:{input:o.input,label:o.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),O.createElement("div",{style:o.alpha},O.createElement(De,{style:{input:o.input,label:o.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(p=O.createElement("div",{style:o.fields,className:"flexbox-fix"},O.createElement("div",{style:o.field},O.createElement(De,{style:{input:o.input,label:o.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),O.createElement("div",{style:o.field},O.createElement(De,{style:{input:o.input,label:o.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),O.createElement("div",{style:o.field},O.createElement(De,{style:{input:o.input,label:o.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),O.createElement("div",{style:o.alpha},O.createElement(De,{style:{input:o.input,label:o.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),O.createElement("div",{style:o.wrap,className:"flexbox-fix"},p,O.createElement("div",{style:o.toggle},O.createElement("div",{style:o.icon,onClick:this.toggleViews,ref:function(u){return n.icon=u}},O.createElement($B,{style:o.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(n,o){return n.hsl.a!==1&&o.view==="hex"?{view:"rgb"}:null}}]),t}(O.Component);ax.defaultProps={view:"hex"};var jm=function(){var t=Te({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return O.createElement("div",{style:t.picker})},UB=function(){var t=Te({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return O.createElement("div",{style:t.picker})},ip=function(t){var r=t.width,n=t.onChange,o=t.disableAlpha,p=t.rgb,y=t.hsl,u=t.hsv,i=t.hex,h=t.renderers,d=t.styles,a=d===void 0?{}:d,l=t.className,s=l===void 0?"":l,f=t.defaultView,v=Te($t({default:{picker:{width:r,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+p.r+", "+p.g+", "+p.b+", "+p.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},a),{disableAlpha:o});return O.createElement("div",{style:v.picker,className:"chrome-picker "+s},O.createElement("div",{style:v.saturation},O.createElement(qu,{style:v.Saturation,hsl:y,hsv:u,pointer:UB,onChange:n})),O.createElement("div",{style:v.body},O.createElement("div",{style:v.controls,className:"flexbox-fix"},O.createElement("div",{style:v.color},O.createElement("div",{style:v.swatch},O.createElement("div",{style:v.active}),O.createElement(to,{renderers:h}))),O.createElement("div",{style:v.toggles},O.createElement("div",{style:v.hue},O.createElement(ro,{style:v.Hue,hsl:y,pointer:jm,onChange:n})),O.createElement("div",{style:v.alpha},O.createElement(Ud,{style:v.Alpha,rgb:p,hsl:y,pointer:jm,renderers:h,onChange:n})))),O.createElement(ax,{rgb:p,hsl:y,hex:i,view:f,onChange:n,disableAlpha:o})))};ip.propTypes={width:ce.oneOfType([ce.string,ce.number]),disableAlpha:ce.bool,styles:ce.object,defaultView:ce.oneOf(["hex","rgb","hsl"])};ip.defaultProps={width:225,disableAlpha:!1,styles:{}};Nt(ip);var WB=function(t){var r=t.color,n=t.onClick,o=n===void 0?function(){}:n,p=t.onSwatchHover,y=t.active,u=Te({default:{color:{background:r,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:Jd(r),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:y,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return O.createElement(Ei,{style:u.color,color:r,onClick:o,onHover:p,focusStyle:{boxShadow:"0 0 4px "+r}},O.createElement("div",{style:u.dot}))},XB=function(t){var r=t.hex,n=t.rgb,o=t.onChange,p=Te({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:r},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),y=function(i,h){i.r||i.g||i.b?o({r:i.r||n.r,g:i.g||n.g,b:i.b||n.b,source:"rgb"},h):o({hex:i.hex,source:"hex"},h)};return O.createElement("div",{style:p.fields,className:"flexbox-fix"},O.createElement("div",{style:p.active}),O.createElement(De,{style:{wrap:p.HEXwrap,input:p.HEXinput,label:p.HEXlabel},label:"hex",value:r,onChange:y}),O.createElement(De,{style:{wrap:p.RGBwrap,input:p.RGBinput,label:p.RGBlabel},label:"r",value:n.r,onChange:y}),O.createElement(De,{style:{wrap:p.RGBwrap,input:p.RGBinput,label:p.RGBlabel},label:"g",value:n.g,onChange:y}),O.createElement(De,{style:{wrap:p.RGBwrap,input:p.RGBinput,label:p.RGBlabel},label:"b",value:n.b,onChange:y}))},ap=function(t){var r=t.onChange,n=t.onSwatchHover,o=t.colors,p=t.hex,y=t.rgb,u=t.styles,i=u===void 0?{}:u,h=t.className,d=h===void 0?"":h,a=Te($t({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},i)),l=function(f,v){f.hex?Wn(f.hex)&&r({hex:f.hex,source:"hex"},v):r(f,v)};return O.createElement(Hs,{style:a.Compact,styles:i},O.createElement("div",{style:a.compact,className:"compact-picker "+d},O.createElement("div",null,Oi(o,function(s){return O.createElement(WB,{key:s,color:s,active:s.toLowerCase()===p,onClick:l,onSwatchHover:n})}),O.createElement("div",{style:a.clear})),O.createElement(XB,{hex:p,rgb:y,onChange:l})))};ap.propTypes={colors:ce.arrayOf(ce.string),styles:ce.object};ap.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Nt(ap);var YB=function(t){var r=t.hover,n=t.color,o=t.onClick,p=t.onSwatchHover,y={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},u=Te({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:y}},{hover:r});return O.createElement("div",{style:u.swatch},O.createElement(Ei,{color:n,onClick:o,onHover:p,focusStyle:y}))};const GB=zd(YB);var op=function(t){var r=t.width,n=t.colors,o=t.onChange,p=t.onSwatchHover,y=t.triangle,u=t.styles,i=u===void 0?{}:u,h=t.className,d=h===void 0?"":h,a=Te($t({default:{card:{width:r,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},i),{"hide-triangle":y==="hide","top-left-triangle":y==="top-left","top-right-triangle":y==="top-right","bottom-left-triangle":y==="bottom-left","bottom-right-triangle":y==="bottom-right"}),l=function(f,v){return o({hex:f,source:"hex"},v)};return O.createElement("div",{style:a.card,className:"github-picker "+d},O.createElement("div",{style:a.triangleShadow}),O.createElement("div",{style:a.triangle}),Oi(n,function(s){return O.createElement(GB,{color:s,key:s,onClick:l,onSwatchHover:p})}))};op.propTypes={width:ce.oneOfType([ce.string,ce.number]),colors:ce.arrayOf(ce.string),triangle:ce.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:ce.object};op.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Nt(op);var VB=function(t){var r=t.direction,n=Te({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return O.createElement("div",{style:n.picker})},KB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sp=function(t){var r=t.width,n=t.height,o=t.onChange,p=t.hsl,y=t.direction,u=t.pointer,i=t.styles,h=i===void 0?{}:i,d=t.className,a=d===void 0?"":d,l=Te($t({default:{picker:{position:"relative",width:r,height:n},hue:{radius:"2px"}}},h)),s=function(v){return o({a:1,h:v.h,l:.5,s:1})};return O.createElement("div",{style:l.picker,className:"hue-picker "+a},O.createElement(ro,KB({},l.hue,{hsl:p,pointer:u,onChange:s,direction:y})))};sp.propTypes={styles:ce.object};sp.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:VB,styles:{}};Nt(sp);var qB=function(t){var r=t.onChange,n=t.hex,o=t.rgb,p=t.styles,y=p===void 0?{}:p,u=t.className,i=u===void 0?"":u,h=Te($t({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},y)),d=function(l,s){l.hex?Wn(l.hex)&&r({hex:l.hex,source:"hex"},s):(l.r||l.g||l.b)&&r({r:l.r||o.r,g:l.g||o.g,b:l.b||o.b,source:"rgb"},s)};return O.createElement(Hs,{styles:y},O.createElement("div",{style:h.material,className:"material-picker "+i},O.createElement(De,{style:{wrap:h.HEXwrap,input:h.HEXinput,label:h.HEXlabel},label:"hex",value:n,onChange:d}),O.createElement("div",{style:h.split,className:"flexbox-fix"},O.createElement("div",{style:h.third},O.createElement(De,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"r",value:o.r,onChange:d})),O.createElement("div",{style:h.third},O.createElement(De,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"g",value:o.g,onChange:d})),O.createElement("div",{style:h.third},O.createElement(De,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"b",value:o.b,onChange:d})))))};Nt(qB);var QB=function(t){var r=t.onChange,n=t.rgb,o=t.hsv,p=t.hex,y=Te({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),u=function(h,d){h["#"]?Wn(h["#"])&&r({hex:h["#"],source:"hex"},d):h.r||h.g||h.b?r({r:h.r||n.r,g:h.g||n.g,b:h.b||n.b,source:"rgb"},d):(h.h||h.s||h.v)&&r({h:h.h||o.h,s:h.s||o.s,v:h.v||o.v,source:"hsv"},d)};return O.createElement("div",{style:y.fields},O.createElement(De,{style:{wrap:y.RGBwrap,input:y.RGBinput,label:y.RGBlabel},label:"h",value:Math.round(o.h),onChange:u}),O.createElement(De,{style:{wrap:y.RGBwrap,input:y.RGBinput,label:y.RGBlabel},label:"s",value:Math.round(o.s*100),onChange:u}),O.createElement(De,{style:{wrap:y.RGBwrap,input:y.RGBinput,label:y.RGBlabel},label:"v",value:Math.round(o.v*100),onChange:u}),O.createElement("div",{style:y.divider}),O.createElement(De,{style:{wrap:y.RGBwrap,input:y.RGBinput,label:y.RGBlabel},label:"r",value:n.r,onChange:u}),O.createElement(De,{style:{wrap:y.RGBwrap,input:y.RGBinput,label:y.RGBlabel},label:"g",value:n.g,onChange:u}),O.createElement(De,{style:{wrap:y.RGBwrap,input:y.RGBinput,label:y.RGBlabel},label:"b",value:n.b,onChange:u}),O.createElement("div",{style:y.divider}),O.createElement(De,{style:{wrap:y.HEXwrap,input:y.HEXinput,label:y.HEXlabel},label:"#",value:p.replace("#",""),onChange:u}),O.createElement("div",{style:y.fieldSymbols},O.createElement("div",{style:y.symbol},"°"),O.createElement("div",{style:y.symbol},"%"),O.createElement("div",{style:y.symbol},"%")))},JB=function(t){var r=t.hsl,n=Te({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":r.l>.5});return O.createElement("div",{style:n.picker})},ZB=function(){var t=Te({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return O.createElement("div",{style:t.pointer},O.createElement("div",{style:t.left},O.createElement("div",{style:t.leftInside})),O.createElement("div",{style:t.right},O.createElement("div",{style:t.rightInside})))},Im=function(t){var r=t.onClick,n=t.label,o=t.children,p=t.active,y=Te({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:p});return O.createElement("div",{style:y.button,onClick:r},n||o)},e8=function(t){var r=t.rgb,n=t.currentColor,o=Te({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+r.r+","+r.g+", "+r.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return O.createElement("div",null,O.createElement("div",{style:o.label},"new"),O.createElement("div",{style:o.swatches},O.createElement("div",{style:o.new}),O.createElement("div",{style:o.current})),O.createElement("div",{style:o.label},"current"))},t8=function(){function e(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function r8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n8(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function i8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var lp=function(e){i8(t,e);function t(r){r8(this,t);var n=n8(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:r.hex},n}return t8(t,[{key:"render",value:function(){var n=this.props,o=n.styles,p=o===void 0?{}:o,y=n.className,u=y===void 0?"":y,i=Te($t({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},p));return O.createElement("div",{style:i.picker,className:"photoshop-picker "+u},O.createElement("div",{style:i.head},this.props.header),O.createElement("div",{style:i.body,className:"flexbox-fix"},O.createElement("div",{style:i.saturation},O.createElement(qu,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:JB,onChange:this.props.onChange})),O.createElement("div",{style:i.hue},O.createElement(ro,{direction:"vertical",hsl:this.props.hsl,pointer:ZB,onChange:this.props.onChange})),O.createElement("div",{style:i.controls},O.createElement("div",{style:i.top,className:"flexbox-fix"},O.createElement("div",{style:i.previews},O.createElement(e8,{rgb:this.props.rgb,currentColor:this.state.currentColor})),O.createElement("div",{style:i.actions},O.createElement(Im,{label:"OK",onClick:this.props.onAccept,active:!0}),O.createElement(Im,{label:"Cancel",onClick:this.props.onCancel}),O.createElement(QB,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(O.Component);lp.propTypes={header:ce.string,styles:ce.object};lp.defaultProps={header:"Color Picker",styles:{}};Nt(lp);var a8=function(t){var r=t.onChange,n=t.rgb,o=t.hsl,p=t.hex,y=t.disableAlpha,u=Te({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:y}),i=function(d,a){d.hex?Wn(d.hex)&&r({hex:d.hex,source:"hex"},a):d.r||d.g||d.b?r({r:d.r||n.r,g:d.g||n.g,b:d.b||n.b,a:n.a,source:"rgb"},a):d.a&&(d.a<0?d.a=0:d.a>100&&(d.a=100),d.a/=100,r({h:o.h,s:o.s,l:o.l,a:d.a,source:"rgb"},a))};return O.createElement("div",{style:u.fields,className:"flexbox-fix"},O.createElement("div",{style:u.double},O.createElement(De,{style:{input:u.input,label:u.label},label:"hex",value:p.replace("#",""),onChange:i})),O.createElement("div",{style:u.single},O.createElement(De,{style:{input:u.input,label:u.label},label:"r",value:n.r,onChange:i,dragLabel:"true",dragMax:"255"})),O.createElement("div",{style:u.single},O.createElement(De,{style:{input:u.input,label:u.label},label:"g",value:n.g,onChange:i,dragLabel:"true",dragMax:"255"})),O.createElement("div",{style:u.single},O.createElement(De,{style:{input:u.input,label:u.label},label:"b",value:n.b,onChange:i,dragLabel:"true",dragMax:"255"})),O.createElement("div",{style:u.alpha},O.createElement(De,{style:{input:u.input,label:u.label},label:"a",value:Math.round(n.a*100),onChange:i,dragLabel:"true",dragMax:"100"})))},o8=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ox=function(t){var r=t.colors,n=t.onClick,o=n===void 0?function(){}:n,p=t.onSwatchHover,y=Te({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!r||!r.length}),u=function(h,d){o({hex:h,source:"hex"},d)};return O.createElement("div",{style:y.colors,className:"flexbox-fix"},r.map(function(i){var h=typeof i=="string"?{color:i}:i,d=""+h.color+(h.title||"");return O.createElement("div",{key:d,style:y.swatchWrap},O.createElement(Ei,o8({},h,{style:y.swatch,onClick:u,onHover:p,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+h.color}})))}))};ox.propTypes={colors:ce.arrayOf(ce.oneOfType([ce.string,ce.shape({color:ce.string,title:ce.string})])).isRequired};var s8=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up=function(t){var r=t.width,n=t.rgb,o=t.hex,p=t.hsv,y=t.hsl,u=t.onChange,i=t.onSwatchHover,h=t.disableAlpha,d=t.presetColors,a=t.renderers,l=t.styles,s=l===void 0?{}:l,f=t.className,v=f===void 0?"":f,c=Te($t({default:s8({picker:{width:r,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},s),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},s),{disableAlpha:h});return O.createElement("div",{style:c.picker,className:"sketch-picker "+v},O.createElement("div",{style:c.saturation},O.createElement(qu,{style:c.Saturation,hsl:y,hsv:p,onChange:u})),O.createElement("div",{style:c.controls,className:"flexbox-fix"},O.createElement("div",{style:c.sliders},O.createElement("div",{style:c.hue},O.createElement(ro,{style:c.Hue,hsl:y,onChange:u})),O.createElement("div",{style:c.alpha},O.createElement(Ud,{style:c.Alpha,rgb:n,hsl:y,renderers:a,onChange:u}))),O.createElement("div",{style:c.color},O.createElement(to,null),O.createElement("div",{style:c.activeColor}))),O.createElement(a8,{rgb:n,hsl:y,hex:o,onChange:u,disableAlpha:h}),O.createElement(ox,{colors:d,onClick:u,onSwatchHover:i}))};up.propTypes={disableAlpha:ce.bool,width:ce.oneOfType([ce.string,ce.number]),styles:ce.object};up.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const l8=Nt(up);var _o=function(t){var r=t.hsl,n=t.offset,o=t.onClick,p=o===void 0?function(){}:o,y=t.active,u=t.first,i=t.last,h=Te({default:{swatch:{height:"12px",background:"hsl("+r.h+", 50%, "+n*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:y,first:u,last:i}),d=function(l){return p({h:r.h,s:.5,l:n,source:"hsl"},l)};return O.createElement("div",{style:h.swatch,onClick:d})},u8=function(t){var r=t.onClick,n=t.hsl,o=Te({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),p=.1;return O.createElement("div",{style:o.swatches},O.createElement("div",{style:o.swatch},O.createElement(_o,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<p&&Math.abs(n.s-.5)<p,onClick:r,first:!0})),O.createElement("div",{style:o.swatch},O.createElement(_o,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<p&&Math.abs(n.s-.5)<p,onClick:r})),O.createElement("div",{style:o.swatch},O.createElement(_o,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<p&&Math.abs(n.s-.5)<p,onClick:r})),O.createElement("div",{style:o.swatch},O.createElement(_o,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<p&&Math.abs(n.s-.5)<p,onClick:r})),O.createElement("div",{style:o.swatch},O.createElement(_o,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<p&&Math.abs(n.s-.5)<p,onClick:r,last:!0})),O.createElement("div",{style:o.clear}))},c8=function(){var t=Te({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return O.createElement("div",{style:t.picker})},cp=function(t){var r=t.hsl,n=t.onChange,o=t.pointer,p=t.styles,y=p===void 0?{}:p,u=t.className,i=u===void 0?"":u,h=Te($t({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},y));return O.createElement("div",{style:h.wrap||{},className:"slider-picker "+i},O.createElement("div",{style:h.hue},O.createElement(ro,{style:h.Hue,hsl:r,pointer:o,onChange:n})),O.createElement("div",{style:h.swatches},O.createElement(u8,{hsl:r,onClick:n})))};cp.propTypes={styles:ce.object};cp.defaultProps={pointer:c8,styles:{}};Nt(cp);var sx={};Object.defineProperty(sx,"__esModule",{value:!0});var $m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h8=B,Nm=f8(h8);function f8(e){return e&&e.__esModule?e:{default:e}}function d8(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var vl=24,p8=sx.default=function(e){var t=e.fill,r=t===void 0?"currentColor":t,n=e.width,o=n===void 0?vl:n,p=e.height,y=p===void 0?vl:p,u=e.style,i=u===void 0?{}:u,h=d8(e,["fill","width","height","style"]);return Nm.default.createElement("svg",$m({viewBox:"0 0 "+vl+" "+vl,style:$m({fill:r,width:o,height:y},i)},h),Nm.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},g8=function(t){var r=t.color,n=t.onClick,o=n===void 0?function(){}:n,p=t.onSwatchHover,y=t.first,u=t.last,i=t.active,h=Te({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:r,marginBottom:"1px"},check:{color:Jd(r),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:y,last:u,active:i,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return O.createElement(Ei,{color:r,style:h.color,onClick:o,onHover:p,focusStyle:{boxShadow:"0 0 4px "+r}},O.createElement("div",{style:h.check},O.createElement(p8,null)))},v8=function(t){var r=t.onClick,n=t.onSwatchHover,o=t.group,p=t.active,y=Te({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return O.createElement("div",{style:y.group},Oi(o,function(u,i){return O.createElement(g8,{key:u,color:u,active:u.toLowerCase()===p,first:i===0,last:i===o.length-1,onClick:r,onSwatchHover:n})}))},hp=function(t){var r=t.width,n=t.height,o=t.onChange,p=t.onSwatchHover,y=t.colors,u=t.hex,i=t.styles,h=i===void 0?{}:i,d=t.className,a=d===void 0?"":d,l=Te($t({default:{picker:{width:r,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},h)),s=function(v,c){return o({hex:v,source:"hex"},c)};return O.createElement("div",{style:l.picker,className:"swatches-picker "+a},O.createElement(Hs,null,O.createElement("div",{style:l.overflow},O.createElement("div",{style:l.body},Oi(y,function(f){return O.createElement(v8,{key:f.toString(),group:f,active:u,onClick:s,onSwatchHover:p})}),O.createElement("div",{style:l.clear})))))};hp.propTypes={width:ce.oneOfType([ce.string,ce.number]),height:ce.oneOfType([ce.string,ce.number]),colors:ce.arrayOf(ce.arrayOf(ce.string)),styles:ce.object};hp.defaultProps={width:320,height:240,colors:[[Fi[900],Fi[700],Fi[500],Fi[300],Fi[100]],[Li[900],Li[700],Li[500],Li[300],Li[100]],[ji[900],ji[700],ji[500],ji[300],ji[100]],[Ii[900],Ii[700],Ii[500],Ii[300],Ii[100]],[$i[900],$i[700],$i[500],$i[300],$i[100]],[Ni[900],Ni[700],Ni[500],Ni[300],Ni[100]],[Bi[900],Bi[700],Bi[500],Bi[300],Bi[100]],[Hi[900],Hi[700],Hi[500],Hi[300],Hi[100]],[zi[900],zi[700],zi[500],zi[300],zi[100]],["#194D33",Ao[700],Ao[500],Ao[300],Ao[100]],[Ui[900],Ui[700],Ui[500],Ui[300],Ui[100]],[Wi[900],Wi[700],Wi[500],Wi[300],Wi[100]],[Xi[900],Xi[700],Xi[500],Xi[300],Xi[100]],[Yi[900],Yi[700],Yi[500],Yi[300],Yi[100]],[Gi[900],Gi[700],Gi[500],Gi[300],Gi[100]],[Vi[900],Vi[700],Vi[500],Vi[300],Vi[100]],[Ki[900],Ki[700],Ki[500],Ki[300],Ki[100]],[qi[900],qi[700],qi[500],qi[300],qi[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Nt(hp);var fp=function(t){var r=t.onChange,n=t.onSwatchHover,o=t.hex,p=t.colors,y=t.width,u=t.triangle,i=t.styles,h=i===void 0?{}:i,d=t.className,a=d===void 0?"":d,l=Te($t({default:{card:{width:y,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},h),{"hide-triangle":u==="hide","top-left-triangle":u==="top-left","top-right-triangle":u==="top-right"}),s=function(v,c){Wn(v)&&r({hex:v,source:"hex"},c)};return O.createElement("div",{style:l.card,className:"twitter-picker "+a},O.createElement("div",{style:l.triangleShadow}),O.createElement("div",{style:l.triangle}),O.createElement("div",{style:l.body},Oi(p,function(f,v){return O.createElement(Ei,{key:v,color:f,hex:f,style:l.swatch,onClick:s,onHover:n,focusStyle:{boxShadow:"0 0 4px "+f}})}),O.createElement("div",{style:l.hash},"#"),O.createElement(De,{label:null,style:{input:l.input},value:o.replace("#",""),onChange:s}),O.createElement("div",{style:l.clear})))};fp.propTypes={width:ce.oneOfType([ce.string,ce.number]),triangle:ce.oneOf(["hide","top-left","top-right"]),colors:ce.arrayOf(ce.string),styles:ce.object};fp.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Nt(fp);var dp=function(t){var r=Te({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(t.hsl.h)+", "+Math.round(t.hsl.s*100)+"%, "+Math.round(t.hsl.l*100)+"%)"}}});return O.createElement("div",{style:r.picker})};dp.propTypes={hsl:ce.shape({h:ce.number,s:ce.number,l:ce.number,a:ce.number})};dp.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var pp=function(t){var r=Te({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(t.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return O.createElement("div",{style:r.picker})};pp.propTypes={hsl:ce.shape({h:ce.number,s:ce.number,l:ce.number,a:ce.number})};pp.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var m8=function(t){var r=t.onChange,n=t.rgb,o=t.hsl,p=t.hex,y=t.hsv,u=function(s,f){if(s.hex)Wn(s.hex)&&r({hex:s.hex,source:"hex"},f);else if(s.rgb){var v=s.rgb.split(",");Yc(s.rgb,"rgb")&&r({r:v[0],g:v[1],b:v[2],a:1,source:"rgb"},f)}else if(s.hsv){var c=s.hsv.split(",");Yc(s.hsv,"hsv")&&(c[2]=c[2].replace("%",""),c[1]=c[1].replace("%",""),c[0]=c[0].replace("°",""),c[1]==1?c[1]=.01:c[2]==1&&(c[2]=.01),r({h:Number(c[0]),s:Number(c[1]),v:Number(c[2]),source:"hsv"},f))}else if(s.hsl){var g=s.hsl.split(",");Yc(s.hsl,"hsl")&&(g[2]=g[2].replace("%",""),g[1]=g[1].replace("%",""),g[0]=g[0].replace("°",""),a[1]==1?a[1]=.01:a[2]==1&&(a[2]=.01),r({h:Number(g[0]),s:Number(g[1]),v:Number(g[2]),source:"hsl"},f))}},i=Te({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),h=n.r+", "+n.g+", "+n.b,d=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.l*100)+"%",a=Math.round(y.h)+"°, "+Math.round(y.s*100)+"%, "+Math.round(y.v*100)+"%";return O.createElement("div",{style:i.wrap,className:"flexbox-fix"},O.createElement("div",{style:i.fields},O.createElement("div",{style:i.double},O.createElement(De,{style:{input:i.input,label:i.label},label:"hex",value:p,onChange:u})),O.createElement("div",{style:i.column},O.createElement("div",{style:i.single},O.createElement(De,{style:{input:i.input2,label:i.label2},label:"rgb",value:h,onChange:u})),O.createElement("div",{style:i.single},O.createElement(De,{style:{input:i.input2,label:i.label2},label:"hsv",value:a,onChange:u})),O.createElement("div",{style:i.single},O.createElement(De,{style:{input:i.input2,label:i.label2},label:"hsl",value:d,onChange:u})))))},gp=function(t){var r=t.width,n=t.onChange,o=t.rgb,p=t.hsl,y=t.hsv,u=t.hex,i=t.header,h=t.styles,d=h===void 0?{}:h,a=t.className,l=a===void 0?"":a,s=Te($t({default:{picker:{width:r,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+o.r+", "+o.g+", "+o.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},d));return O.createElement("div",{style:s.picker,className:"google-picker "+l},O.createElement("div",{style:s.head},i),O.createElement("div",{style:s.swatch}),O.createElement("div",{style:s.saturation},O.createElement(qu,{hsl:p,hsv:y,pointer:dp,onChange:n})),O.createElement("div",{style:s.body},O.createElement("div",{style:s.controls,className:"flexbox-fix"},O.createElement("div",{style:s.hue},O.createElement(ro,{style:s.Hue,hsl:p,radius:"4px",pointer:pp,onChange:n}))),O.createElement(m8,{rgb:o,hsl:p,hex:u,hsv:y,onChange:n})))};gp.propTypes={width:ce.oneOfType([ce.string,ce.number]),styles:ce.object,header:ce.string};gp.defaultProps={width:652,styles:{},header:"Color picker"};Nt(gp);const y8=({value:e,onChange:t,className:r})=>{const[n,o]=B.useState(!1),p=B.useRef(null),y=B.useCallback(i=>{i.stopPropagation(),o(h=>!h)},[]),u=B.useCallback(({hex:i})=>{t({target:{value:i}})},[t]);return B.useEffect(()=>{if(!n)return;const i=h=>{const d=h.target;(!p.current||!p.current.contains(d))&&o(!1)};return document.addEventListener("click",i),()=>{document.removeEventListener("click",i)}},[n]),F.jsxs("div",{className:r,children:[F.jsx("button",{className:"w-8 h-8 rounded border cursor-pointer block",onClick:y,style:{background:e||"#018877"}}),n&&F.jsx("div",{ref:p,className:"absolute right-0 translate-y-1",children:F.jsx(l8,{color:e||"#018877",onChangeComplete:u})})]})},b8=({property:e,selected:t,value:r,onChange:n,onChangeValue:o})=>{var u,i,h,d;const p=B.useCallback(a=>{const l=a.currentTarget.dataset.id;n(e.id,l)},[n,e.id]),y=B.useCallback(a=>{var f;const l=a.target.name||"color",s=((f=a.target)==null?void 0:f.value)||"";o(e.id,l,s)},[e.id,o]);return e.type===Wt.TEXT?F.jsxs("div",{className:"relative",children:[F.jsx("input",{name:"value",type:"text",placeholder:`Nhập ${(u=e.name)==null?void 0:u.toLowerCase()}..`,className:"input-main w-full pr-40 pl-3 py-3 transition-all border border-gray-200 rounded-md outline-blue-600/50 hover:border-blue-600/30 ",autoComplete:"off",value:(r==null?void 0:r.value)||"",onChange:y}),F.jsx("select",{name:"font",className:"absolute top-1/2 right-12 w-24 py-1 px-1 -translate-y-1/2 border border-gray-200 rounded-md outline-blue-600/50",onChange:y,value:(r==null?void 0:r.font)||"Arial",children:["Arial","Time New Roman"].map(a=>F.jsx("option",{children:a},a))}),F.jsx(y8,{value:r==null?void 0:r.color,onChange:y,className:"absolute top-1/2 right-2 -translate-y-1/2"})]}):e.type===Wt.COLOR?F.jsx("div",{className:"flex flex-wrap",children:(i=e.options)==null?void 0:i.map(a=>F.jsxs("div",{"data-id":a.id,onClick:p,style:a.color?{background:a.color,color:RT(a.color)}:void 0,className:ya("flex px-3 py-1 mr-2 flex-col justify-end items-center rounded border-2 cursor-pointer",!t&&a.default||t===a.id+""?"border-blue-500":""),children:[a.name,F.jsx("div",{children:a.color})]},a.id))}):e.type===Wt.IMAGE?F.jsx("div",{className:"grid grid-cols-3 gap-2",children:(h=e.options)==null?void 0:h.map(a=>F.jsxs("div",{"data-id":a.id,onClick:p,className:ya("flex flex-col justify-end items-center rounded border-2 cursor-pointer",!t&&a.default||t===a.id+""?"border-blue-500":""),children:[F.jsx("img",{src:a.src,className:"max-w-[100%] max-h-48"}),a.name]},a.id))}):F.jsx("div",{className:"flex flex-wrap",children:(d=e.options)==null?void 0:d.map(a=>F.jsx("div",{"data-id":a.id,onClick:p,className:ya("rounded border-2 cursor-pointer border-gray-300 mr-1 mt-1 px-2 py-1",!t&&a.default||t===a.id+""?"!border-blue-500":""),children:a.name},a.id))})};var lx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Bm=O.createContext&&O.createContext(lx),Rn=function(){return Rn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Rn.apply(this,arguments)},x8=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};function ux(e){return e&&e.map(function(t,r){return O.createElement(t.tag,Rn({key:r},t.attr),ux(t.child))})}function cx(e){return function(t){return O.createElement(w8,Rn({attr:Rn({},e.attr)},t),ux(e.child))}}function w8(e){var t=function(r){var n=e.attr,o=e.size,p=e.title,y=x8(e,["attr","size","title"]),u=o||r.size||"1em",i;return r.className&&(i=r.className),e.className&&(i=(i?i+" ":"")+e.className),O.createElement("svg",Rn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,y,{className:i,style:Rn(Rn({color:e.color||r.color},r.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),p&&O.createElement("title",null,p),e.children)};return Bm!==void 0?O.createElement(Bm.Consumer,null,function(r){return t(r)}):t(lx)}function _8(e){return cx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144m224 0L144 368"}}]})(e)}function S8(e){return cx({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M262.29 192.31a64 64 0 1057.4 57.4 64.13 64.13 0 00-57.4-57.4zM416.39 256a154.34 154.34 0 01-1.53 20.79l45.21 35.46a10.81 10.81 0 012.45 13.75l-42.77 74a10.81 10.81 0 01-13.14 4.59l-44.9-18.08a16.11 16.11 0 00-15.17 1.75A164.48 164.48 0 01325 400.8a15.94 15.94 0 00-8.82 12.14l-6.73 47.89a11.08 11.08 0 01-10.68 9.17h-85.54a11.11 11.11 0 01-10.69-8.87l-6.72-47.82a16.07 16.07 0 00-9-12.22 155.3 155.3 0 01-21.46-12.57 16 16 0 00-15.11-1.71l-44.89 18.07a10.81 10.81 0 01-13.14-4.58l-42.77-74a10.8 10.8 0 012.45-13.75l38.21-30a16.05 16.05 0 006-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 00-6.07-13.94l-38.19-30A10.81 10.81 0 0149.48 186l42.77-74a10.81 10.81 0 0113.14-4.59l44.9 18.08a16.11 16.11 0 0015.17-1.75A164.48 164.48 0 01187 111.2a15.94 15.94 0 008.82-12.14l6.73-47.89A11.08 11.08 0 01213.23 42h85.54a11.11 11.11 0 0110.69 8.87l6.72 47.82a16.07 16.07 0 009 12.22 155.3 155.3 0 0121.46 12.57 16 16 0 0015.11 1.71l44.89-18.07a10.81 10.81 0 0113.14 4.58l42.77 74a10.8 10.8 0 01-2.45 13.75l-38.21 30a16.05 16.05 0 00-6.05 14.08c.33 4.14.55 8.3.55 12.47z"}}]})(e)}const C8=({children:e})=>Du.createPortal(e,document.body),Hm="ELMICH_OBJECT_SELECTED";function T8(){const[e,t]=B.useState({}),r=B.useRef(!1);return B.useEffect(()=>{if(r.current)localStorage.setItem(Hm,JSON.stringify(e));else{r.current=!0;try{const n=localStorage.getItem(Hm);n&&t(JSON.parse(n))}catch{console.error("Failed to parse ELMICH_OBJECT_SELECTED")}}},[e]),[e,t]}const zm={id:"total",name:"Tổng quan",src:"/images/pan.png",properties:[{id:1e3,type:Wt.TEXT,name:"Tên nhãn hiệu"},{id:1001,type:Wt.TEXT,name:"Ghi chú"},{id:6,name:"Kích thước",options:[{id:18,name:"18cm",default:!0},{id:19,name:"20cm"},{id:20,name:"24cm"},{id:21,name:"26cm"},{id:22,name:"28cm"}]}]},E8=({parts:e})=>{const[t,r]=A1(),[n,o]=T8(),[p,y]=B.useState(!1),u=B.useCallback(()=>y(l=>!l),[]),i=B.useCallback((l,s,f)=>{o(v=>{const c=v[l]?{...v[l],[s]:f}:{color:"",value:"",font:"Arial",[s]:f};return{...v,[l]:c}})},[]),h=B.useMemo(()=>{const l=t.get("part");return l==="total"||!l?zm:e.find(f=>f.id===+l)||e[0]},[t,e]),d=B.useCallback(l=>{const s=l.currentTarget.dataset.id;t.set("part",s),r(t)},[t]),a=B.useCallback((l,s)=>{t.set(l+"",s),r(t)},[t]);return B.useEffect(()=>{document.body.style.overflow=p?"hidden":""},[p]),F.jsxs("div",{className:"max-w-[calc(100vw-20px)]",children:[F.jsx(C8,{children:F.jsx("button",{onClick:u,className:ya("absolute md:scale-0 bottom-4 left-2 bg-white rounded-full z-[1050] text-3xl p-3 shadow-lg transition-all",p?"rotate-90":""),children:F.jsx(S8,{})})}),F.jsxs("div",{className:ya("bg-[rgba(255,255,255,0.9)] shadow-md rounded-lg left-2 flex overflow-hidden selector-sidebar max-w-[560px]",p?"open":""),children:[F.jsx("ul",{className:"space-y-1 p-2",children:[...e,zm].map(l=>F.jsxs("li",{"data-id":l.id,onClick:d,className:ya("w-16 md:w-24 h-16 md:h-24 text-xs md:text-base rounded hover:bg-gray-50 cursor-pointer flex items-center justify-center flex-col",h.id===l.id?"!bg-gray-200":""),children:[l.src?F.jsx("img",{className:"max-w-[60%]",width:60,height:60,src:l.src}):null,l.name]},l.id))}),F.jsxs("div",{className:"selector-sidebar-container",children:[F.jsx("button",{className:"absolute top-1 z-10 right-1 text-3xl p-2 md:hidden bg-gray-100 rounded-full",onClick:u,children:F.jsx(_8,{})}),F.jsx(AT,{className:"max-h-[calc(100vh-76px)] p-2 w-[calc(100vw-84px)] sm:w-auto",children:h.properties.length?F.jsx("ul",{className:"space-y-2",children:h.properties.map(l=>F.jsxs("li",{children:[l.name,F.jsx(b8,{property:l,selected:t.get(l.id+""),value:n[l.id],onChange:a,onChangeValue:i})]},l.id))}):F.jsxs("div",{className:"bg-yellow-50 p-2 text-yellow-600 border border-yellow-600 rounded",children:['Đang cập nhật demo cho "',h.name,'"']})})]})]})]})},O8=()=>({id:1,name:"Nồi Elmich",parts:[{id:1,name:"Thân",src:"/images/type1-body.png",images:{"1=1":"/2d/than-1.png","1=2&2=5":"/2d/than-2.png","1=26&2=5":"/2d/than-3.png","1=1&2=6":"/2d/type1-body-yellow.png","1=2&2=6":"/2d/type2-body-yellow.png","1=1&2=7":"/2d/type1-body-blue.png","1=2&2=7":"/2d/type2-body-blue.png"},properties:[{id:1,name:"Kiểu dáng",type:Wt.IMAGE,options:[{id:1,name:"Màu xanh lá",src:"/2d/than-1.png",default:!0}]}]},{id:3,name:"Quai",images:{"1001=1001&1005=1015":"/2d/quai-1.png","1001=1001&1005=1016":"/2d/quai-1-blue.png","1001=1002&1005=1015":"/2d/quai-2.png","1001=1002&1005=1016":"/2d/quai-2-blue.png","1001=1003&1005=1015":"/2d/quai-3.png","1001=1003&1005=1016":"/2d/quai-3-blue.png","1001=1003&1005=1017":"/2d/quai-3-yellow.png","1=1&2=6":"/2d/type1-body-yellow.png","1=2&2=6":"/2d/type2-body-yellow.png","1=1&2=7":"/2d/type1-body-blue.png","1=2&2=7":"/2d/type2-body-blue.png"},properties:[{id:1001,name:"Kiểu 1",type:Wt.IMAGE,options:[{id:1001,name:"Kiểu 1",src:"/2d/quai-1.png",default:!0},{id:1002,name:"Kiểu 2",src:"/2d/quai-2.png"},{id:1003,name:"Kiểu 3",src:"/2d/quai-3.png"}]},{id:1005,name:"Màu sắc",type:Wt.COLOR,options:[{id:1015,name:"Xanh lá",color:"#CFFDD1",default:!0},{id:1016,name:"Xanh dương",color:"#C8E3F7"},{id:1017,name:"Vàng",color:"#F7F0D5"}]}]},{id:4,name:"Vung",src:"/images/type1-default.png",properties:[{id:4,name:"Kiểu dáng",type:Wt.IMAGE,options:[{id:13,name:"Kiểu 1",src:"/2d/vung-1.png",default:!0},{id:14,name:"Kiểu 2",src:"/2d/vung-2.png"},{id:25,name:"Kiểu 3",src:"/2d/vung-3.png"}]},{id:5,name:"Màu sắc",type:Wt.COLOR,options:[{id:1015,name:"Xanh lá",color:"#CFFDD1",default:!0},{id:1016,name:"Xanh dương",color:"#C8E3F7"},{id:1017,name:"Vàng",color:"#F7F0D5"}]}],images:{"4=13&5=1015":"/2d/vung-1.png","4=13&5=1016":"/2d/vung-1-blue.png","4=14&5=1015":"/2d/vung-2-summary.png","4=14&5=1016":"/2d/vung-3.png","4=25&5=1015":"/2d/vung-3.png","4=25&5=1017":"/2d/vung-3-yellow.png","4=13&5=17":"/images/type1-blue.png","4=14&5=17":"/images/type2-blue.png"}}]});var _f={};const P8={},k8=Object.freeze(Object.defineProperty({__proto__:null,default:P8},Symbol.toStringTag,{value:"Module"})),Vc=Zm(k8);(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.3.0"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var r=Vc,n=new r.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=n.document,t.jsdomImplForWrapper=Vc.implForWrapper,t.nodeCanvas=Vc.Canvas,t.window=n,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function u(s,f){if(this.__eventListeners[s]){var v=this.__eventListeners[s];f?v[v.indexOf(f)]=!1:t.util.array.fill(v,!1)}}function i(s,f){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var v in s)this.on(v,s[v]);else this.__eventListeners[s]||(this.__eventListeners[s]=[]),this.__eventListeners[s].push(f);return this}function h(s,f){var v=(function(){f.apply(this,arguments),this.off(s,v)}).bind(this);this.on(s,v)}function d(s,f){if(arguments.length===1)for(var v in s)h.call(this,v,s[v]);else h.call(this,s,f);return this}function a(s,f){if(!this.__eventListeners)return this;if(arguments.length===0)for(s in this.__eventListeners)u.call(this,s);else if(arguments.length===1&&typeof arguments[0]=="object")for(var v in s)u.call(this,v,s[v]);else u.call(this,s,f);return this}function l(s,f){if(!this.__eventListeners)return this;var v=this.__eventListeners[s];if(!v)return this;for(var c=0,g=v.length;c<g;c++)v[c]&&v[c].call(this,f||{});return this.__eventListeners[s]=v.filter(function(m){return m!==!1}),this}t.Observable={fire:l,on:i,once:d,off:a}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var u=0,i=arguments.length;u<i;u++)this._onObjectAdded(arguments[u]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(u,i,h){var d=this._objects;return h?d[i]=u:d.splice(i,0,u),this._onObjectAdded&&this._onObjectAdded(u),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var u=this._objects,i,h=!1,d=0,a=arguments.length;d<a;d++)i=u.indexOf(arguments[d]),i!==-1&&(h=!0,u.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[d]));return this.renderOnAddRemove&&h&&this.requestRenderAll(),this},forEachObject:function(u,i){for(var h=this.getObjects(),d=0,a=h.length;d<a;d++)u.call(i,h[d],d,h);return this},getObjects:function(u){return typeof u>"u"?this._objects.concat():this._objects.filter(function(i){return i.type===u})},item:function(u){return this._objects[u]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(u,i){return this._objects.indexOf(u)>-1?!0:i?this._objects.some(function(h){return typeof h.contains=="function"&&h.contains(u,!0)}):!1},complexity:function(){return this._objects.reduce(function(u,i){return u+=i.complexity?i.complexity():0,u},0)}},t.CommonMethods={_setOptions:function(u){for(var i in u)this.set(i,u[i])},_initGradient:function(u,i){u&&u.colorStops&&!(u instanceof t.Gradient)&&this.set(i,new t.Gradient(u))},_initPattern:function(u,i,h){u&&u.source&&!(u instanceof t.Pattern)?this.set(i,new t.Pattern(u,h)):h&&h()},_setObject:function(u){for(var i in u)this._set(i,u[i])},set:function(u,i){return typeof u=="object"?this._setObject(u):this._set(u,i),this},_set:function(u,i){this[u]=i},toggle:function(u){var i=this.get(u);return typeof i=="boolean"&&this.set(u,!i),this},get:function(u){return this[u]}},function(u){var i=Math.sqrt,h=Math.atan2,d=Math.pow,a=Math.PI/180,l=Math.PI/2;t.util={cos:function(s){if(s===0)return 1;s<0&&(s=-s);var f=s/l;switch(f){case 1:case 3:return 0;case 2:return-1}return Math.cos(s)},sin:function(s){if(s===0)return 0;var f=s/l,v=1;switch(s<0&&(v=-1),f){case 1:return v;case 2:return 0;case 3:return-v}return Math.sin(s)},removeFromArray:function(s,f){var v=s.indexOf(f);return v!==-1&&s.splice(v,1),s},getRandomInt:function(s,f){return Math.floor(Math.random()*(f-s+1))+s},degreesToRadians:function(s){return s*a},radiansToDegrees:function(s){return s/a},rotatePoint:function(s,f,v){var c=new t.Point(s.x-f.x,s.y-f.y),g=t.util.rotateVector(c,v);return new t.Point(g.x,g.y).addEquals(f)},rotateVector:function(s,f){var v=t.util.sin(f),c=t.util.cos(f),g=s.x*c-s.y*v,m=s.x*v+s.y*c;return{x:g,y:m}},createVector:function(s,f){return new t.Point(f.x-s.x,f.y-s.y)},calcAngleBetweenVectors:function(s,f){return Math.acos((s.x*f.x+s.y*f.y)/(Math.hypot(s.x,s.y)*Math.hypot(f.x,f.y)))},getHatVector:function(s){return new t.Point(s.x,s.y).multiply(1/Math.hypot(s.x,s.y))},getBisector:function(s,f,v){var c=t.util.createVector(s,f),g=t.util.createVector(s,v),m=t.util.calcAngleBetweenVectors(c,g),b=t.util.calcAngleBetweenVectors(t.util.rotateVector(c,m),g),x=m*(b===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(c,x)),angle:m}},projectStrokeOnPoints:function(s,f,v){var c=[],g=f.strokeWidth/2,m=f.strokeUniform?new t.Point(1/f.scaleX,1/f.scaleY):new t.Point(1,1),b=function(x){var w=g/Math.hypot(x.x,x.y);return new t.Point(x.x*w*m.x,x.y*w*m.y)};return s.length<=1||s.forEach(function(x,w){var _=new t.Point(x.x,x.y),S,E;w===0?(E=s[w+1],S=v?b(t.util.createVector(E,_)).addEquals(_):s[s.length-1]):w===s.length-1?(S=s[w-1],E=v?b(t.util.createVector(S,_)).addEquals(_):s[0]):(S=s[w-1],E=s[w+1]);var R=t.util.getBisector(_,S,E),N=R.vector,K=R.angle,re,ie;if(f.strokeLineJoin==="miter"&&(re=-g/Math.sin(K/2),ie=new t.Point(N.x*re*m.x,N.y*re*m.y),Math.hypot(ie.x,ie.y)/g<=f.strokeMiterLimit)){c.push(_.add(ie)),c.push(_.subtract(ie));return}re=-g*Math.SQRT2,ie=new t.Point(N.x*re*m.x,N.y*re*m.y),c.push(_.add(ie)),c.push(_.subtract(ie))}),c},transformPoint:function(s,f,v){return v?new t.Point(f[0]*s.x+f[2]*s.y,f[1]*s.x+f[3]*s.y):new t.Point(f[0]*s.x+f[2]*s.y+f[4],f[1]*s.x+f[3]*s.y+f[5])},makeBoundingBoxFromPoints:function(s,f){if(f)for(var v=0;v<s.length;v++)s[v]=t.util.transformPoint(s[v],f);var c=[s[0].x,s[1].x,s[2].x,s[3].x],g=t.util.array.min(c),m=t.util.array.max(c),b=m-g,x=[s[0].y,s[1].y,s[2].y,s[3].y],w=t.util.array.min(x),_=t.util.array.max(x),S=_-w;return{left:g,top:w,width:b,height:S}},invertTransform:function(s){var f=1/(s[0]*s[3]-s[1]*s[2]),v=[f*s[3],-f*s[1],-f*s[2],f*s[0]],c=t.util.transformPoint({x:s[4],y:s[5]},v,!0);return v[4]=-c.x,v[5]=-c.y,v},toFixed:function(s,f){return parseFloat(Number(s).toFixed(f))},parseUnit:function(s,f){var v=/\D{0,2}$/.exec(s),c=parseFloat(s);switch(f||(f=t.Text.DEFAULT_SVG_FONT_SIZE),v[0]){case"mm":return c*t.DPI/25.4;case"cm":return c*t.DPI/2.54;case"in":return c*t.DPI;case"pt":return c*t.DPI/72;case"pc":return c*t.DPI/72*12;case"em":return c*f;default:return c}},falseFunction:function(){return!1},getKlass:function(s,f){return s=t.util.string.camelize(s.charAt(0).toUpperCase()+s.slice(1)),t.util.resolveNamespace(f)[s]},getSvgAttributes:function(s){var f=["instantiated_by_use","style","id","class"];switch(s){case"linearGradient":f=f.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":f=f.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":f=f.concat(["offset","stop-color","stop-opacity"]);break}return f},resolveNamespace:function(s){if(!s)return t;var f=s.split("."),v=f.length,c,g=u||t.window;for(c=0;c<v;++c)g=g[f[c]];return g},loadImage:function(s,f,v,c){if(!s){f&&f.call(v,s);return}var g=t.util.createImage(),m=function(){f&&f.call(v,g,!1),g=g.onload=g.onerror=null};g.onload=m,g.onerror=function(){t.log("Error loading "+g.src),f&&f.call(v,null,!0),g=g.onload=g.onerror=null},s.indexOf("data")!==0&&c!==void 0&&c!==null&&(g.crossOrigin=c),s.substring(0,14)==="data:image/svg"&&(g.onload=null,t.util.loadImageInDom(g,m)),g.src=s},loadImageInDom:function(s,f){var v=t.document.createElement("div");v.style.width=v.style.height="1px",v.style.left=v.style.top="-100%",v.style.position="absolute",v.appendChild(s),t.document.querySelector("body").appendChild(v),s.onload=function(){f(),v.parentNode.removeChild(v),v=null}},enlivenObjects:function(s,f,v,c){s=s||[];var g=[],m=0,b=s.length;function x(){++m===b&&f&&f(g.filter(function(w){return w}))}if(!b){f&&f(g);return}s.forEach(function(w,_){if(!w||!w.type){x();return}var S=t.util.getKlass(w.type,v);S.fromObject(w,function(E,R){R||(g[_]=E),c&&c(w,E,R),x()})})},enlivenObjectEnlivables:function(s,f,v){var c=t.Object.ENLIVEN_PROPS.filter(function(g){return!!s[g]});t.util.enlivenObjects(c.map(function(g){return s[g]}),function(g){var m={};c.forEach(function(b,x){m[b]=g[x],f&&(f[b]=g[x])}),v&&v(m)})},enlivenPatterns:function(s,f){s=s||[];function v(){++g===m&&f&&f(c)}var c=[],g=0,m=s.length;if(!m){f&&f(c);return}s.forEach(function(b,x){b&&b.source?new t.Pattern(b,function(w){c[x]=w,v()}):(c[x]=b,v())})},groupSVGElements:function(s,f,v){var c;return s&&s.length===1?(typeof v<"u"&&(s[0].sourcePath=v),s[0]):(f&&(f.width&&f.height?f.centerPoint={x:f.width/2,y:f.height/2}:(delete f.width,delete f.height)),c=new t.Group(s,f),typeof v<"u"&&(c.sourcePath=v),c)},populateWithProperties:function(s,f,v){if(v&&Array.isArray(v))for(var c=0,g=v.length;c<g;c++)v[c]in s&&(f[v[c]]=s[v[c]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(s){var f=t.util.createCanvasElement();return f.width=s.width,f.height=s.height,f.getContext("2d").drawImage(s,0,0),f},toDataURL:function(s,f,v){return s.toDataURL("image/"+f,v)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(s,f,v){return[s[0]*f[0]+s[2]*f[1],s[1]*f[0]+s[3]*f[1],s[0]*f[2]+s[2]*f[3],s[1]*f[2]+s[3]*f[3],v?0:s[0]*f[4]+s[2]*f[5]+s[4],v?0:s[1]*f[4]+s[3]*f[5]+s[5]]},qrDecompose:function(s){var f=h(s[1],s[0]),v=d(s[0],2)+d(s[1],2),c=i(v),g=(s[0]*s[3]-s[2]*s[1])/c,m=h(s[0]*s[2]+s[1]*s[3],v);return{angle:f/a,scaleX:c,scaleY:g,skewX:m/a,skewY:0,translateX:s[4],translateY:s[5]}},calcRotateMatrix:function(s){if(!s.angle)return t.iMatrix.concat();var f=t.util.degreesToRadians(s.angle),v=t.util.cos(f),c=t.util.sin(f);return[v,c,-c,v,0,0]},calcDimensionsMatrix:function(s){var f=typeof s.scaleX>"u"?1:s.scaleX,v=typeof s.scaleY>"u"?1:s.scaleY,c=[s.flipX?-f:f,0,0,s.flipY?-v:v,0,0],g=t.util.multiplyTransformMatrices,m=t.util.degreesToRadians;return s.skewX&&(c=g(c,[1,0,Math.tan(m(s.skewX)),1],!0)),s.skewY&&(c=g(c,[1,Math.tan(m(s.skewY)),0,1],!0)),c},composeMatrix:function(s){var f=[1,0,0,1,s.translateX||0,s.translateY||0],v=t.util.multiplyTransformMatrices;return s.angle&&(f=v(f,t.util.calcRotateMatrix(s))),(s.scaleX!==1||s.scaleY!==1||s.skewX||s.skewY||s.flipX||s.flipY)&&(f=v(f,t.util.calcDimensionsMatrix(s))),f},resetObjectTransform:function(s){s.scaleX=1,s.scaleY=1,s.skewX=0,s.skewY=0,s.flipX=!1,s.flipY=!1,s.rotate(0)},saveObjectTransform:function(s){return{scaleX:s.scaleX,scaleY:s.scaleY,skewX:s.skewX,skewY:s.skewY,angle:s.angle,left:s.left,flipX:s.flipX,flipY:s.flipY,top:s.top}},isTransparent:function(s,f,v,c){c>0&&(f>c?f-=c:f=0,v>c?v-=c:v=0);var g=!0,m,b,x=s.getImageData(f,v,c*2||1,c*2||1),w=x.data.length;for(m=3;m<w&&(b=x.data[m],g=b<=0,g!==!1);m+=4);return x=null,g},parsePreserveAspectRatioAttribute:function(s){var f="meet",v="Mid",c="Mid",g=s.split(" "),m;return g&&g.length&&(f=g.pop(),f!=="meet"&&f!=="slice"?(m=f,f="meet"):g.length&&(m=g.pop())),v=m!=="none"?m.slice(1,4):"none",c=m!=="none"?m.slice(5,8):"none",{meetOrSlice:f,alignX:v,alignY:c}},clearFabricFontCache:function(s){s=(s||"").toLowerCase(),s?t.charWidthsCache[s]&&delete t.charWidthsCache[s]:t.charWidthsCache={}},limitDimsByArea:function(s,f){var v=Math.sqrt(f*s),c=Math.floor(f/v);return{x:Math.floor(v),y:c}},capValue:function(s,f,v){return Math.max(s,Math.min(f,v))},findScaleToFit:function(s,f){return Math.min(f.width/s.width,f.height/s.height)},findScaleToCover:function(s,f){return Math.max(f.width/s.width,f.height/s.height)},matrixToSVG:function(s){return"matrix("+s.map(function(f){return t.util.toFixed(f,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(s,f){var v=t.util.invertTransform(f),c=t.util.multiplyTransformMatrices(v,s.calcOwnMatrix());t.util.applyTransformToObject(s,c)},addTransformToObject:function(s,f){t.util.applyTransformToObject(s,t.util.multiplyTransformMatrices(f,s.calcOwnMatrix()))},applyTransformToObject:function(s,f){var v=t.util.qrDecompose(f),c=new t.Point(v.translateX,v.translateY);s.flipX=!1,s.flipY=!1,s.set("scaleX",v.scaleX),s.set("scaleY",v.scaleY),s.skewX=v.skewX,s.skewY=v.skewY,s.angle=v.angle,s.setPositionByOrigin(c,"center","center")},sizeAfterTransform:function(s,f,v){var c=s/2,g=f/2,m=[{x:-c,y:-g},{x:c,y:-g},{x:-c,y:g},{x:c,y:g}],b=t.util.calcDimensionsMatrix(v),x=t.util.makeBoundingBoxFromPoints(m,b);return{x:x.width,y:x.height}},mergeClipPaths:function(s,f){var v=s,c=f;v.inverted&&!c.inverted&&(v=f,c=s),t.util.applyTransformToObject(c,t.util.multiplyTransformMatrices(t.util.invertTransform(v.calcTransformMatrix()),c.calcTransformMatrix()));var g=v.inverted&&c.inverted;return g&&(v.inverted=c.inverted=!1),new t.Group([v],{clipPath:c,inverted:g})},hasStyleChanged:function(s,f,v){return v=v||!1,s.fill!==f.fill||s.stroke!==f.stroke||s.strokeWidth!==f.strokeWidth||s.fontSize!==f.fontSize||s.fontFamily!==f.fontFamily||s.fontWeight!==f.fontWeight||s.fontStyle!==f.fontStyle||s.textBackgroundColor!==f.textBackgroundColor||s.deltaY!==f.deltaY||v&&(s.overline!==f.overline||s.underline!==f.underline||s.linethrough!==f.linethrough)},stylesToArray:function(v,f){for(var v=t.util.object.clone(v,!0),c=f.split(`
`),g=-1,m={},b=[],x=0;x<c.length;x++){if(!v[x]){g+=c[x].length;continue}for(var w=0;w<c[x].length;w++){g++;var _=v[x][w];if(_&&Object.keys(_).length>0){var S=t.util.hasStyleChanged(m,_,!0);S?b.push({start:g,end:g+1,style:_}):b[b.length-1].end++}m=_||{}}}return b},stylesFromArray:function(s,f){if(!Array.isArray(s))return s;for(var v=f.split(`
`),c=-1,g=0,m={},b=0;b<v.length;b++)for(var x=0;x<v[b].length;x++)c++,s[g]&&s[g].start<=c&&c<s[g].end&&(m[b]=m[b]||{},m[b][x]=Object.assign({},s[g].style),c===s[g].end-1&&g++);return m}}}(e),function(){var u=Array.prototype.join,i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h={m:"l",M:"L"};function d(C,P,A,M,H,k,T,D,j,G,U){var Z=t.util.cos(C),ee=t.util.sin(C),se=t.util.cos(P),W=t.util.sin(P),$=A*H*se-M*k*W+T,V=M*H*se+A*k*W+D,J=G+j*(-A*H*ee-M*k*Z),X=U+j*(-M*H*ee+A*k*Z),te=$+j*(A*H*W+M*k*se),ue=V+j*(M*H*W-A*k*se);return["C",J,X,te,ue,$,V]}function a(C,P,A,M,H,k,T){var D=Math.PI,j=T*D/180,G=t.util.sin(j),U=t.util.cos(j),Z=0,ee=0;A=Math.abs(A),M=Math.abs(M);var se=-U*C*.5-G*P*.5,W=-U*P*.5+G*C*.5,$=A*A,V=M*M,J=W*W,X=se*se,te=$*V-$*J-V*X,ue=0;if(te<0){var Se=Math.sqrt(1-te/($*V));A*=Se,M*=Se}else ue=(H===k?-1:1)*Math.sqrt(te/($*J+V*X));var ge=ue*A*W/M,q=-ue*M*se/A,me=U*ge-G*q+C*.5,we=G*ge+U*q+P*.5,Ee=l(1,0,(se-ge)/A,(W-q)/M),$e=l((se-ge)/A,(W-q)/M,(-se-ge)/A,(-W-q)/M);k===0&&$e>0?$e-=2*D:k===1&&$e<0&&($e+=2*D);for(var Fe=Math.ceil(Math.abs($e/D*2)),vt=[],je=$e/Fe,Er=8/3*Math.sin(je/4)*Math.sin(je/4)/Math.sin(je/2),an=Ee+je,Bt=0;Bt<Fe;Bt++)vt[Bt]=d(Ee,an,U,G,A,M,me,we,Er,Z,ee),Z=vt[Bt][5],ee=vt[Bt][6],Ee=an,an+=je;return vt}function l(C,P,A,M){var H=Math.atan2(P,C),k=Math.atan2(M,A);return k>=H?k-H:2*Math.PI-(H-k)}function s(C,P,A,M,H,k,T,D){var j;if(t.cachesBoundsOfCurve&&(j=u.call(arguments),t.boundsOfCurveCache[j]))return t.boundsOfCurveCache[j];var G=Math.sqrt,U=Math.min,Z=Math.max,ee=Math.abs,se=[],W=[[],[]],$,V,J,X,te,ue,Se,ge;V=6*C-12*A+6*H,$=-3*C+9*A-9*H+3*T,J=3*A-3*C;for(var q=0;q<2;++q){if(q>0&&(V=6*P-12*M+6*k,$=-3*P+9*M-9*k+3*D,J=3*M-3*P),ee($)<1e-12){if(ee(V)<1e-12)continue;X=-J/V,0<X&&X<1&&se.push(X);continue}Se=V*V-4*J*$,!(Se<0)&&(ge=G(Se),te=(-V+ge)/(2*$),0<te&&te<1&&se.push(te),ue=(-V-ge)/(2*$),0<ue&&ue<1&&se.push(ue))}for(var me,we,Ee=se.length,$e=Ee,Fe;Ee--;)X=se[Ee],Fe=1-X,me=Fe*Fe*Fe*C+3*Fe*Fe*X*A+3*Fe*X*X*H+X*X*X*T,W[0][Ee]=me,we=Fe*Fe*Fe*P+3*Fe*Fe*X*M+3*Fe*X*X*k+X*X*X*D,W[1][Ee]=we;W[0][$e]=C,W[1][$e]=P,W[0][$e+1]=T,W[1][$e+1]=D;var vt=[{x:U.apply(null,W[0]),y:U.apply(null,W[1])},{x:Z.apply(null,W[0]),y:Z.apply(null,W[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[j]=vt),vt}function f(C,P,A){for(var M=A[1],H=A[2],k=A[3],T=A[4],D=A[5],j=A[6],G=A[7],U=a(j-C,G-P,M,H,T,D,k),Z=0,ee=U.length;Z<ee;Z++)U[Z][1]+=C,U[Z][2]+=P,U[Z][3]+=C,U[Z][4]+=P,U[Z][5]+=C,U[Z][6]+=P;return U}function v(C){var P=0,A=0,M=C.length,H=0,k=0,T,D,j,G=[],U,Z,ee;for(D=0;D<M;++D){switch(j=!1,T=C[D].slice(0),T[0]){case"l":T[0]="L",T[1]+=P,T[2]+=A;case"L":P=T[1],A=T[2];break;case"h":T[1]+=P;case"H":T[0]="L",T[2]=A,P=T[1];break;case"v":T[1]+=A;case"V":T[0]="L",A=T[1],T[1]=P,T[2]=A;break;case"m":T[0]="M",T[1]+=P,T[2]+=A;case"M":P=T[1],A=T[2],H=T[1],k=T[2];break;case"c":T[0]="C",T[1]+=P,T[2]+=A,T[3]+=P,T[4]+=A,T[5]+=P,T[6]+=A;case"C":Z=T[3],ee=T[4],P=T[5],A=T[6];break;case"s":T[0]="S",T[1]+=P,T[2]+=A,T[3]+=P,T[4]+=A;case"S":U==="C"?(Z=2*P-Z,ee=2*A-ee):(Z=P,ee=A),P=T[3],A=T[4],T[0]="C",T[5]=T[3],T[6]=T[4],T[3]=T[1],T[4]=T[2],T[1]=Z,T[2]=ee,Z=T[3],ee=T[4];break;case"q":T[0]="Q",T[1]+=P,T[2]+=A,T[3]+=P,T[4]+=A;case"Q":Z=T[1],ee=T[2],P=T[3],A=T[4];break;case"t":T[0]="T",T[1]+=P,T[2]+=A;case"T":U==="Q"?(Z=2*P-Z,ee=2*A-ee):(Z=P,ee=A),T[0]="Q",P=T[1],A=T[2],T[1]=Z,T[2]=ee,T[3]=P,T[4]=A;break;case"a":T[0]="A",T[6]+=P,T[7]+=A;case"A":j=!0,G=G.concat(f(P,A,T)),P=T[6],A=T[7];break;case"z":case"Z":P=H,A=k;break}j||G.push(T),U=T[0]}return G}function c(C,P,A,M){return Math.sqrt((A-C)*(A-C)+(M-P)*(M-P))}function g(C){return C*C*C}function m(C){return 3*C*C*(1-C)}function b(C){return 3*C*(1-C)*(1-C)}function x(C){return(1-C)*(1-C)*(1-C)}function w(C,P,A,M,H,k,T,D){return function(j){var G=g(j),U=m(j),Z=b(j),ee=x(j);return{x:T*G+H*U+A*Z+C*ee,y:D*G+k*U+M*Z+P*ee}}}function _(C,P,A,M,H,k,T,D){return function(j){var G=1-j,U=3*G*G*(A-C)+6*G*j*(H-A)+3*j*j*(T-H),Z=3*G*G*(M-P)+6*G*j*(k-M)+3*j*j*(D-k);return Math.atan2(Z,U)}}function S(C){return C*C}function E(C){return 2*C*(1-C)}function R(C){return(1-C)*(1-C)}function N(C,P,A,M,H,k){return function(T){var D=S(T),j=E(T),G=R(T);return{x:H*D+A*j+C*G,y:k*D+M*j+P*G}}}function K(C,P,A,M,H,k){return function(T){var D=1-T,j=2*D*(A-C)+2*T*(H-A),G=2*D*(M-P)+2*T*(k-M);return Math.atan2(G,j)}}function re(C,P,A){var M={x:P,y:A},H,k=0,T;for(T=1;T<=100;T+=1)H=C(T/100),k+=c(M.x,M.y,H.x,H.y),M=H;return k}function ie(C,P){for(var A=0,M=0,H=C.iterator,k={x:C.x,y:C.y},T,D,j=.01,G=C.angleFinder,U;M<P&&j>1e-4;)T=H(A),U=A,D=c(k.x,k.y,T.x,T.y),D+M>P?(A-=j,j/=2):(k=T,A+=j,M+=D);return T.angle=G(U),T}function ne(C){for(var P=0,A=C.length,M,H=0,k=0,T=0,D=0,j=[],G,U,Z,ee=0;ee<A;ee++){switch(M=C[ee],U={x:H,y:k,command:M[0]},M[0]){case"M":U.length=0,T=H=M[1],D=k=M[2];break;case"L":U.length=c(H,k,M[1],M[2]),H=M[1],k=M[2];break;case"C":G=w(H,k,M[1],M[2],M[3],M[4],M[5],M[6]),Z=_(H,k,M[1],M[2],M[3],M[4],M[5],M[6]),U.iterator=G,U.angleFinder=Z,U.length=re(G,H,k),H=M[5],k=M[6];break;case"Q":G=N(H,k,M[1],M[2],M[3],M[4]),Z=K(H,k,M[1],M[2],M[3],M[4]),U.iterator=G,U.angleFinder=Z,U.length=re(G,H,k),H=M[3],k=M[4];break;case"Z":case"z":U.destX=T,U.destY=D,U.length=c(H,k,T,D),H=T,k=D;break}P+=U.length,j.push(U)}return j.push({length:P,x:H,y:k}),j}function oe(C,P,A){A||(A=ne(C));for(var M=0;P-A[M].length>0&&M<A.length-2;)P-=A[M].length,M++;var H=A[M],k=P/H.length,T=H.command,D=C[M],j;switch(T){case"M":return{x:H.x,y:H.y,angle:0};case"Z":case"z":return j=new t.Point(H.x,H.y).lerp(new t.Point(H.destX,H.destY),k),j.angle=Math.atan2(H.destY-H.y,H.destX-H.x),j;case"L":return j=new t.Point(H.x,H.y).lerp(new t.Point(D[1],D[2]),k),j.angle=Math.atan2(D[2]-H.y,D[1]-H.x),j;case"C":return ie(H,P);case"Q":return ie(H,P)}}function de(C){var P=[],A=[],M,H,k=t.rePathCommand,T="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",D="("+T+")"+t.commaWsp,j="([01])"+t.commaWsp+"?",G=D+"?"+D+"?"+D+j+j+D+"?("+T+")",U=new RegExp(G,"g"),Z,ee,se;if(!C||!C.match)return P;se=C.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var W=0,$,V=se.length;W<V;W++){M=se[W],ee=M.slice(1).trim(),A.length=0;var J=M.charAt(0);if($=[J],J.toLowerCase()==="a")for(var X;X=U.exec(ee);)for(var te=1;te<X.length;te++)A.push(X[te]);else for(;Z=k.exec(ee);)A.push(Z[0]);for(var te=0,ue=A.length;te<ue;te++)H=parseFloat(A[te]),isNaN(H)||$.push(H);var Se=i[J.toLowerCase()],ge=h[J]||J;if($.length-1>Se)for(var q=1,me=$.length;q<me;q+=Se)P.push([J].concat($.slice(q,q+Se))),J=ge;else P.push($)}return P}function le(C,P){var A=[],M,H=new t.Point(C[0].x,C[0].y),k=new t.Point(C[1].x,C[1].y),T=C.length,D=1,j=0,G=T>2;for(P=P||0,G&&(D=C[2].x<k.x?-1:C[2].x===k.x?0:1,j=C[2].y<k.y?-1:C[2].y===k.y?0:1),A.push(["M",H.x-D*P,H.y-j*P]),M=1;M<T;M++){if(!H.eq(k)){var U=H.midPointFrom(k);A.push(["Q",H.x,H.y,U.x,U.y])}H=C[M],M+1<C.length&&(k=C[M+1])}return G&&(D=H.x>C[M-2].x?1:H.x===C[M-2].x?0:-1,j=H.y>C[M-2].y?1:H.y===C[M-2].y?0:-1),A.push(["L",H.x+D*P,H.y+j*P]),A}function Y(C,P,A){return A&&(P=t.util.multiplyTransformMatrices(P,[1,0,0,1,-A.x,-A.y])),C.map(function(M){for(var H=M.slice(0),k={},T=1;T<M.length-1;T+=2)k.x=M[T],k.y=M[T+1],k=t.util.transformPoint(k,P),H[T]=k.x,H[T+1]=k.y;return H})}t.util.joinPath=function(C){return C.map(function(P){return P.join(" ")}).join(" ")},t.util.parsePath=de,t.util.makePathSimpler=v,t.util.getSmoothPathFromPoints=le,t.util.getPathSegmentsInfo=ne,t.util.getBoundsOfCurve=s,t.util.getPointOnPath=oe,t.util.transformPath=Y}(),function(){var u=Array.prototype.slice;function i(s,f){for(var v=u.call(arguments,2),c=[],g=0,m=s.length;g<m;g++)c[g]=v.length?s[g][f].apply(s[g],v):s[g][f].call(s[g]);return c}function h(s,f){return l(s,f,function(v,c){return v>=c})}function d(s,f){return l(s,f,function(v,c){return v<c})}function a(s,f){for(var v=s.length;v--;)s[v]=f;return s}function l(s,f,v){if(!(!s||s.length===0)){var c=s.length-1,g=f?s[c][f]:s[c];if(f)for(;c--;)v(s[c][f],g)&&(g=s[c][f]);else for(;c--;)v(s[c],g)&&(g=s[c]);return g}}t.util.array={fill:a,invoke:i,min:d,max:h}}(),function(){function u(h,d,a){if(a)if(!t.isLikelyNode&&d instanceof Element)h=d;else if(d instanceof Array){h=[];for(var l=0,s=d.length;l<s;l++)h[l]=u({},d[l],a)}else if(d&&typeof d=="object")for(var f in d)f==="canvas"||f==="group"?h[f]=null:d.hasOwnProperty(f)&&(h[f]=u({},d[f],a));else h=d;else for(var f in d)h[f]=d[f];return h}function i(h,d){return u({},h,d)}t.util.object={extend:u,clone:i},t.util.object.extend(t.util,t.Observable)}(),function(){function u(l){return l.replace(/-+(.)?/g,function(s,f){return f?f.toUpperCase():""})}function i(l,s){return l.charAt(0).toUpperCase()+(s?l.slice(1):l.slice(1).toLowerCase())}function h(l){return l.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(l){var s=0,f,v=[];for(s=0,f;s<l.length;s++)(f=a(l,s))!==!1&&v.push(f);return v}function a(l,s){var f=l.charCodeAt(s);if(isNaN(f))return"";if(f<55296||f>57343)return l.charAt(s);if(55296<=f&&f<=56319){if(l.length<=s+1)throw"High surrogate without following low surrogate";var v=l.charCodeAt(s+1);if(56320>v||v>57343)throw"High surrogate without following low surrogate";return l.charAt(s)+l.charAt(s+1)}if(s===0)throw"Low surrogate without preceding high surrogate";var c=l.charCodeAt(s-1);if(55296>c||c>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:u,capitalize:i,escapeXml:h,graphemeSplit:d}}(),function(){var u=Array.prototype.slice,i=function(){},h=function(){for(var f in{toString:1})if(f==="toString")return!1;return!0}(),d=function(f,v,c){for(var g in v)g in f.prototype&&typeof f.prototype[g]=="function"&&(v[g]+"").indexOf("callSuper")>-1?f.prototype[g]=function(m){return function(){var b=this.constructor.superclass;this.constructor.superclass=c;var x=v[m].apply(this,arguments);if(this.constructor.superclass=b,m!=="initialize")return x}}(g):f.prototype[g]=v[g],h&&(v.toString!==Object.prototype.toString&&(f.prototype.toString=v.toString),v.valueOf!==Object.prototype.valueOf&&(f.prototype.valueOf=v.valueOf))};function a(){}function l(f){for(var v=null,c=this;c.constructor.superclass;){var g=c.constructor.superclass.prototype[f];if(c[f]!==g){v=g;break}c=c.constructor.superclass.prototype}return v?arguments.length>1?v.apply(this,u.call(arguments,1)):v.call(this):console.log("tried to callSuper "+f+", method not found in prototype chain",this)}function s(){var f=null,v=u.call(arguments,0);typeof v[0]=="function"&&(f=v.shift());function c(){this.initialize.apply(this,arguments)}c.superclass=f,c.subclasses=[],f&&(a.prototype=f.prototype,c.prototype=new a,f.subclasses.push(c));for(var g=0,m=v.length;g<m;g++)d(c,v[g],f);return c.prototype.initialize||(c.prototype.initialize=i),c.prototype.constructor=c,c.prototype.callSuper=l,c}t.util.createClass=s}(),function(){var u=!!t.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"];t.util.addListener=function(d,a,l,s){d&&d.addEventListener(a,l,u?!1:s)},t.util.removeListener=function(d,a,l,s){d&&d.removeEventListener(a,l,u?!1:s)};function h(d){var a=d.changedTouches;return a&&a[0]?a[0]:d}t.util.getPointer=function(d){var a=d.target,l=t.util.getScrollLeftTop(a),s=h(d);return{x:s.clientX+l.left,y:s.clientY+l.top}},t.util.isTouchEvent=function(d){return i.indexOf(d.type)>-1||d.pointerType==="touch"}}(),function(){function u(s,f){var v=s.style;if(!v)return s;if(typeof f=="string")return s.style.cssText+=";"+f,f.indexOf("opacity")>-1?l(s,f.match(/opacity:\s*(\d?\.?\d*)/)[1]):s;for(var c in f)if(c==="opacity")l(s,f[c]);else{var g=c==="float"||c==="cssFloat"?typeof v.styleFloat>"u"?"cssFloat":"styleFloat":c;v.setProperty(g,f[c])}return s}var i=t.document.createElement("div"),h=typeof i.style.opacity=="string",d=typeof i.style.filter=="string",a=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,l=function(s){return s};h?l=function(s,f){return s.style.opacity=f,s}:d&&(l=function(s,f){var v=s.style;return s.currentStyle&&!s.currentStyle.hasLayout&&(v.zoom=1),a.test(v.filter)?(f=f>=.9999?"":"alpha(opacity="+f*100+")",v.filter=v.filter.replace(a,f)):v.filter+=" alpha(opacity="+f*100+")",s}),t.util.setStyle=u}(),function(){var u=Array.prototype.slice;function i(x){return typeof x=="string"?t.document.getElementById(x):x}var h,d=function(x){return u.call(x,0)};try{h=d(t.document.childNodes)instanceof Array}catch{}h||(d=function(x){for(var w=new Array(x.length),_=x.length;_--;)w[_]=x[_];return w});function a(x,w){var _=t.document.createElement(x);for(var S in w)S==="class"?_.className=w[S]:S==="for"?_.htmlFor=w[S]:_.setAttribute(S,w[S]);return _}function l(x,w){x&&(" "+x.className+" ").indexOf(" "+w+" ")===-1&&(x.className+=(x.className?" ":"")+w)}function s(x,w,_){return typeof w=="string"&&(w=a(w,_)),x.parentNode&&x.parentNode.replaceChild(w,x),w.appendChild(x),w}function f(x){for(var w=0,_=0,S=t.document.documentElement,E=t.document.body||{scrollLeft:0,scrollTop:0};x&&(x.parentNode||x.host)&&(x=x.parentNode||x.host,x===t.document?(w=E.scrollLeft||S.scrollLeft||0,_=E.scrollTop||S.scrollTop||0):(w+=x.scrollLeft||0,_+=x.scrollTop||0),!(x.nodeType===1&&x.style.position==="fixed")););return{left:w,top:_}}function v(x){var w,_=x&&x.ownerDocument,S={left:0,top:0},E={left:0,top:0},R,N={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!_)return E;for(var K in N)E[N[K]]+=parseInt(c(x,K),10)||0;return w=_.documentElement,typeof x.getBoundingClientRect<"u"&&(S=x.getBoundingClientRect()),R=f(x),{left:S.left+R.left-(w.clientLeft||0)+E.left,top:S.top+R.top-(w.clientTop||0)+E.top}}var c;t.document.defaultView&&t.document.defaultView.getComputedStyle?c=function(x,w){var _=t.document.defaultView.getComputedStyle(x,null);return _?_[w]:void 0}:c=function(x,w){var _=x.style[w];return!_&&x.currentStyle&&(_=x.currentStyle[w]),_},function(){var x=t.document.documentElement.style,w="userSelect"in x?"userSelect":"MozUserSelect"in x?"MozUserSelect":"WebkitUserSelect"in x?"WebkitUserSelect":"KhtmlUserSelect"in x?"KhtmlUserSelect":"";function _(E){return typeof E.onselectstart<"u"&&(E.onselectstart=t.util.falseFunction),w?E.style[w]="none":typeof E.unselectable=="string"&&(E.unselectable="on"),E}function S(E){return typeof E.onselectstart<"u"&&(E.onselectstart=null),w?E.style[w]="":typeof E.unselectable=="string"&&(E.unselectable=""),E}t.util.makeElementUnselectable=_,t.util.makeElementSelectable=S}();function g(x){var w=t.jsdomImplForWrapper(x);return w._canvas||w._image}function m(x){if(t.isLikelyNode){var w=t.jsdomImplForWrapper(x);w&&(w._image=null,w._canvas=null,w._currentSrc=null,w._attributes=null,w._classList=null)}}function b(x,w){x.imageSmoothingEnabled=x.imageSmoothingEnabled||x.webkitImageSmoothingEnabled||x.mozImageSmoothingEnabled||x.msImageSmoothingEnabled||x.oImageSmoothingEnabled,x.imageSmoothingEnabled=w}t.util.setImageSmoothing=b,t.util.getById=i,t.util.toArray=d,t.util.addClass=l,t.util.makeElement=a,t.util.wrapElement=s,t.util.getScrollLeftTop=f,t.util.getElementOffset=v,t.util.getNodeCanvas=g,t.util.cleanUpJsdomNode=m}(),function(){function u(d,a){return d+(/\?/.test(d)?"&":"?")+a}function i(){}function h(d,a){a||(a={});var l=a.method?a.method.toUpperCase():"GET",s=a.onComplete||function(){},f=new t.window.XMLHttpRequest,v=a.body||a.parameters;return f.onreadystatechange=function(){f.readyState===4&&(s(f),f.onreadystatechange=i)},l==="GET"&&(v=null,typeof a.parameters=="string"&&(d=u(d,a.parameters))),f.open(l,d,!0),(l==="POST"||l==="PUT")&&f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.send(v),f}t.util.request=h}(),t.log=console.log,t.warn=console.warn,function(){var u=t.util.object.extend,i=t.util.object.clone,h=[];t.util.object.extend(h,{cancelAll:function(){var g=this.splice(0);return g.forEach(function(m){m.cancel()}),g},cancelByCanvas:function(g){if(!g)return[];var m=this.filter(function(b){return typeof b.target=="object"&&b.target.canvas===g});return m.forEach(function(b){b.cancel()}),m},cancelByTarget:function(g){var m=this.findAnimationsByTarget(g);return m.forEach(function(b){b.cancel()}),m},findAnimationIndex:function(g){return this.indexOf(this.findAnimation(g))},findAnimation:function(g){return this.find(function(m){return m.cancel===g})},findAnimationsByTarget:function(g){return g?this.filter(function(m){return m.target===g}):[]}});function d(){return!1}function a(g,m,b,x){return-b*Math.cos(g/x*(Math.PI/2))+b+m}function l(g){g||(g={});var m=!1,b,x=function(){var w=t.runningAnimations.indexOf(b);return w>-1&&t.runningAnimations.splice(w,1)[0]};return b=u(i(g),{cancel:function(){return m=!0,x()},currentValue:"startValue"in g?g.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(b),v(function(w){var _=w||+new Date,S=g.duration||500,E=_+S,R,N=g.onChange||d,K=g.abort||d,re=g.onComplete||d,ie=g.easing||a,ne="startValue"in g?g.startValue.length>0:!1,oe="startValue"in g?g.startValue:0,de="endValue"in g?g.endValue:100,le=g.byValue||(ne?oe.map(function(Y,C){return de[C]-oe[C]}):de-oe);g.onStart&&g.onStart(),function Y(C){R=C||+new Date;var P=R>E?S:R-_,A=P/S,M=ne?oe.map(function(k,T){return ie(P,oe[T],le[T],S)}):ie(P,oe,le,S),H=Math.abs(ne?(M[0]-oe[0])/le[0]:(M-oe)/le);if(b.currentValue=ne?M.slice():M,b.completionRate=H,b.durationRate=A,!m){if(K(M,H,A)){x();return}if(R>E){b.currentValue=ne?de.slice():de,b.completionRate=1,b.durationRate=1,N(ne?de.slice():de,1,1),re(de,1,1),x();return}else N(M,H,A),v(Y)}}(_)}),b.cancel}var s=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(g){return t.window.setTimeout(g,1e3/60)},f=t.window.cancelAnimationFrame||t.window.clearTimeout;function v(){return s.apply(t.window,arguments)}function c(){return f.apply(t.window,arguments)}t.util.animate=l,t.util.requestAnimFrame=v,t.util.cancelAnimFrame=c,t.runningAnimations=h}(),function(){function u(h,d,a){var l="rgba("+parseInt(h[0]+a*(d[0]-h[0]),10)+","+parseInt(h[1]+a*(d[1]-h[1]),10)+","+parseInt(h[2]+a*(d[2]-h[2]),10);return l+=","+(h&&d?parseFloat(h[3]+a*(d[3]-h[3])):1),l+=")",l}function i(h,d,a,l){var s=new t.Color(h).getSource(),f=new t.Color(d).getSource(),v=l.onComplete,c=l.onChange;return l=l||{},t.util.animate(t.util.object.extend(l,{duration:a||500,startValue:s,endValue:f,byValue:f,easing:function(g,m,b,x){var w=l.colorEasing?l.colorEasing(g,x):1-Math.cos(g/x*(Math.PI/2));return u(m,b,w)},onComplete:function(g,m,b){if(v)return v(u(f,f,0),m,b)},onChange:function(g,m,b){if(c){if(Array.isArray(g))return c(u(g,g,0),m,b);c(g,m,b)}}}))}t.util.animateColor=i}(),function(){function u(C,P,A,M){return C<Math.abs(P)?(C=P,M=A/4):P===0&&C===0?M=A/(2*Math.PI)*Math.asin(1):M=A/(2*Math.PI)*Math.asin(P/C),{a:C,c:P,p:A,s:M}}function i(C,P,A){return C.a*Math.pow(2,10*(P-=1))*Math.sin((P*A-C.s)*(2*Math.PI)/C.p)}function h(C,P,A,M){return A*((C=C/M-1)*C*C+1)+P}function d(C,P,A,M){return C/=M/2,C<1?A/2*C*C*C+P:A/2*((C-=2)*C*C+2)+P}function a(C,P,A,M){return A*(C/=M)*C*C*C+P}function l(C,P,A,M){return-A*((C=C/M-1)*C*C*C-1)+P}function s(C,P,A,M){return C/=M/2,C<1?A/2*C*C*C*C+P:-A/2*((C-=2)*C*C*C-2)+P}function f(C,P,A,M){return A*(C/=M)*C*C*C*C+P}function v(C,P,A,M){return A*((C=C/M-1)*C*C*C*C+1)+P}function c(C,P,A,M){return C/=M/2,C<1?A/2*C*C*C*C*C+P:A/2*((C-=2)*C*C*C*C+2)+P}function g(C,P,A,M){return-A*Math.cos(C/M*(Math.PI/2))+A+P}function m(C,P,A,M){return A*Math.sin(C/M*(Math.PI/2))+P}function b(C,P,A,M){return-A/2*(Math.cos(Math.PI*C/M)-1)+P}function x(C,P,A,M){return C===0?P:A*Math.pow(2,10*(C/M-1))+P}function w(C,P,A,M){return C===M?P+A:A*(-Math.pow(2,-10*C/M)+1)+P}function _(C,P,A,M){return C===0?P:C===M?P+A:(C/=M/2,C<1?A/2*Math.pow(2,10*(C-1))+P:A/2*(-Math.pow(2,-10*--C)+2)+P)}function S(C,P,A,M){return-A*(Math.sqrt(1-(C/=M)*C)-1)+P}function E(C,P,A,M){return A*Math.sqrt(1-(C=C/M-1)*C)+P}function R(C,P,A,M){return C/=M/2,C<1?-A/2*(Math.sqrt(1-C*C)-1)+P:A/2*(Math.sqrt(1-(C-=2)*C)+1)+P}function N(C,P,A,M){var H=1.70158,k=0,T=A;if(C===0)return P;if(C/=M,C===1)return P+A;k||(k=M*.3);var D=u(T,A,k,H);return-i(D,C,M)+P}function K(C,P,A,M){var H=1.70158,k=0,T=A;if(C===0)return P;if(C/=M,C===1)return P+A;k||(k=M*.3);var D=u(T,A,k,H);return D.a*Math.pow(2,-10*C)*Math.sin((C*M-D.s)*(2*Math.PI)/D.p)+D.c+P}function re(C,P,A,M){var H=1.70158,k=0,T=A;if(C===0)return P;if(C/=M/2,C===2)return P+A;k||(k=M*(.3*1.5));var D=u(T,A,k,H);return C<1?-.5*i(D,C,M)+P:D.a*Math.pow(2,-10*(C-=1))*Math.sin((C*M-D.s)*(2*Math.PI)/D.p)*.5+D.c+P}function ie(C,P,A,M,H){return H===void 0&&(H=1.70158),A*(C/=M)*C*((H+1)*C-H)+P}function ne(C,P,A,M,H){return H===void 0&&(H=1.70158),A*((C=C/M-1)*C*((H+1)*C+H)+1)+P}function oe(C,P,A,M,H){return H===void 0&&(H=1.70158),C/=M/2,C<1?A/2*(C*C*(((H*=1.525)+1)*C-H))+P:A/2*((C-=2)*C*(((H*=1.525)+1)*C+H)+2)+P}function de(C,P,A,M){return A-le(M-C,0,A,M)+P}function le(C,P,A,M){return(C/=M)<1/2.75?A*(7.5625*C*C)+P:C<2/2.75?A*(7.5625*(C-=1.5/2.75)*C+.75)+P:C<2.5/2.75?A*(7.5625*(C-=2.25/2.75)*C+.9375)+P:A*(7.5625*(C-=2.625/2.75)*C+.984375)+P}function Y(C,P,A,M){return C<M/2?de(C*2,0,A,M)*.5+P:le(C*2-M,0,A,M)*.5+A*.5+P}t.util.ease={easeInQuad:function(C,P,A,M){return A*(C/=M)*C+P},easeOutQuad:function(C,P,A,M){return-A*(C/=M)*(C-2)+P},easeInOutQuad:function(C,P,A,M){return C/=M/2,C<1?A/2*C*C+P:-A/2*(--C*(C-2)-1)+P},easeInCubic:function(C,P,A,M){return A*(C/=M)*C*C+P},easeOutCubic:h,easeInOutCubic:d,easeInQuart:a,easeOutQuart:l,easeInOutQuart:s,easeInQuint:f,easeOutQuint:v,easeInOutQuint:c,easeInSine:g,easeOutSine:m,easeInOutSine:b,easeInExpo:x,easeOutExpo:w,easeInOutExpo:_,easeInCirc:S,easeOutCirc:E,easeInOutCirc:R,easeInElastic:N,easeOutElastic:K,easeInOutElastic:re,easeInBack:ie,easeOutBack:ne,easeInOutBack:oe,easeInBounce:de,easeOutBounce:le,easeInOutBounce:Y}}(),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.util.object.clone,a=i.util.toFixed,l=i.util.parseUnit,s=i.util.multiplyTransformMatrices,f=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],v=["symbol","image","marker","pattern","view","svg"],c=["pattern","defs","symbol","metadata","clipPath","mask","desc"],g=["symbol","g","a","svg","clipPath","defs"],m={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},b={stroke:"strokeOpacity",fill:"fillOpacity"},x="font-size",w="clip-path";i.svgValidTagNamesRegEx=E(f),i.svgViewBoxElementsRegEx=E(v),i.svgInvalidAncestorsRegEx=E(c),i.svgValidParentsRegEx=E(g),i.cssRules={},i.gradientDefs={},i.clipPaths={};function _(k){return k in m?m[k]:k}function S(k,T,D,j){var G=Array.isArray(T),U;if((k==="fill"||k==="stroke")&&T==="none")T="";else{if(k==="strokeUniform")return T==="non-scaling-stroke";if(k==="strokeDashArray")T==="none"?T=null:T=T.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(k==="transformMatrix")D&&D.transformMatrix?T=s(D.transformMatrix,i.parseTransformAttribute(T)):T=i.parseTransformAttribute(T);else if(k==="visible")T=T!=="none"&&T!=="hidden",D&&D.visible===!1&&(T=!1);else if(k==="opacity")T=parseFloat(T),D&&typeof D.opacity<"u"&&(T*=D.opacity);else if(k==="textAnchor")T=T==="start"?"left":T==="end"?"right":"center";else if(k==="charSpacing")U=l(T,j)/j*1e3;else if(k==="paintFirst"){var Z=T.indexOf("fill"),ee=T.indexOf("stroke"),T="fill";(Z>-1&&ee>-1&&ee<Z||Z===-1&&ee>-1)&&(T="stroke")}else{if(k==="href"||k==="xlink:href"||k==="font")return T;if(k==="imageSmoothing")return T==="optimizeQuality";U=G?T.map(l):l(T,j)}}return!G&&isNaN(U)?T:U}function E(k){return new RegExp("^("+k.join("|")+")\\b","i")}function R(k){for(var T in b)if(!(typeof k[b[T]]>"u"||k[T]==="")){if(typeof k[T]>"u"){if(!i.Object.prototype[T])continue;k[T]=i.Object.prototype[T]}if(k[T].indexOf("url(")!==0){var D=new i.Color(k[T]);k[T]=D.setAlpha(a(D.getAlpha()*k[b[T]],2)).toRgba()}}return k}function N(k,T){var D,j=[],G,U,Z;for(U=0,Z=T.length;U<Z;U++)D=T[U],G=k.getElementsByTagName(D),j=j.concat(Array.prototype.slice.call(G));return j}i.parseTransformAttribute=function(){function k(q,me){var we=i.util.cos(me[0]),Ee=i.util.sin(me[0]),$e=0,Fe=0;me.length===3&&($e=me[1],Fe=me[2]),q[0]=we,q[1]=Ee,q[2]=-Ee,q[3]=we,q[4]=$e-(we*$e-Ee*Fe),q[5]=Fe-(Ee*$e+we*Fe)}function T(q,me){var we=me[0],Ee=me.length===2?me[1]:me[0];q[0]=we,q[3]=Ee}function D(q,me,we){q[we]=Math.tan(i.util.degreesToRadians(me[0]))}function j(q,me){q[4]=me[0],me.length===2&&(q[5]=me[1])}var G=i.iMatrix,U=i.reNum,Z=i.commaWsp,ee="(?:(skewX)\\s*\\(\\s*("+U+")\\s*\\))",se="(?:(skewY)\\s*\\(\\s*("+U+")\\s*\\))",W="(?:(rotate)\\s*\\(\\s*("+U+")(?:"+Z+"("+U+")"+Z+"("+U+"))?\\s*\\))",$="(?:(scale)\\s*\\(\\s*("+U+")(?:"+Z+"("+U+"))?\\s*\\))",V="(?:(translate)\\s*\\(\\s*("+U+")(?:"+Z+"("+U+"))?\\s*\\))",J="(?:(matrix)\\s*\\(\\s*("+U+")"+Z+"("+U+")"+Z+"("+U+")"+Z+"("+U+")"+Z+"("+U+")"+Z+"("+U+")\\s*\\))",X="(?:"+J+"|"+V+"|"+$+"|"+W+"|"+ee+"|"+se+")",te="(?:"+X+"(?:"+Z+"*"+X+")*)",ue="^\\s*(?:"+te+"?)\\s*$",Se=new RegExp(ue),ge=new RegExp(X,"g");return function(q){var me=G.concat(),we=[];if(!q||q&&!Se.test(q))return me;q.replace(ge,function($e){var Fe=new RegExp(X).exec($e).filter(function(Er){return!!Er}),vt=Fe[1],je=Fe.slice(2).map(parseFloat);switch(vt){case"translate":j(me,je);break;case"rotate":je[0]=i.util.degreesToRadians(je[0]),k(me,je);break;case"scale":T(me,je);break;case"skewX":D(me,je,2);break;case"skewY":D(me,je,1);break;case"matrix":me=je;break}we.push(me.concat()),me=G.concat()});for(var Ee=we[0];we.length>1;)we.shift(),Ee=i.util.multiplyTransformMatrices(Ee,we[0]);return Ee}}();function K(k,T){var D,j;k.replace(/;\s*$/,"").split(";").forEach(function(G){var U=G.split(":");D=U[0].trim().toLowerCase(),j=U[1].trim(),T[D]=j})}function re(k,T){var D,j;for(var G in k)typeof k[G]>"u"||(D=G.toLowerCase(),j=k[G],T[D]=j)}function ie(k,T){var D={};for(var j in i.cssRules[T])if(ne(k,j.split(" ")))for(var G in i.cssRules[T][j])D[G]=i.cssRules[T][j][G];return D}function ne(k,T){var D,j=!0;return D=de(k,T.pop()),D&&T.length&&(j=oe(k,T)),D&&j&&T.length===0}function oe(k,T){for(var D,j=!0;k.parentNode&&k.parentNode.nodeType===1&&T.length;)j&&(D=T.pop()),k=k.parentNode,j=de(k,D);return T.length===0}function de(k,T){var D=k.nodeName,j=k.getAttribute("class"),G=k.getAttribute("id"),U,Z;if(U=new RegExp("^"+D,"i"),T=T.replace(U,""),G&&T.length&&(U=new RegExp("#"+G+"(?![a-zA-Z\\-]+)","i"),T=T.replace(U,"")),j&&T.length)for(j=j.split(" "),Z=j.length;Z--;)U=new RegExp("\\."+j[Z]+"(?![a-zA-Z\\-]+)","i"),T=T.replace(U,"");return T.length===0}function le(k,T){var D;if(k.getElementById&&(D=k.getElementById(T)),D)return D;var j,G,U,Z=k.getElementsByTagName("*");for(G=0,U=Z.length;G<U;G++)if(j=Z[G],T===j.getAttribute("id"))return j}function Y(k){for(var T=N(k,["use","svg:use"]),D=0;T.length&&D<T.length;){var j=T[D],G=j.getAttribute("xlink:href")||j.getAttribute("href");if(G===null)return;var U=G.slice(1),Z=j.getAttribute("x")||0,ee=j.getAttribute("y")||0,se=le(k,U).cloneNode(!0),W=(se.getAttribute("transform")||"")+" translate("+Z+", "+ee+")",$,V=T.length,J,X,te,ue,Se=i.svgNS;if(P(se),/^svg$/i.test(se.nodeName)){var ge=se.ownerDocument.createElementNS(Se,"g");for(X=0,te=se.attributes,ue=te.length;X<ue;X++)J=te.item(X),ge.setAttributeNS(Se,J.nodeName,J.nodeValue);for(;se.firstChild;)ge.appendChild(se.firstChild);se=ge}for(X=0,te=j.attributes,ue=te.length;X<ue;X++)J=te.item(X),!(J.nodeName==="x"||J.nodeName==="y"||J.nodeName==="xlink:href"||J.nodeName==="href")&&(J.nodeName==="transform"?W=J.nodeValue+" "+W:se.setAttribute(J.nodeName,J.nodeValue));se.setAttribute("transform",W),se.setAttribute("instantiated_by_use","1"),se.removeAttribute("id"),$=j.parentNode,$.replaceChild(se,j),T.length===V&&D++}}var C=new RegExp("^\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*$");function P(k){if(!i.svgViewBoxElementsRegEx.test(k.nodeName))return{};var T=k.getAttribute("viewBox"),D=1,j=1,G=0,U=0,Z,ee,se,W,$=k.getAttribute("width"),V=k.getAttribute("height"),J=k.getAttribute("x")||0,X=k.getAttribute("y")||0,te=k.getAttribute("preserveAspectRatio")||"",ue=!T||!(T=T.match(C)),Se=!$||!V||$==="100%"||V==="100%",ge=ue&&Se,q={},me="",we=0,Ee=0;if(q.width=0,q.height=0,q.toBeParsed=ge,ue&&(J||X)&&k.parentNode&&k.parentNode.nodeName!=="#document"&&(me=" translate("+l(J)+" "+l(X)+") ",se=(k.getAttribute("transform")||"")+me,k.setAttribute("transform",se),k.removeAttribute("x"),k.removeAttribute("y")),ge)return q;if(ue)return q.width=l($),q.height=l(V),q;if(G=-parseFloat(T[1]),U=-parseFloat(T[2]),Z=parseFloat(T[3]),ee=parseFloat(T[4]),q.minX=G,q.minY=U,q.viewBoxWidth=Z,q.viewBoxHeight=ee,Se?(q.width=Z,q.height=ee):(q.width=l($),q.height=l(V),D=q.width/Z,j=q.height/ee),te=i.util.parsePreserveAspectRatioAttribute(te),te.alignX!=="none"&&(te.meetOrSlice==="meet"&&(j=D=D>j?j:D),te.meetOrSlice==="slice"&&(j=D=D>j?D:j),we=q.width-Z*D,Ee=q.height-ee*D,te.alignX==="Mid"&&(we/=2),te.alignY==="Mid"&&(Ee/=2),te.alignX==="Min"&&(we=0),te.alignY==="Min"&&(Ee=0)),D===1&&j===1&&G===0&&U===0&&J===0&&X===0)return q;if((J||X)&&k.parentNode.nodeName!=="#document"&&(me=" translate("+l(J)+" "+l(X)+") "),se=me+" matrix("+D+" 0 0 "+j+" "+(G*D+we)+" "+(U*j+Ee)+") ",k.nodeName==="svg"){for(W=k.ownerDocument.createElementNS(i.svgNS,"g");k.firstChild;)W.appendChild(k.firstChild);k.appendChild(W)}else W=k,W.removeAttribute("x"),W.removeAttribute("y"),se=W.getAttribute("transform")+se;return W.setAttribute("transform",se),q}function A(k,T){for(;k&&(k=k.parentNode);)if(k.nodeName&&T.test(k.nodeName.replace("svg:",""))&&!k.getAttribute("instantiated_by_use"))return!0;return!1}i.parseSVGDocument=function(k,T,D,j){if(k){Y(k);var G=i.Object.__uid++,U,Z,ee=P(k),se=i.util.toArray(k.getElementsByTagName("*"));if(ee.crossOrigin=j&&j.crossOrigin,ee.svgUid=G,se.length===0&&i.isLikelyNode){se=k.selectNodes('//*[name(.)!="svg"]');var W=[];for(U=0,Z=se.length;U<Z;U++)W[U]=se[U];se=W}var $=se.filter(function(J){return P(J),i.svgValidTagNamesRegEx.test(J.nodeName.replace("svg:",""))&&!A(J,i.svgInvalidAncestorsRegEx)});if(!$||$&&!$.length){T&&T([],{});return}var V={};se.filter(function(J){return J.nodeName.replace("svg:","")==="clipPath"}).forEach(function(J){var X=J.getAttribute("id");V[X]=i.util.toArray(J.getElementsByTagName("*")).filter(function(te){return i.svgValidTagNamesRegEx.test(te.nodeName.replace("svg:",""))})}),i.gradientDefs[G]=i.getGradientDefs(k),i.cssRules[G]=i.getCSSRules(k),i.clipPaths[G]=V,i.parseElements($,function(J,X){T&&(T(J,ee,X,se),delete i.gradientDefs[G],delete i.cssRules[G],delete i.clipPaths[G])},d(ee),D,j)}};function M(k,T){var D=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],j="xlink:href",G=T.getAttribute(j).slice(1),U=le(k,G);if(U&&U.getAttribute(j)&&M(k,U),D.forEach(function(ee){U&&!T.hasAttribute(ee)&&U.hasAttribute(ee)&&T.setAttribute(ee,U.getAttribute(ee))}),!T.children.length)for(var Z=U.cloneNode(!0);Z.firstChild;)T.appendChild(Z.firstChild);T.removeAttribute(j)}var H=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+i.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+i.reNum+"))?\\s+(.*)");h(i,{parseFontDeclaration:function(k,T){var D=k.match(H);if(D){var j=D[1],G=D[3],U=D[4],Z=D[5],ee=D[6];j&&(T.fontStyle=j),G&&(T.fontWeight=isNaN(parseFloat(G))?G:parseFloat(G)),U&&(T.fontSize=l(U)),ee&&(T.fontFamily=ee),Z&&(T.lineHeight=Z==="normal"?1:Z)}},getGradientDefs:function(k){var T=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],D=N(k,T),j,G=0,U={};for(G=D.length;G--;)j=D[G],j.getAttribute("xlink:href")&&M(k,j),U[j.getAttribute("id")]=j;return U},parseAttributes:function(k,T,D){if(k){var j,G={},U,Z;typeof D>"u"&&(D=k.getAttribute("svgUid")),k.parentNode&&i.svgValidParentsRegEx.test(k.parentNode.nodeName)&&(G=i.parseAttributes(k.parentNode,T,D));var ee=T.reduce(function(te,ue){return j=k.getAttribute(ue),j&&(te[ue]=j),te},{}),se=h(ie(k,D),i.parseStyleAttribute(k));ee=h(ee,se),se[w]&&k.setAttribute(w,se[w]),U=Z=G.fontSize||i.Text.DEFAULT_SVG_FONT_SIZE,ee[x]&&(ee[x]=U=l(ee[x],Z));var W,$,V={};for(var J in ee)W=_(J),$=S(W,ee[J],G,U),V[W]=$;V&&V.font&&i.parseFontDeclaration(V.font,V);var X=h(G,V);return i.svgValidParentsRegEx.test(k.nodeName)?X:R(X)}},parseElements:function(k,T,D,j,G){new i.ElementsParser(k,T,D,j,G).parse()},parseStyleAttribute:function(k){var T={},D=k.getAttribute("style");return D&&(typeof D=="string"?K(D,T):re(D,T)),T},parsePointsAttribute:function(k){if(!k)return null;k=k.replace(/,/g," ").trim(),k=k.split(/\s+/);var T=[],D,j;for(D=0,j=k.length;D<j;D+=2)T.push({x:parseFloat(k[D]),y:parseFloat(k[D+1])});return T},getCSSRules:function(k){var T=k.getElementsByTagName("style"),D,j,G={},U;for(D=0,j=T.length;D<j;D++){var Z=T[D].textContent;Z=Z.replace(/\/\*[\s\S]*?\*\//g,""),Z.trim()!==""&&(U=Z.split("}"),U=U.filter(function(ee){return ee.trim()}),U.forEach(function(ee){var se=ee.split("{"),W={},$=se[1].trim(),V=$.split(";").filter(function(ue){return ue.trim()});for(D=0,j=V.length;D<j;D++){var J=V[D].split(":"),X=J[0].trim(),te=J[1].trim();W[X]=te}ee=se[0].trim(),ee.split(",").forEach(function(ue){ue=ue.replace(/^svg/i,"").trim(),ue!==""&&(G[ue]?i.util.object.extend(G[ue],W):G[ue]=i.util.object.clone(W))})}))}return G},loadSVGFromURL:function(k,T,D,j){k=k.replace(/^\n\s*/,"").trim(),new i.util.request(k,{method:"get",onComplete:G});function G(U){var Z=U.responseXML;if(!Z||!Z.documentElement)return T&&T(null),!1;i.parseSVGDocument(Z.documentElement,function(ee,se,W,$){T&&T(ee,se,W,$)},D,j)}},loadSVGFromString:function(k,T,D,j){var G=new i.window.DOMParser,U=G.parseFromString(k.trim(),"text/xml");i.parseSVGDocument(U.documentElement,function(Z,ee,se,W){T(Z,ee,se,W)},D,j)}})}(e),t.ElementsParser=function(u,i,h,d,a,l){this.elements=u,this.callback=i,this.options=h,this.reviver=d,this.svgUid=h&&h.svgUid||0,this.parsingOptions=a,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=l},function(u){u.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},u.createObjects=function(){var i=this;this.elements.forEach(function(h,d){h.setAttribute("svgUid",i.svgUid),i.createObject(h,d)})},u.findTag=function(i){return t[t.util.string.capitalize(i.tagName.replace("svg:",""))]},u.createObject=function(i,h){var d=this.findTag(i);if(d&&d.fromElement)try{d.fromElement(i,this.createCallback(h,i),this.options)}catch(a){t.log(a)}else this.checkIfDone()},u.createCallback=function(i,h){var d=this;return function(a){var l;d.resolveGradient(a,h,"fill"),d.resolveGradient(a,h,"stroke"),a instanceof t.Image&&a._originalElement&&(l=a.parsePreserveAspectRatioAttribute(h)),a._removeTransformMatrix(l),d.resolveClipPath(a,h),d.reviver&&d.reviver(h,a),d.instances[i]=a,d.checkIfDone()}},u.extractPropertyDefinition=function(i,h,d){var a=i[h],l=this.regexUrl;if(l.test(a)){l.lastIndex=0;var s=l.exec(a)[1];return l.lastIndex=0,t[d][this.svgUid][s]}},u.resolveGradient=function(i,h,d){var a=this.extractPropertyDefinition(i,d,"gradientDefs");if(a){var l=h.getAttribute(d+"-opacity"),s=t.Gradient.fromElement(a,i,l,this.options);i.set(d,s)}},u.createClipPathCallback=function(i,h){return function(d){d._removeTransformMatrix(),d.fillRule=d.clipRule,h.push(d)}},u.resolveClipPath=function(i,h){var d=this.extractPropertyDefinition(i,"clipPath","clipPaths"),a,l,s,f,v,c;if(d){f=[],s=t.util.invertTransform(i.calcTransformMatrix());for(var g=d[0].parentNode,m=h;m.parentNode&&m.getAttribute("clip-path")!==i.clipPath;)m=m.parentNode;m.parentNode.appendChild(g);for(var b=0;b<d.length;b++)a=d[b],l=this.findTag(a),l.fromElement(a,this.createClipPathCallback(i,f),this.options);f.length===1?d=f[0]:d=new t.Group(f),v=t.util.multiplyTransformMatrices(s,d.calcTransformMatrix()),d.clipPath&&this.resolveClipPath(d,m);var c=t.util.qrDecompose(v);d.flipX=!1,d.flipY=!1,d.set("scaleX",c.scaleX),d.set("scaleY",c.scaleY),d.angle=c.angle,d.skewX=c.skewX,d.skewY=0,d.setPositionByOrigin({x:c.translateX,y:c.translateY},"center","center"),i.clipPath=d}else delete i.clipPath},u.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(u){var i=u.fabric||(u.fabric={});if(i.Point){i.warn("fabric.Point is already defined");return}i.Point=h;function h(d,a){this.x=d,this.y=a}h.prototype={type:"point",constructor:h,add:function(d){return new h(this.x+d.x,this.y+d.y)},addEquals:function(d){return this.x+=d.x,this.y+=d.y,this},scalarAdd:function(d){return new h(this.x+d,this.y+d)},scalarAddEquals:function(d){return this.x+=d,this.y+=d,this},subtract:function(d){return new h(this.x-d.x,this.y-d.y)},subtractEquals:function(d){return this.x-=d.x,this.y-=d.y,this},scalarSubtract:function(d){return new h(this.x-d,this.y-d)},scalarSubtractEquals:function(d){return this.x-=d,this.y-=d,this},multiply:function(d){return new h(this.x*d,this.y*d)},multiplyEquals:function(d){return this.x*=d,this.y*=d,this},divide:function(d){return new h(this.x/d,this.y/d)},divideEquals:function(d){return this.x/=d,this.y/=d,this},eq:function(d){return this.x===d.x&&this.y===d.y},lt:function(d){return this.x<d.x&&this.y<d.y},lte:function(d){return this.x<=d.x&&this.y<=d.y},gt:function(d){return this.x>d.x&&this.y>d.y},gte:function(d){return this.x>=d.x&&this.y>=d.y},lerp:function(d,a){return typeof a>"u"&&(a=.5),a=Math.max(Math.min(1,a),0),new h(this.x+(d.x-this.x)*a,this.y+(d.y-this.y)*a)},distanceFrom:function(d){var a=this.x-d.x,l=this.y-d.y;return Math.sqrt(a*a+l*l)},midPointFrom:function(d){return this.lerp(d)},min:function(d){return new h(Math.min(this.x,d.x),Math.min(this.y,d.y))},max:function(d){return new h(Math.max(this.x,d.x),Math.max(this.y,d.y))},toString:function(){return this.x+","+this.y},setXY:function(d,a){return this.x=d,this.y=a,this},setX:function(d){return this.x=d,this},setY:function(d){return this.y=d,this},setFromPoint:function(d){return this.x=d.x,this.y=d.y,this},swap:function(d){var a=this.x,l=this.y;this.x=d.x,this.y=d.y,d.x=a,d.y=l},clone:function(){return new h(this.x,this.y)}}}(e),function(u){var i=u.fabric||(u.fabric={});if(i.Intersection){i.warn("fabric.Intersection is already defined");return}function h(d){this.status=d,this.points=[]}i.Intersection=h,i.Intersection.prototype={constructor:h,appendPoint:function(d){return this.points.push(d),this},appendPoints:function(d){return this.points=this.points.concat(d),this}},i.Intersection.intersectLineLine=function(d,a,l,s){var f,v=(s.x-l.x)*(d.y-l.y)-(s.y-l.y)*(d.x-l.x),c=(a.x-d.x)*(d.y-l.y)-(a.y-d.y)*(d.x-l.x),g=(s.y-l.y)*(a.x-d.x)-(s.x-l.x)*(a.y-d.y);if(g!==0){var m=v/g,b=c/g;0<=m&&m<=1&&0<=b&&b<=1?(f=new h("Intersection"),f.appendPoint(new i.Point(d.x+m*(a.x-d.x),d.y+m*(a.y-d.y)))):f=new h}else v===0||c===0?f=new h("Coincident"):f=new h("Parallel");return f},i.Intersection.intersectLinePolygon=function(d,a,l){var s=new h,f=l.length,v,c,g,m;for(m=0;m<f;m++)v=l[m],c=l[(m+1)%f],g=h.intersectLineLine(d,a,v,c),s.appendPoints(g.points);return s.points.length>0&&(s.status="Intersection"),s},i.Intersection.intersectPolygonPolygon=function(d,a){var l=new h,s=d.length,f;for(f=0;f<s;f++){var v=d[f],c=d[(f+1)%s],g=h.intersectLinePolygon(v,c,a);l.appendPoints(g.points)}return l.points.length>0&&(l.status="Intersection"),l},i.Intersection.intersectPolygonRectangle=function(d,a,l){var s=a.min(l),f=a.max(l),v=new i.Point(f.x,s.y),c=new i.Point(s.x,f.y),g=h.intersectLinePolygon(s,v,d),m=h.intersectLinePolygon(v,f,d),b=h.intersectLinePolygon(f,c,d),x=h.intersectLinePolygon(c,s,d),w=new h;return w.appendPoints(g.points),w.appendPoints(m.points),w.appendPoints(b.points),w.appendPoints(x.points),w.points.length>0&&(w.status="Intersection"),w}}(e),function(u){var i=u.fabric||(u.fabric={});if(i.Color){i.warn("fabric.Color is already defined.");return}function h(a){a?this._tryParsingColor(a):this.setSource([0,0,0,1])}i.Color=h,i.Color.prototype={_tryParsingColor:function(a){var l;a in h.colorNameMap&&(a=h.colorNameMap[a]),a==="transparent"&&(l=[255,255,255,0]),l||(l=h.sourceFromHex(a)),l||(l=h.sourceFromRgb(a)),l||(l=h.sourceFromHsl(a)),l||(l=[0,0,0,1]),l&&this.setSource(l)},_rgbToHsl:function(a,l,s){a/=255,l/=255,s/=255;var f,v,c,g=i.util.array.max([a,l,s]),m=i.util.array.min([a,l,s]);if(c=(g+m)/2,g===m)f=v=0;else{var b=g-m;switch(v=c>.5?b/(2-g-m):b/(g+m),g){case a:f=(l-s)/b+(l<s?6:0);break;case l:f=(s-a)/b+2;break;case s:f=(a-l)/b+4;break}f/=6}return[Math.round(f*360),Math.round(v*100),Math.round(c*100)]},getSource:function(){return this._source},setSource:function(a){this._source=a},toRgb:function(){var a=this.getSource();return"rgb("+a[0]+","+a[1]+","+a[2]+")"},toRgba:function(){var a=this.getSource();return"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")"},toHsl:function(){var a=this.getSource(),l=this._rgbToHsl(a[0],a[1],a[2]);return"hsl("+l[0]+","+l[1]+"%,"+l[2]+"%)"},toHsla:function(){var a=this.getSource(),l=this._rgbToHsl(a[0],a[1],a[2]);return"hsla("+l[0]+","+l[1]+"%,"+l[2]+"%,"+a[3]+")"},toHex:function(){var a=this.getSource(),l,s,f;return l=a[0].toString(16),l=l.length===1?"0"+l:l,s=a[1].toString(16),s=s.length===1?"0"+s:s,f=a[2].toString(16),f=f.length===1?"0"+f:f,l.toUpperCase()+s.toUpperCase()+f.toUpperCase()},toHexa:function(){var a=this.getSource(),l;return l=Math.round(a[3]*255),l=l.toString(16),l=l.length===1?"0"+l:l,this.toHex()+l.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(a){var l=this.getSource();return l[3]=a,this.setSource(l),this},toGrayscale:function(){var a=this.getSource(),l=parseInt((a[0]*.3+a[1]*.59+a[2]*.11).toFixed(0),10),s=a[3];return this.setSource([l,l,l,s]),this},toBlackWhite:function(a){var l=this.getSource(),s=(l[0]*.3+l[1]*.59+l[2]*.11).toFixed(0),f=l[3];return a=a||127,s=Number(s)<Number(a)?0:255,this.setSource([s,s,s,f]),this},overlayWith:function(a){a instanceof h||(a=new h(a));var l=[],s=this.getAlpha(),f=.5,v=this.getSource(),c=a.getSource(),g;for(g=0;g<3;g++)l.push(Math.round(v[g]*(1-f)+c[g]*f));return l[3]=s,this.setSource(l),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,i.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function d(a,l,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?a+(l-a)*6*s:s<1/2?l:s<2/3?a+(l-a)*(2/3-s)*6:a}i.Color.fromRgb=function(a){return h.fromSource(h.sourceFromRgb(a))},i.Color.sourceFromRgb=function(a){var l=a.match(h.reRGBa);if(l){var s=parseInt(l[1],10)/(/%$/.test(l[1])?100:1)*(/%$/.test(l[1])?255:1),f=parseInt(l[2],10)/(/%$/.test(l[2])?100:1)*(/%$/.test(l[2])?255:1),v=parseInt(l[3],10)/(/%$/.test(l[3])?100:1)*(/%$/.test(l[3])?255:1);return[parseInt(s,10),parseInt(f,10),parseInt(v,10),l[4]?parseFloat(l[4]):1]}},i.Color.fromRgba=h.fromRgb,i.Color.fromHsl=function(a){return h.fromSource(h.sourceFromHsl(a))},i.Color.sourceFromHsl=function(a){var l=a.match(h.reHSLa);if(l){var s=(parseFloat(l[1])%360+360)%360/360,f=parseFloat(l[2])/(/%$/.test(l[2])?100:1),v=parseFloat(l[3])/(/%$/.test(l[3])?100:1),c,g,m;if(f===0)c=g=m=v;else{var b=v<=.5?v*(f+1):v+f-v*f,x=v*2-b;c=d(x,b,s+1/3),g=d(x,b,s),m=d(x,b,s-1/3)}return[Math.round(c*255),Math.round(g*255),Math.round(m*255),l[4]?parseFloat(l[4]):1]}},i.Color.fromHsla=h.fromHsl,i.Color.fromHex=function(a){return h.fromSource(h.sourceFromHex(a))},i.Color.sourceFromHex=function(a){if(a.match(h.reHex)){var l=a.slice(a.indexOf("#")+1),s=l.length===3||l.length===4,f=l.length===8||l.length===4,v=s?l.charAt(0)+l.charAt(0):l.substring(0,2),c=s?l.charAt(1)+l.charAt(1):l.substring(2,4),g=s?l.charAt(2)+l.charAt(2):l.substring(4,6),m=f?s?l.charAt(3)+l.charAt(3):l.substring(6,8):"FF";return[parseInt(v,16),parseInt(c,16),parseInt(g,16),parseFloat((parseInt(m,16)/255).toFixed(2))]}},i.Color.fromSource=function(a){var l=new h;return l.setSource(a),l}}(e),function(u){var i=u.fabric||(u.fabric={}),h=["e","se","s","sw","w","nw","n","ne","e"],d=["ns","nesw","ew","nwse"],a={},l="left",s="top",f="right",v="bottom",c="center",g={top:v,bottom:s,left:f,right:l,center:c},m=i.util.radiansToDegrees,b=Math.sign||function(W){return(W>0)-(W<0)||+W};function x(W,$){var V=W.angle+m(Math.atan2($.y,$.x))+360;return Math.round(V%360/45)}function w(W,$){var V=$.transform.target,J=V.canvas,X=i.util.object.clone($);X.target=V,J&&J.fire("object:"+W,X),V.fire(W,$)}function _(W,$){var V=$.canvas,J=V.uniScaleKey,X=W[J];return V.uniformScaling&&!X||!V.uniformScaling&&X}function S(W){return W.originX===c&&W.originY===c}function E(W,$,V){var J=W.lockScalingX,X=W.lockScalingY;return!!(J&&X||!$&&(J||X)&&V||J&&$==="x"||X&&$==="y")}function R(W,$,V){var J="not-allowed",X=_(W,V),te="";if($.x!==0&&$.y===0?te="x":$.x===0&&$.y!==0&&(te="y"),E(V,te,X))return J;var ue=x(V,$);return h[ue]+"-resize"}function N(W,$,V){var J="not-allowed";if($.x!==0&&V.lockSkewingY||$.y!==0&&V.lockSkewingX)return J;var X=x(V,$)%4;return d[X]+"-resize"}function K(W,$,V){return W[V.canvas.altActionKey]?a.skewCursorStyleHandler(W,$,V):a.scaleCursorStyleHandler(W,$,V)}function re(W,$,V){var J=W[V.canvas.altActionKey];if($.x===0)return J?"skewX":"scaleY";if($.y===0)return J?"skewY":"scaleX"}function ie(W,$,V){return V.lockRotation?"not-allowed":$.cursorStyle}function ne(W,$,V,J){return{e:W,transform:$,pointer:{x:V,y:J}}}function oe(W){return function($,V,J,X){var te=V.target,ue=te.getCenterPoint(),Se=te.translateToOriginPoint(ue,V.originX,V.originY),ge=W($,V,J,X);return te.setPositionByOrigin(Se,V.originX,V.originY),ge}}function de(W,$){return function(V,J,X,te){var ue=$(V,J,X,te);return ue&&w(W,ne(V,J,X,te)),ue}}function le(W,$,V,J,X){var te=W.target,ue=te.controls[W.corner],Se=te.canvas.getZoom(),ge=te.padding/Se,q=te.toLocalPoint(new i.Point(J,X),$,V);return q.x>=ge&&(q.x-=ge),q.x<=-ge&&(q.x+=ge),q.y>=ge&&(q.y-=ge),q.y<=ge&&(q.y+=ge),q.x-=ue.offsetX,q.y-=ue.offsetY,q}function Y(W){return W.flipX!==W.flipY}function C(W,$,V,J,X){if(W[$]!==0){var te=W._getTransformedDimensions()[J],ue=X/te*W[V];W.set(V,ue)}}function P(W,$,V,J){var X=$.target,te=X._getTransformedDimensions(0,X.skewY),ue=le($,$.originX,$.originY,V,J),Se=Math.abs(ue.x*2)-te.x,ge=X.skewX,q;Se<2?q=0:(q=m(Math.atan2(Se/X.scaleX,te.y/X.scaleY)),$.originX===l&&$.originY===v&&(q=-q),$.originX===f&&$.originY===s&&(q=-q),Y(X)&&(q=-q));var me=ge!==q;if(me){var we=X._getTransformedDimensions().y;X.set("skewX",q),C(X,"skewY","scaleY","y",we)}return me}function A(W,$,V,J){var X=$.target,te=X._getTransformedDimensions(X.skewX,0),ue=le($,$.originX,$.originY,V,J),Se=Math.abs(ue.y*2)-te.y,ge=X.skewY,q;Se<2?q=0:(q=m(Math.atan2(Se/X.scaleY,te.x/X.scaleX)),$.originX===l&&$.originY===v&&(q=-q),$.originX===f&&$.originY===s&&(q=-q),Y(X)&&(q=-q));var me=ge!==q;if(me){var we=X._getTransformedDimensions().x;X.set("skewY",q),C(X,"skewX","scaleX","x",we)}return me}function M(W,$,V,J){var X=$.target,te=X.skewX,ue,Se=$.originY;if(X.lockSkewingX)return!1;if(te===0){var ge=le($,c,c,V,J);ge.x>0?ue=l:ue=f}else te>0&&(ue=Se===s?l:f),te<0&&(ue=Se===s?f:l),Y(X)&&(ue=ue===l?f:l);$.originX=ue;var q=de("skewing",oe(P));return q(W,$,V,J)}function H(W,$,V,J){var X=$.target,te=X.skewY,ue,Se=$.originX;if(X.lockSkewingY)return!1;if(te===0){var ge=le($,c,c,V,J);ge.y>0?ue=s:ue=v}else te>0&&(ue=Se===l?s:v),te<0&&(ue=Se===l?v:s),Y(X)&&(ue=ue===s?v:s);$.originY=ue;var q=de("skewing",oe(A));return q(W,$,V,J)}function k(W,$,V,J){var X=$,te=X.target,ue=te.translateToOriginPoint(te.getCenterPoint(),X.originX,X.originY);if(te.lockRotation)return!1;var Se=Math.atan2(X.ey-ue.y,X.ex-ue.x),ge=Math.atan2(J-ue.y,V-ue.x),q=m(ge-Se+X.theta),me=!0;if(te.snapAngle>0){var we=te.snapAngle,Ee=te.snapThreshold||we,$e=Math.ceil(q/we)*we,Fe=Math.floor(q/we)*we;Math.abs(q-Fe)<Ee?q=Fe:Math.abs(q-$e)<Ee&&(q=$e)}return q<0&&(q=360+q),q%=360,me=te.angle!==q,te.angle=q,me}function T(W,$,V,J,X){X=X||{};var te=$.target,ue=te.lockScalingX,Se=te.lockScalingY,ge=X.by,q,me,we,Ee,$e=_(W,te),Fe=E(te,ge,$e),vt,je,Er=$.gestureScale;if(Fe)return!1;if(Er)me=$.scaleX*Er,we=$.scaleY*Er;else{if(q=le($,$.originX,$.originY,V,J),vt=ge!=="y"?b(q.x):1,je=ge!=="x"?b(q.y):1,$.signX||($.signX=vt),$.signY||($.signY=je),te.lockScalingFlip&&($.signX!==vt||$.signY!==je))return!1;if(Ee=te._getTransformedDimensions(),$e&&!ge){var an=Math.abs(q.x)+Math.abs(q.y),Bt=$.original,Zu=Math.abs(Ee.x*Bt.scaleX/te.scaleX)+Math.abs(Ee.y*Bt.scaleY/te.scaleY),io=an/Zu;me=Bt.scaleX*io,we=Bt.scaleY*io}else me=Math.abs(q.x*te.scaleX/Ee.x),we=Math.abs(q.y*te.scaleY/Ee.y);S($)&&(me*=2,we*=2),$.signX!==vt&&ge!=="y"&&($.originX=g[$.originX],me*=-1,$.signX=vt),$.signY!==je&&ge!=="x"&&($.originY=g[$.originY],we*=-1,$.signY=je)}var Pi=te.scaleX,zs=te.scaleY;return ge?(ge==="x"&&te.set("scaleX",me),ge==="y"&&te.set("scaleY",we)):(!ue&&te.set("scaleX",me),!Se&&te.set("scaleY",we)),Pi!==te.scaleX||zs!==te.scaleY}function D(W,$,V,J){return T(W,$,V,J)}function j(W,$,V,J){return T(W,$,V,J,{by:"x"})}function G(W,$,V,J){return T(W,$,V,J,{by:"y"})}function U(W,$,V,J){return W[$.target.canvas.altActionKey]?a.skewHandlerX(W,$,V,J):a.scalingY(W,$,V,J)}function Z(W,$,V,J){return W[$.target.canvas.altActionKey]?a.skewHandlerY(W,$,V,J):a.scalingX(W,$,V,J)}function ee(W,$,V,J){var X=$.target,te=le($,$.originX,$.originY,V,J),ue=X.strokeWidth/(X.strokeUniform?X.scaleX:1),Se=S($)?2:1,ge=X.width,q=Math.abs(te.x*Se/X.scaleX)-ue;return X.set("width",Math.max(q,0)),ge!==q}function se(W,$,V,J){var X=$.target,te=V-$.offsetX,ue=J-$.offsetY,Se=!X.get("lockMovementX")&&X.left!==te,ge=!X.get("lockMovementY")&&X.top!==ue;return Se&&X.set("left",te),ge&&X.set("top",ue),(Se||ge)&&w("moving",ne(W,$,V,J)),Se||ge}a.scaleCursorStyleHandler=R,a.skewCursorStyleHandler=N,a.scaleSkewCursorStyleHandler=K,a.rotationWithSnapping=de("rotating",oe(k)),a.scalingEqually=de("scaling",oe(D)),a.scalingX=de("scaling",oe(j)),a.scalingY=de("scaling",oe(G)),a.scalingYOrSkewingX=U,a.scalingXOrSkewingY=Z,a.changeWidth=de("resizing",oe(ee)),a.skewHandlerX=M,a.skewHandlerY=H,a.dragHandler=se,a.scaleOrSkewActionName=re,a.rotationStyleHandler=ie,a.fireEvent=w,a.wrapWithFixedAnchor=oe,a.wrapWithFireEvent=de,a.getLocalPoint=le,i.controlsUtils=a}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.degreesToRadians,d=i.controlsUtils;function a(s,f,v,c,g){c=c||{};var m=this.sizeX||c.cornerSize||g.cornerSize,b=this.sizeY||c.cornerSize||g.cornerSize,x=typeof c.transparentCorners<"u"?c.transparentCorners:g.transparentCorners,w=x?"stroke":"fill",_=!x&&(c.cornerStrokeColor||g.cornerStrokeColor),S=f,E=v,R;s.save(),s.fillStyle=c.cornerColor||g.cornerColor,s.strokeStyle=c.cornerStrokeColor||g.cornerStrokeColor,m>b?(R=m,s.scale(1,b/m),E=v*m/b):b>m?(R=b,s.scale(m/b,1),S=f*b/m):R=m,s.lineWidth=1,s.beginPath(),s.arc(S,E,R/2,0,2*Math.PI,!1),s[w](),_&&s.stroke(),s.restore()}function l(s,f,v,c,g){c=c||{};var m=this.sizeX||c.cornerSize||g.cornerSize,b=this.sizeY||c.cornerSize||g.cornerSize,x=typeof c.transparentCorners<"u"?c.transparentCorners:g.transparentCorners,w=x?"stroke":"fill",_=!x&&(c.cornerStrokeColor||g.cornerStrokeColor),S=m/2,E=b/2;s.save(),s.fillStyle=c.cornerColor||g.cornerColor,s.strokeStyle=c.cornerStrokeColor||g.cornerStrokeColor,s.lineWidth=1,s.translate(f,v),s.rotate(h(g.angle)),s[w+"Rect"](-S,-E,m,b),_&&s.strokeRect(-S,-E,m,b),s.restore()}d.renderCircleControl=a,d.renderSquareControl=l}(e),function(u){var i=u.fabric||(u.fabric={});function h(d){for(var a in d)this[a]=d[a]}i.Control=h,i.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(d,a){return a.cursorStyle},getActionName:function(d,a){return a.actionName},getVisibility:function(d,a){var l=d._controlsVisibility;return l&&typeof l[a]<"u"?l[a]:this.visible},setVisibility:function(d){this.visible=d},positionHandler:function(d,a){var l=i.util.transformPoint({x:this.x*d.x+this.offsetX,y:this.y*d.y+this.offsetY},a);return l},calcCornerCoords:function(d,a,l,s,f){var v,c,g,m,b=f?this.touchSizeX:this.sizeX,x=f?this.touchSizeY:this.sizeY;if(b&&x&&b!==x){var w=Math.atan2(x,b),_=Math.sqrt(b*b+x*x)/2,S=w-i.util.degreesToRadians(d),E=Math.PI/2-w-i.util.degreesToRadians(d);v=_*i.util.cos(S),c=_*i.util.sin(S),g=_*i.util.cos(E),m=_*i.util.sin(E)}else{var R=b&&x?b:a;_=R*.7071067812;var S=i.util.degreesToRadians(45-d);v=g=_*i.util.cos(S),c=m=_*i.util.sin(S)}return{tl:{x:l-m,y:s-g},tr:{x:l+v,y:s-c},bl:{x:l-v,y:s+c},br:{x:l+m,y:s+g}}},render:function(d,a,l,s,f){switch(s=s||{},s.cornerStyle||f.cornerStyle){case"circle":i.controlsUtils.renderCircleControl.call(this,d,a,l,s,f);break;default:i.controlsUtils.renderSquareControl.call(this,d,a,l,s,f)}}}}(e),function(){function u(l,s){var f=l.getAttribute("style"),v=l.getAttribute("offset")||0,c,g,m,b;if(v=parseFloat(v)/(/%$/.test(v)?100:1),v=v<0?0:v>1?1:v,f){var x=f.split(/\s*;\s*/);for(x[x.length-1]===""&&x.pop(),b=x.length;b--;){var w=x[b].split(/\s*:\s*/),_=w[0].trim(),S=w[1].trim();_==="stop-color"?c=S:_==="stop-opacity"&&(m=S)}}return c||(c=l.getAttribute("stop-color")||"rgb(0,0,0)"),m||(m=l.getAttribute("stop-opacity")),c=new t.Color(c),g=c.getAlpha(),m=isNaN(parseFloat(m))?1:parseFloat(m),m*=g*s,{offset:v,color:c.toRgb(),opacity:m}}function i(l){return{x1:l.getAttribute("x1")||0,y1:l.getAttribute("y1")||0,x2:l.getAttribute("x2")||"100%",y2:l.getAttribute("y2")||0}}function h(l){return{x1:l.getAttribute("fx")||l.getAttribute("cx")||"50%",y1:l.getAttribute("fy")||l.getAttribute("cy")||"50%",r1:0,x2:l.getAttribute("cx")||"50%",y2:l.getAttribute("cy")||"50%",r2:l.getAttribute("r")||"50%"}}var d=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(l){l||(l={}),l.coords||(l.coords={});var s,f=this;Object.keys(l).forEach(function(v){f[v]=l[v]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,s={x1:l.coords.x1||0,y1:l.coords.y1||0,x2:l.coords.x2||0,y2:l.coords.y2||0},this.type==="radial"&&(s.r1=l.coords.r1||0,s.r2=l.coords.r2||0),this.coords=s,this.colorStops=l.colorStops.slice()},addColorStop:function(l){for(var s in l){var f=new t.Color(l[s]);this.colorStops.push({offset:parseFloat(s),color:f.toRgb(),opacity:f.getAlpha()})}return this},toObject:function(l){var s={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,s,l),s},toSVG:function(l,g){var f=d(this.coords,!0),v,c,g=g||{},m,b,x=d(this.colorStops,!0),w=f.r1>f.r2,_=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),S=-this.offsetX,E=-this.offsetY,R=!!g.additionalTransform,N=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(x.sort(function(oe,de){return oe.offset-de.offset}),N==="objectBoundingBox"?(S/=l.width,E/=l.height):(S+=l.width/2,E+=l.height/2),l.type==="path"&&this.gradientUnits!=="percentage"&&(S-=l.pathOffset.x,E-=l.pathOffset.y),_[4]-=S,_[5]-=E,b='id="SVGID_'+this.id+'" gradientUnits="'+N+'"',b+=' gradientTransform="'+(R?g.additionalTransform+" ":"")+t.util.matrixToSVG(_)+'" ',this.type==="linear"?m=["<linearGradient ",b,' x1="',f.x1,'" y1="',f.y1,'" x2="',f.x2,'" y2="',f.y2,`">
`]:this.type==="radial"&&(m=["<radialGradient ",b,' cx="',w?f.x1:f.x2,'" cy="',w?f.y1:f.y2,'" r="',w?f.r1:f.r2,'" fx="',w?f.x2:f.x1,'" fy="',w?f.y2:f.y1,`">
`]),this.type==="radial"){if(w)for(x=x.concat(),x.reverse(),v=0,c=x.length;v<c;v++)x[v].offset=1-x[v].offset;var K=Math.min(f.r1,f.r2);if(K>0){var re=Math.max(f.r1,f.r2),ie=K/re;for(v=0,c=x.length;v<c;v++)x[v].offset+=ie*(1-x[v].offset)}}for(v=0,c=x.length;v<c;v++){var ne=x[v];m.push("<stop ",'offset="',ne.offset*100+"%",'" style="stop-color:',ne.color,typeof ne.opacity<"u"?";stop-opacity: "+ne.opacity:";",`"/>
`)}return m.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),m.join("")},toLive:function(l){var s,f=t.util.object.clone(this.coords),v,c;if(this.type){for(this.type==="linear"?s=l.createLinearGradient(f.x1,f.y1,f.x2,f.y2):this.type==="radial"&&(s=l.createRadialGradient(f.x1,f.y1,f.r1,f.x2,f.y2,f.r2)),v=0,c=this.colorStops.length;v<c;v++){var g=this.colorStops[v].color,m=this.colorStops[v].opacity,b=this.colorStops[v].offset;typeof m<"u"&&(g=new t.Color(g).setAlpha(m).toRgba()),s.addColorStop(b,g)}return s}}}),t.util.object.extend(t.Gradient,{fromElement:function(l,s,f,v){var c=parseFloat(f)/(/%$/.test(f)?100:1);c=c<0?0:c>1?1:c,isNaN(c)&&(c=1);var g=l.getElementsByTagName("stop"),m,b=l.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",x=l.getAttribute("gradientTransform")||"",w=[],_,S,E=0,R=0,N;for(l.nodeName==="linearGradient"||l.nodeName==="LINEARGRADIENT"?(m="linear",_=i(l)):(m="radial",_=h(l)),S=g.length;S--;)w.push(u(g[S],c));N=t.parseTransformAttribute(x),a(s,_,v,b),b==="pixels"&&(E=-s.left,R=-s.top);var K=new t.Gradient({id:l.getAttribute("id"),type:m,coords:_,colorStops:w,gradientUnits:b,gradientTransform:N,offsetX:E,offsetY:R});return K}});function a(l,s,f,v){var c,g;Object.keys(s).forEach(function(m){c=s[m],c==="Infinity"?g=1:c==="-Infinity"?g=0:(g=parseFloat(s[m],10),typeof c=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(c)&&(g*=.01,v==="pixels"&&((m==="x1"||m==="x2"||m==="r2")&&(g*=f.viewBoxWidth||f.width),(m==="y1"||m==="y2")&&(g*=f.viewBoxHeight||f.height)))),s[m]=g})}}(),function(){var u=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(i,h){if(i||(i={}),this.id=t.Object.__uid++,this.setOptions(i),!i.source||i.source&&typeof i.source!="string"){h&&h(this);return}else{var d=this;this.source=t.util.createImage(),t.util.loadImage(i.source,function(a,l){d.source=a,h&&h(d,l)},null,this.crossOrigin)}},toObject:function(i){var h=t.Object.NUM_FRACTION_DIGITS,d,a;return typeof this.source.src=="string"?d=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(d=this.source.toDataURL()),a={type:"pattern",source:d,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:u(this.offsetX,h),offsetY:u(this.offsetY,h),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,a,i),a},toSVG:function(i){var h=typeof this.source=="function"?this.source():this.source,d=h.width/i.width,a=h.height/i.height,l=this.offsetX/i.width,s=this.offsetY/i.height,f="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(a=1,s&&(a+=Math.abs(s))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(d=1,l&&(d+=Math.abs(l))),h.src?f=h.src:h.toDataURL&&(f=h.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+l+'" y="'+s+'" width="'+d+'" height="'+a+`">
<image x="0" y="0" width="`+h.width+'" height="'+h.height+'" xlink:href="'+f+`"></image>
</pattern>
`},setOptions:function(i){for(var h in i)this[h]=i[h]},toLive:function(i){var h=this.source;return!h||typeof h.src<"u"&&(!h.complete||h.naturalWidth===0||h.naturalHeight===0)?"":i.createPattern(h,this.repeat)}})}(),function(u){var i=u.fabric||(u.fabric={}),h=i.util.toFixed;if(i.Shadow){i.warn("fabric.Shadow is already defined.");return}i.Shadow=i.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(d){typeof d=="string"&&(d=this._parseShadow(d));for(var a in d)this[a]=d[a];this.id=i.Object.__uid++},_parseShadow:function(d){var a=d.trim(),l=i.Shadow.reOffsetsAndBlur.exec(a)||[],s=a.replace(i.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:s.trim(),offsetX:parseFloat(l[1],10)||0,offsetY:parseFloat(l[2],10)||0,blur:parseFloat(l[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(d){var a=40,l=40,s=i.Object.NUM_FRACTION_DIGITS,f=i.util.rotateVector({x:this.offsetX,y:this.offsetY},i.util.degreesToRadians(-d.angle)),v=20,c=new i.Color(this.color);return d.width&&d.height&&(a=h((Math.abs(f.x)+this.blur)/d.width,s)*100+v,l=h((Math.abs(f.y)+this.blur)/d.height,s)*100+v),d.flipX&&(f.x*=-1),d.flipY&&(f.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+l+'%" height="'+(100+2*l)+'%" x="-'+a+'%" width="'+(100+2*a)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+h(this.blur?this.blur/2:0,s)+`"></feGaussianBlur>
	<feOffset dx="`+h(f.x,s)+'" dy="'+h(f.y,s)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+c.toRgb()+'" flood-opacity="'+c.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var d={},a=i.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(l){this[l]!==a[l]&&(d[l]=this[l])},this),d}}),i.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var u=t.util.object.extend,i=t.util.getElementOffset,h=t.util.removeFromArray,d=t.util.toFixed,a=t.util.transformPoint,l=t.util.invertTransform,s=t.util.getNodeCanvas,f=t.util.createCanvasElement,v=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(c,g){g||(g={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(c,g)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(c,g){var m=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(c),this._initOptions(g),this.interactive||this._initRetinaScaling(),g.overlayImage&&this.setOverlayImage(g.overlayImage,m),g.backgroundImage&&this.setBackgroundImage(g.backgroundImage,m),g.backgroundColor&&this.setBackgroundColor(g.backgroundColor,m),g.overlayColor&&this.setOverlayColor(g.overlayColor,m),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var c=t.devicePixelRatio;this.__initRetinaScaling(c,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(c,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(c,g,m){g.setAttribute("width",this.width*c),g.setAttribute("height",this.height*c),m.scale(c,c)},calcOffset:function(){return this._offset=i(this.lowerCanvasEl),this},setOverlayImage:function(c,g,m){return this.__setBgOverlayImage("overlayImage",c,g,m)},setBackgroundImage:function(c,g,m){return this.__setBgOverlayImage("backgroundImage",c,g,m)},setOverlayColor:function(c,g){return this.__setBgOverlayColor("overlayColor",c,g)},setBackgroundColor:function(c,g){return this.__setBgOverlayColor("backgroundColor",c,g)},__setBgOverlayImage:function(c,g,m,b){return typeof g=="string"?t.util.loadImage(g,function(x,w){if(x){var _=new t.Image(x,b);this[c]=_,_.canvas=this}m&&m(x,w)},this,b&&b.crossOrigin):(b&&g.setOptions(b),this[c]=g,g&&(g.canvas=this),m&&m(g,!1)),this},__setBgOverlayColor:function(c,g,m){return this[c]=g,this._initGradient(g,c),this._initPattern(g,c,m),this},_createCanvasElement:function(){var c=f();if(!c||(c.style||(c.style={}),typeof c.getContext>"u"))throw v;return c},_initOptions:function(c){var g=this.lowerCanvasEl;this._setOptions(c),this.width=this.width||parseInt(g.width,10)||0,this.height=this.height||parseInt(g.height,10)||0,this.lowerCanvasEl.style&&(g.width=this.width,g.height=this.height,g.style.width=this.width+"px",g.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(c){c&&c.getContext?this.lowerCanvasEl=c:this.lowerCanvasEl=t.util.getById(c)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(c,g){return this.setDimensions({width:c},g)},setHeight:function(c,g){return this.setDimensions({height:c},g)},setDimensions:function(c,g){var m;g=g||{};for(var b in c)m=c[b],g.cssOnly||(this._setBackstoreDimension(b,c[b]),m+="px",this.hasLostContext=!0),g.backstoreOnly||this._setCssDimension(b,m);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),g.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(c,g){return this.lowerCanvasEl[c]=g,this.upperCanvasEl&&(this.upperCanvasEl[c]=g),this.cacheCanvasEl&&(this.cacheCanvasEl[c]=g),this[c]=g,this},_setCssDimension:function(c,g){return this.lowerCanvasEl.style[c]=g,this.upperCanvasEl&&(this.upperCanvasEl.style[c]=g),this.wrapperEl&&(this.wrapperEl.style[c]=g),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(c){var g=this._activeObject,m=this.backgroundImage,b=this.overlayImage,x,w,_;for(this.viewportTransform=c,w=0,_=this._objects.length;w<_;w++)x=this._objects[w],x.group||x.setCoords(!0);return g&&g.setCoords(),m&&m.setCoords(!0),b&&b.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(c,g){var m=c,b=this.viewportTransform.slice(0);c=a(c,l(this.viewportTransform)),b[0]=g,b[3]=g;var x=a(c,b);return b[4]+=m.x-x.x,b[5]+=m.y-x.y,this.setViewportTransform(b)},setZoom:function(c){return this.zoomToPoint(new t.Point(0,0),c),this},absolutePan:function(c){var g=this.viewportTransform.slice(0);return g[4]=-c.x,g[5]=-c.y,this.setViewportTransform(g)},relativePan:function(c){return this.absolutePan(new t.Point(-c.x-this.viewportTransform[4],-c.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(c){this.stateful&&c.setupState(),c._set("canvas",this),c.setCoords(),this.fire("object:added",{target:c}),c.fire("added")},_onObjectRemoved:function(c){this.fire("object:removed",{target:c}),c.fire("removed"),delete c.canvas},clearContext:function(c){return c.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var c=this.contextContainer;return this.renderCanvas(c,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var c={},g=this.width,m=this.height,b=l(this.viewportTransform);return c.tl=a({x:0,y:0},b),c.br=a({x:g,y:m},b),c.tr=new t.Point(c.br.x,c.tl.y),c.bl=new t.Point(c.tl.x,c.br.y),this.vptCoords=c,c},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(c,g){var m=this.viewportTransform,b=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(c),t.util.setImageSmoothing(c,this.imageSmoothingEnabled),this.fire("before:render",{ctx:c}),this._renderBackground(c),c.save(),c.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._renderObjects(c,g),c.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(c),b&&(b.canvas=this,b.shouldCache(),b._transformDone=!0,b.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(c)),this._renderOverlay(c),this.controlsAboveOverlay&&this.interactive&&this.drawControls(c),this.fire("after:render",{ctx:c})},drawClipPathOnCanvas:function(c){var g=this.viewportTransform,m=this.clipPath;c.save(),c.transform(g[0],g[1],g[2],g[3],g[4],g[5]),c.globalCompositeOperation="destination-in",m.transform(c),c.scale(1/m.zoomX,1/m.zoomY),c.drawImage(m._cacheCanvas,-m.cacheTranslationX,-m.cacheTranslationY),c.restore()},_renderObjects:function(c,g){var m,b;for(m=0,b=g.length;m<b;++m)g[m]&&g[m].render(c)},_renderBackgroundOrOverlay:function(c,g){var m=this[g+"Color"],b=this[g+"Image"],x=this.viewportTransform,w=this[g+"Vpt"];if(!(!m&&!b)){if(m){c.save(),c.beginPath(),c.moveTo(0,0),c.lineTo(this.width,0),c.lineTo(this.width,this.height),c.lineTo(0,this.height),c.closePath(),c.fillStyle=m.toLive?m.toLive(c,this):m,w&&c.transform(x[0],x[1],x[2],x[3],x[4],x[5]),c.transform(1,0,0,1,m.offsetX||0,m.offsetY||0);var _=m.gradientTransform||m.patternTransform;_&&c.transform(_[0],_[1],_[2],_[3],_[4],_[5]),c.fill(),c.restore()}b&&(c.save(),w&&c.transform(x[0],x[1],x[2],x[3],x[4],x[5]),b.render(c),c.restore())}},_renderBackground:function(c){this._renderBackgroundOrOverlay(c,"background")},_renderOverlay:function(c){this._renderBackgroundOrOverlay(c,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(c){return this._centerObject(c,new t.Point(this.getCenterPoint().x,c.getCenterPoint().y))},centerObjectV:function(c){return this._centerObject(c,new t.Point(c.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(c){var g=this.getCenterPoint();return this._centerObject(c,g)},viewportCenterObject:function(c){var g=this.getVpCenter();return this._centerObject(c,g)},viewportCenterObjectH:function(c){var g=this.getVpCenter();return this._centerObject(c,new t.Point(g.x,c.getCenterPoint().y)),this},viewportCenterObjectV:function(c){var g=this.getVpCenter();return this._centerObject(c,new t.Point(c.getCenterPoint().x,g.y))},getVpCenter:function(){var c=this.getCenterPoint(),g=l(this.viewportTransform);return a(c,g)},_centerObject:function(c,g){return c.setPositionByOrigin(g,"center","center"),c.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(c){return this.toDatalessObject(c)},toObject:function(c){return this._toObjectMethod("toObject",c)},toDatalessObject:function(c){return this._toObjectMethod("toDatalessObject",c)},_toObjectMethod:function(c,g){var m=this.clipPath,b={version:t.version,objects:this._toObjects(c,g)};return m&&!m.excludeFromExport&&(b.clipPath=this._toObject(this.clipPath,c,g)),u(b,this.__serializeBgOverlay(c,g)),t.util.populateWithProperties(this,b,g),b},_toObjects:function(c,g){return this._objects.filter(function(m){return!m.excludeFromExport}).map(function(m){return this._toObject(m,c,g)},this)},_toObject:function(c,g,m){var b;this.includeDefaultValues||(b=c.includeDefaultValues,c.includeDefaultValues=!1);var x=c[g](m);return this.includeDefaultValues||(c.includeDefaultValues=b),x},__serializeBgOverlay:function(c,g){var m={},b=this.backgroundImage,x=this.overlayImage,w=this.backgroundColor,_=this.overlayColor;return w&&w.toObject?w.excludeFromExport||(m.background=w.toObject(g)):w&&(m.background=w),_&&_.toObject?_.excludeFromExport||(m.overlay=_.toObject(g)):_&&(m.overlay=_),b&&!b.excludeFromExport&&(m.backgroundImage=this._toObject(b,c,g)),x&&!x.excludeFromExport&&(m.overlayImage=this._toObject(x,c,g)),m},svgViewportTransformation:!0,toSVG:function(c,g){c||(c={}),c.reviver=g;var m=[];return this._setSVGPreamble(m,c),this._setSVGHeader(m,c),this.clipPath&&m.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(m,"background"),this._setSVGBgOverlayImage(m,"backgroundImage",g),this._setSVGObjects(m,g),this.clipPath&&m.push(`</g>
`),this._setSVGBgOverlayColor(m,"overlay"),this._setSVGBgOverlayImage(m,"overlayImage",g),m.push("</svg>"),m.join("")},_setSVGPreamble:function(c,g){g.suppressPreamble||c.push('<?xml version="1.0" encoding="',g.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(c,g){var m=g.width||this.width,b=g.height||this.height,x,w='viewBox="0 0 '+this.width+" "+this.height+'" ',_=t.Object.NUM_FRACTION_DIGITS;g.viewBox?w='viewBox="'+g.viewBox.x+" "+g.viewBox.y+" "+g.viewBox.width+" "+g.viewBox.height+'" ':this.svgViewportTransformation&&(x=this.viewportTransform,w='viewBox="'+d(-x[4]/x[0],_)+" "+d(-x[5]/x[3],_)+" "+d(this.width/x[0],_)+" "+d(this.height/x[3],_)+'" '),c.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',m,'" ','height="',b,'" ',w,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(g),`</defs>
`)},createSVGClipPathMarkup:function(c){var g=this.clipPath;return g?(g.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+g.clipPathId+`" >
`+this.clipPath.toClipPathSVG(c.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var c=this,g=["background","overlay"].map(function(m){var b=c[m+"Color"];if(b&&b.toLive){var x=c[m+"Vpt"],w=c.viewportTransform,_={width:c.width/(x?w[0]:1),height:c.height/(x?w[3]:1)};return b.toSVG(_,{additionalTransform:x?t.util.matrixToSVG(w):""})}});return g.join("")},createSVGFontFacesMarkup:function(){var c="",g={},m,b,x,w,_,S,E,R,N,K=t.fontPaths,re=[];for(this._objects.forEach(function ne(oe){re.push(oe),oe._objects&&oe._objects.forEach(ne)}),R=0,N=re.length;R<N;R++)if(m=re[R],b=m.fontFamily,!(m.type.indexOf("text")===-1||g[b]||!K[b])&&(g[b]=!0,!!m.styles)){x=m.styles;for(_ in x){w=x[_];for(E in w)S=w[E],b=S.fontFamily,!g[b]&&K[b]&&(g[b]=!0)}}for(var ie in g)c+=[`		@font-face {
`,"			font-family: '",ie,`';
`,"			src: url('",K[ie],`');
`,`		}
`].join("");return c&&(c=['	<style type="text/css">',`<![CDATA[
`,c,"]]>",`</style>
`].join("")),c},_setSVGObjects:function(c,g){var m,b,x,w=this._objects;for(b=0,x=w.length;b<x;b++)m=w[b],!m.excludeFromExport&&this._setSVGObject(c,m,g)},_setSVGObject:function(c,g,m){c.push(g.toSVG(m))},_setSVGBgOverlayImage:function(c,g,m){this[g]&&!this[g].excludeFromExport&&this[g].toSVG&&c.push(this[g].toSVG(m))},_setSVGBgOverlayColor:function(c,g){var m=this[g+"Color"],b=this.viewportTransform,x=this.width,w=this.height;if(m)if(m.toLive){var _=m.repeat,S=t.util.invertTransform(b),E=this[g+"Vpt"],R=E?t.util.matrixToSVG(S):"";c.push('<rect transform="'+R+" translate(",x/2,",",w/2,')"',' x="',m.offsetX-x/2,'" y="',m.offsetY-w/2,'" ','width="',_==="repeat-y"||_==="no-repeat"?m.source.width:x,'" height="',_==="repeat-x"||_==="no-repeat"?m.source.height:w,'" fill="url(#SVGID_'+m.id+')"',`></rect>
`)}else c.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',m,'"',`></rect>
`)},sendToBack:function(c){if(!c)return this;var g=this._activeObject,m,b,x;if(c===g&&c.type==="activeSelection")for(x=g._objects,m=x.length;m--;)b=x[m],h(this._objects,b),this._objects.unshift(b);else h(this._objects,c),this._objects.unshift(c);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(c){if(!c)return this;var g=this._activeObject,m,b,x;if(c===g&&c.type==="activeSelection")for(x=g._objects,m=0;m<x.length;m++)b=x[m],h(this._objects,b),this._objects.push(b);else h(this._objects,c),this._objects.push(c);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(c,g){if(!c)return this;var m=this._activeObject,b,x,w,_,S,E=0;if(c===m&&c.type==="activeSelection")for(S=m._objects,b=0;b<S.length;b++)x=S[b],w=this._objects.indexOf(x),w>0+E&&(_=w-1,h(this._objects,x),this._objects.splice(_,0,x)),E++;else w=this._objects.indexOf(c),w!==0&&(_=this._findNewLowerIndex(c,w,g),h(this._objects,c),this._objects.splice(_,0,c));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(c,g,m){var b,x;if(m)for(b=g,x=g-1;x>=0;--x){var w=c.intersectsWithObject(this._objects[x])||c.isContainedWithinObject(this._objects[x])||this._objects[x].isContainedWithinObject(c);if(w){b=x;break}}else b=g-1;return b},bringForward:function(c,g){if(!c)return this;var m=this._activeObject,b,x,w,_,S,E=0;if(c===m&&c.type==="activeSelection")for(S=m._objects,b=S.length;b--;)x=S[b],w=this._objects.indexOf(x),w<this._objects.length-1-E&&(_=w+1,h(this._objects,x),this._objects.splice(_,0,x)),E++;else w=this._objects.indexOf(c),w!==this._objects.length-1&&(_=this._findNewUpperIndex(c,w,g),h(this._objects,c),this._objects.splice(_,0,c));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(c,g,m){var b,x,w;if(m)for(b=g,x=g+1,w=this._objects.length;x<w;++x){var _=c.intersectsWithObject(this._objects[x])||c.isContainedWithinObject(this._objects[x])||this._objects[x].isContainedWithinObject(c);if(_){b=x;break}}else b=g+1;return b},moveTo:function(c,g){return h(this._objects,c),this._objects.splice(g,0,c),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(c){c.dispose&&c.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),u(t.StaticCanvas.prototype,t.Observable),u(t.StaticCanvas.prototype,t.Collection),u(t.StaticCanvas.prototype,t.DataURLExporter),u(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(c){var g=f();if(!g||!g.getContext)return null;var m=g.getContext("2d");if(!m)return null;switch(c){case"setLineDash":return typeof m.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var c=s(this.lowerCanvasEl);return c&&c.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(c){var g=s(this.lowerCanvasEl);return g&&g.createJPEGStream(c)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(u){u.strokeStyle=this.color,u.lineWidth=this.width,u.lineCap=this.strokeLineCap,u.miterLimit=this.strokeMiterLimit,u.lineJoin=this.strokeLineJoin,u.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(u){var i=this.canvas.viewportTransform;u.save(),u.transform(i[0],i[1],i[2],i[3],i[4],i[5])},_setShadow:function(){if(this.shadow){var u=this.canvas,i=this.shadow,h=u.contextTop,d=u.getZoom();u&&u._isRetinaScaling()&&(d*=t.devicePixelRatio),h.shadowColor=i.color,h.shadowBlur=i.blur*d,h.shadowOffsetX=i.offsetX*d,h.shadowOffsetY=i.offsetY*d}},needsFullRender:function(){var u=new t.Color(this.color);return u.getAlpha()<1||!!this.shadow},_resetShadow:function(){var u=this.canvas.contextTop;u.shadowColor="",u.shadowBlur=u.shadowOffsetX=u.shadowOffsetY=0},_isOutSideCanvas:function(u){return u.x<0||u.x>this.canvas.getWidth()||u.y<0||u.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(u){this.canvas=u,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(u,i,h){var d=i.midPointFrom(h);return u.quadraticCurveTo(i.x,i.y,d.x,d.y),d},onMouseDown:function(u,i){this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],this._prepareForDrawing(u),this._captureDrawingPath(u),this._render())},onMouseMove:function(u,i){if(this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u))&&this._captureDrawingPath(u)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var h=this._points,d=h.length,a=this.canvas.contextTop;this._saveAndTransform(a),this.oldEnd&&(a.beginPath(),a.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(a,h[d-2],h[d-1],!0),a.stroke(),a.restore()}},onMouseUp:function(u){return this.canvas._isMainEvent(u.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(u){var i=new t.Point(u.x,u.y);this._reset(),this._addPoint(i),this.canvas.contextTop.moveTo(i.x,i.y)},_addPoint:function(u){return this._points.length>1&&u.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(u),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(u){var i=new t.Point(u.x,u.y);return this._addPoint(i)},_render:function(u){var i,h,d=this._points[0],a=this._points[1];if(u=u||this.canvas.contextTop,this._saveAndTransform(u),u.beginPath(),this._points.length===2&&d.x===a.x&&d.y===a.y){var l=this.width/1e3;d=new t.Point(d.x,d.y),a=new t.Point(a.x,a.y),d.x-=l,a.x+=l}for(u.moveTo(d.x,d.y),i=1,h=this._points.length;i<h;i++)this._drawSegment(u,d,a),d=this._points[i],a=this._points[i+1];u.lineTo(d.x,d.y),u.stroke(),u.restore()},convertPointsToSVGPath:function(u){var i=this.width/1e3;return t.util.getSmoothPathFromPoints(u,i)},_isEmptySVGPath:function(u){var i=t.util.joinPath(u);return i==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(u){var i=new t.Path(u,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,i.shadow=new t.Shadow(this.shadow)),i},decimatePoints:function(u,i){if(u.length<=2)return u;var h=this.canvas.getZoom(),d=Math.pow(i/h,2),a,l=u.length-1,s=u[0],f=[s],v;for(a=1;a<l-1;a++)v=Math.pow(s.x-u[a].x,2)+Math.pow(s.y-u[a].y,2),v>=d&&(s=u[a],f.push(s));return f.push(u[l]),f},_finalizeAndAddPath:function(){var u=this.canvas.contextTop;u.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var i=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(i)){this.canvas.requestRenderAll();return}var h=this.createPath(i);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.requestRenderAll(),h.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:h})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(u){this.canvas=u,this.points=[]},drawDot:function(u){var i=this.addPoint(u),h=this.canvas.contextTop;this._saveAndTransform(h),this.dot(h,i),h.restore()},dot:function(u,i){u.fillStyle=i.fill,u.beginPath(),u.arc(i.x,i.y,i.radius,0,Math.PI*2,!1),u.closePath(),u.fill()},onMouseDown:function(u){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(u)},_render:function(){var u=this.canvas.contextTop,i,h,d=this.points;for(this._saveAndTransform(u),i=0,h=d.length;i<h;i++)this.dot(u,d[i]);u.restore()},onMouseMove:function(u){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(u),this._render()):this.drawDot(u))},onMouseUp:function(){var u=this.canvas.renderOnAddRemove,i,h;this.canvas.renderOnAddRemove=!1;var d=[];for(i=0,h=this.points.length;i<h;i++){var a=this.points[i],l=new t.Circle({radius:a.radius,left:a.x,top:a.y,originX:"center",originY:"center",fill:a.fill});this.shadow&&(l.shadow=new t.Shadow(this.shadow)),d.push(l)}var s=new t.Group(d);s.canvas=this.canvas,this.canvas.fire("before:path:created",{path:s}),this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=u,this.canvas.requestRenderAll()},addPoint:function(u){var i=new t.Point(u.x,u.y),h=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,d=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return i.radius=h,i.fill=d,this.points.push(i),i}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(u){this.canvas=u,this.sprayChunks=[]},onMouseDown:function(u){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(u),this.render(this.sprayChunkPoints)},onMouseMove:function(u){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u)||(this.addSprayChunk(u),this.render(this.sprayChunkPoints))},onMouseUp:function(){var u=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var i=[],h=0,d=this.sprayChunks.length;h<d;h++)for(var a=this.sprayChunks[h],l=0,s=a.length;l<s;l++){var f=new t.Rect({width:a[l].width,height:a[l].width,left:a[l].x+1,top:a[l].y+1,originX:"center",originY:"center",fill:this.color});i.push(f)}this.optimizeOverlapping&&(i=this._getOptimizedRects(i));var v=new t.Group(i);this.shadow&&v.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:v}),this.canvas.add(v),this.canvas.fire("path:created",{path:v}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=u,this.canvas.requestRenderAll()},_getOptimizedRects:function(u){var i={},h,d,a;for(d=0,a=u.length;d<a;d++)h=u[d].left+""+u[d].top,i[h]||(i[h]=u[d]);var l=[];for(h in i)l.push(i[h]);return l},render:function(u){var i=this.canvas.contextTop,h,d;for(i.fillStyle=this.color,this._saveAndTransform(i),h=0,d=u.length;h<d;h++){var a=u[h];typeof a.opacity<"u"&&(i.globalAlpha=a.opacity),i.fillRect(a.x,a.y,a.width,a.width)}i.restore()},_render:function(){var u=this.canvas.contextTop,i,h;for(u.fillStyle=this.color,this._saveAndTransform(u),i=0,h=this.sprayChunks.length;i<h;i++)this.render(this.sprayChunks[i]);u.restore()},addSprayChunk:function(u){this.sprayChunkPoints=[];var i,h,d,a=this.width/2,l;for(l=0;l<this.density;l++){i=t.util.getRandomInt(u.x-a,u.x+a),h=t.util.getRandomInt(u.y-a,u.y+a),this.dotWidthVariance?d=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):d=this.dotWidth;var s=new t.Point(i,h);s.width=d,this.randomOpacity&&(s.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var u=20,i=5,h=t.util.createCanvasElement(),d=h.getContext("2d");return h.width=h.height=u+i,d.fillStyle=this.color,d.beginPath(),d.arc(u/2,u/2,u/2,0,Math.PI*2,!1),d.closePath(),d.fill(),h},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(u){return u.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(u){this.callSuper("_setBrushStyles",u),u.strokeStyle=this.getPattern(u)},createPath:function(u){var i=this.callSuper("createPath",u),h=i._getLeftTopCoords().scalarAdd(i.strokeWidth/2);return i.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-h.x,offsetY:-h.y}),i}}),function(){var u=t.util.getPointer,i=t.util.degreesToRadians,h=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(a,l){l||(l={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(a,l),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var a=this.getActiveObjects(),l,s,f;if(a.length>0&&!this.preserveObjectStacking){s=[],f=[];for(var v=0,c=this._objects.length;v<c;v++)l=this._objects[v],a.indexOf(l)===-1?s.push(l):f.push(l);a.length>1&&(this._activeObject._objects=f),s.push.apply(s,f)}else s=this._objects;return s},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var a=this.contextContainer;return this.renderCanvas(a,this._chooseObjectsToRender()),this},renderTopLayer:function(a){a.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(a),this.contextTopDirty=!0),a.restore()},renderTop:function(){var a=this.contextTop;return this.clearContext(a),this.renderTopLayer(a),this.fire("after:render"),this},_normalizePointer:function(a,l){var s=a.calcTransformMatrix(),f=t.util.invertTransform(s),v=this.restorePointerVpt(l);return t.util.transformPoint(v,f)},isTargetTransparent:function(a,l,s){if(a.shouldCache()&&a._cacheCanvas&&a!==this._activeObject){var f=this._normalizePointer(a,{x:l,y:s}),v=Math.max(a.cacheTranslationX+f.x*a.zoomX,0),c=Math.max(a.cacheTranslationY+f.y*a.zoomY,0),x=t.util.isTransparent(a._cacheContext,Math.round(v),Math.round(c),this.targetFindTolerance);return x}var g=this.contextCache,m=a.selectionBackgroundColor,b=this.viewportTransform;a.selectionBackgroundColor="",this.clearContext(g),g.save(),g.transform(b[0],b[1],b[2],b[3],b[4],b[5]),a.render(g),g.restore(),a.selectionBackgroundColor=m;var x=t.util.isTransparent(g,l,s,this.targetFindTolerance);return x},_isSelectionKeyPressed:function(a){var l=!1;return Array.isArray(this.selectionKey)?l=!!this.selectionKey.find(function(s){return a[s]===!0}):l=a[this.selectionKey],l},_shouldClearSelection:function(a,l){var s=this.getActiveObjects(),f=this._activeObject;return!l||l&&f&&s.length>1&&s.indexOf(l)===-1&&f!==l&&!this._isSelectionKeyPressed(a)||l&&!l.evented||l&&!l.selectable&&f&&f!==l},_shouldCenterTransform:function(a,l,s){if(a){var f;return l==="scale"||l==="scaleX"||l==="scaleY"||l==="resizing"?f=this.centeredScaling||a.centeredScaling:l==="rotate"&&(f=this.centeredRotation||a.centeredRotation),f?!s:s}},_getOriginFromCorner:function(a,l){var s={x:a.originX,y:a.originY};return l==="ml"||l==="tl"||l==="bl"?s.x="right":(l==="mr"||l==="tr"||l==="br")&&(s.x="left"),l==="tl"||l==="mt"||l==="tr"?s.y="bottom":(l==="bl"||l==="mb"||l==="br")&&(s.y="top"),s},_getActionFromCorner:function(a,l,s,f){if(!l||!a)return"drag";var v=f.controls[l];return v.getActionName(s,v,f)},_setupCurrentTransform:function(a,l,s){if(l){var f=this.getPointer(a),v=l.__corner,c=l.controls[v],g=s&&v?c.getActionHandler(a,l,c):t.controlsUtils.dragHandler,m=this._getActionFromCorner(s,v,a,l),b=this._getOriginFromCorner(l,v),x=a[this.centeredKey],w={target:l,action:m,actionHandler:g,corner:v,scaleX:l.scaleX,scaleY:l.scaleY,skewX:l.skewX,skewY:l.skewY,offsetX:f.x-l.left,offsetY:f.y-l.top,originX:b.x,originY:b.y,ex:f.x,ey:f.y,lastX:f.x,lastY:f.y,theta:i(l.angle),width:l.width*l.scaleX,shiftKey:a.shiftKey,altKey:x,original:t.util.saveObjectTransform(l)};this._shouldCenterTransform(l,m,x)&&(w.originX="center",w.originY="center"),w.original.originX=b.x,w.original.originY=b.y,this._currentTransform=w,this._beforeTransform(a)}},setCursor:function(a){this.upperCanvasEl.style.cursor=a},_drawSelection:function(a){var l=this._groupSelector,s=new t.Point(l.ex,l.ey),f=t.util.transformPoint(s,this.viewportTransform),v=new t.Point(l.ex+l.left,l.ey+l.top),c=t.util.transformPoint(v,this.viewportTransform),g=Math.min(f.x,c.x),m=Math.min(f.y,c.y),b=Math.max(f.x,c.x),x=Math.max(f.y,c.y),w=this.selectionLineWidth/2;this.selectionColor&&(a.fillStyle=this.selectionColor,a.fillRect(g,m,b-g,x-m)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(a.lineWidth=this.selectionLineWidth,a.strokeStyle=this.selectionBorderColor,g+=w,m+=w,b-=w,x-=w,t.Object.prototype._setLineDash.call(this,a,this.selectionDashArray),a.strokeRect(g,m,b-g,x-m))},findTarget:function(a,l){if(!this.skipTargetFind){var s=!0,f=this.getPointer(a,s),v=this._activeObject,c=this.getActiveObjects(),g,m,b=h(a),x=c.length>1&&!l||c.length===1;if(this.targets=[],x&&v._findTargetCorner(f,b)||c.length>1&&!l&&v===this._searchPossibleTargets([v],f))return v;if(c.length===1&&v===this._searchPossibleTargets([v],f))if(this.preserveObjectStacking)g=v,m=this.targets,this.targets=[];else return v;var w=this._searchPossibleTargets(this._objects,f);return a[this.altSelectionKey]&&w&&g&&w!==g&&(w=g,this.targets=m),w}},_checkTarget:function(a,l,s){if(l&&l.visible&&l.evented&&l.containsPoint(a))if((this.perPixelTargetFind||l.perPixelTargetFind)&&!l.isEditing){var f=this.isTargetTransparent(l,s.x,s.y);if(!f)return!0}else return!0},_searchPossibleTargets:function(a,l){for(var s,f=a.length,v;f--;){var c=a[f],g=c.group?this._normalizePointer(c.group,l):l;if(this._checkTarget(g,c,l)){s=a[f],s.subTargetCheck&&s instanceof t.Group&&(v=this._searchPossibleTargets(s._objects,l),v&&this.targets.push(v));break}}return s},restorePointerVpt:function(a){return t.util.transformPoint(a,t.util.invertTransform(this.viewportTransform))},getPointer:function(a,l){if(this._absolutePointer&&!l)return this._absolutePointer;if(this._pointer&&l)return this._pointer;var s=u(a),f=this.upperCanvasEl,v=f.getBoundingClientRect(),c=v.width||0,g=v.height||0,m;(!c||!g)&&("top"in v&&"bottom"in v&&(g=Math.abs(v.top-v.bottom)),"right"in v&&"left"in v&&(c=Math.abs(v.right-v.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,l||(s=this.restorePointerVpt(s));var b=this.getRetinaScaling();return b!==1&&(s.x/=b,s.y/=b),c===0||g===0?m={width:1,height:1}:m={width:f.width/c,height:f.height/g},{x:s.x*m.width,y:s.y*m.height}},_createUpperCanvas:function(){var a=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),l=this.lowerCanvasEl,s=this.upperCanvasEl;s?s.className="":(s=this._createCanvasElement(),this.upperCanvasEl=s),t.util.addClass(s,"upper-canvas "+a),this.wrapperEl.appendChild(s),this._copyCanvasStyle(l,s),this._applyCanvasStyle(s),this.contextTop=s.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(a){var l=this.width||a.width,s=this.height||a.height;t.util.setStyle(a,{position:"absolute",width:l+"px",height:s+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),a.width=l,a.height=s,t.util.makeElementUnselectable(a)},_copyCanvasStyle:function(a,l){l.style.cssText=a.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var a=this._activeObject;return a?a.type==="activeSelection"&&a._objects?a._objects.slice(0):[a]:[]},_onObjectRemoved:function(a){a===this._activeObject&&(this.fire("before:selection:cleared",{target:a}),this._discardActiveObject(),this.fire("selection:cleared",{target:a}),a.fire("deselected")),a===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",a)},_fireSelectionEvents:function(a,l){var s=!1,f=this.getActiveObjects(),v=[],c=[];a.forEach(function(g){f.indexOf(g)===-1&&(s=!0,g.fire("deselected",{e:l,target:g}),c.push(g))}),f.forEach(function(g){a.indexOf(g)===-1&&(s=!0,g.fire("selected",{e:l,target:g}),v.push(g))}),a.length>0&&f.length>0?s&&this.fire("selection:updated",{e:l,selected:v,deselected:c}):f.length>0?this.fire("selection:created",{e:l,selected:v}):a.length>0&&this.fire("selection:cleared",{e:l,deselected:c})},setActiveObject:function(a,l){var s=this.getActiveObjects();return this._setActiveObject(a,l),this._fireSelectionEvents(s,l),this},_setActiveObject:function(a,l){return this._activeObject===a||!this._discardActiveObject(l,a)||a.onSelect({e:l})?!1:(this._activeObject=a,!0)},_discardActiveObject:function(a,l){var s=this._activeObject;if(s){if(s.onDeselect({e:a,object:l}))return!1;this._activeObject=null}return!0},discardActiveObject:function(a){var l=this.getActiveObjects(),s=this.getActiveObject();return l.length&&this.fire("before:selection:cleared",{target:s,e:a}),this._discardActiveObject(a),this._fireSelectionEvents(l,a),this},dispose:function(){var a=this.wrapperEl;return this.removeListeners(),a.removeChild(this.upperCanvasEl),a.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(l){t.util.cleanUpJsdomNode(this[l]),this[l]=void 0}).bind(this)),a.parentNode&&a.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(a){var l=this._activeObject;l&&l._renderControls(a)},_toObject:function(a,l,s){var f=this._realizeGroupTransformOnObject(a),v=this.callSuper("_toObject",a,l,s);return this._unwindGroupTransformOnObject(a,f),v},_realizeGroupTransformOnObject:function(a){if(a.group&&a.group.type==="activeSelection"&&this._activeObject===a.group){var l=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],s={};return l.forEach(function(f){s[f]=a[f]}),t.util.addTransformToObject(a,this._activeObject.calcOwnMatrix()),s}else return null},_unwindGroupTransformOnObject:function(a,l){l&&a.set(l)},_setSVGObject:function(a,l,s){var f=this._realizeGroupTransformOnObject(l);this.callSuper("_setSVGObject",a,l,s),this._unwindGroupTransformOnObject(l,f)},setViewportTransform:function(a){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,a)}});for(var d in t.StaticCanvas)d!=="prototype"&&(t.Canvas[d]=t.StaticCanvas[d])}(),function(){var u=t.util.addListener,i=t.util.removeListener,h=3,d=2,a=1,l={passive:!1};function s(f,v){return f.button&&f.button===v-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(u,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(f,v){var c=this.upperCanvasEl,g=this._getEventPrefix();f(t.window,"resize",this._onResize),f(c,g+"down",this._onMouseDown),f(c,g+"move",this._onMouseMove,l),f(c,g+"out",this._onMouseOut),f(c,g+"enter",this._onMouseEnter),f(c,"wheel",this._onMouseWheel),f(c,"contextmenu",this._onContextMenu),f(c,"dblclick",this._onDoubleClick),f(c,"dragover",this._onDragOver),f(c,"dragenter",this._onDragEnter),f(c,"dragleave",this._onDragLeave),f(c,"drop",this._onDrop),this.enablePointerEvents||f(c,"touchstart",this._onTouchStart,l),typeof eventjs<"u"&&v in eventjs&&(eventjs[v](c,"gesture",this._onGesture),eventjs[v](c,"drag",this._onDrag),eventjs[v](c,"orientation",this._onOrientationChange),eventjs[v](c,"shake",this._onShake),eventjs[v](c,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var f=this._getEventPrefix();i(t.document,f+"up",this._onMouseUp),i(t.document,"touchend",this._onTouchEnd,l),i(t.document,f+"move",this._onMouseMove,l),i(t.document,"touchmove",this._onMouseMove,l)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(f,v){this.__onTransformGesture&&this.__onTransformGesture(f,v)},_onDrag:function(f,v){this.__onDrag&&this.__onDrag(f,v)},_onMouseWheel:function(f){this.__onMouseWheel(f)},_onMouseOut:function(f){var v=this._hoveredTarget;this.fire("mouse:out",{target:v,e:f}),this._hoveredTarget=null,v&&v.fire("mouseout",{e:f});var c=this;this._hoveredTargets.forEach(function(g){c.fire("mouse:out",{target:v,e:f}),g&&v.fire("mouseout",{e:f})}),this._hoveredTargets=[]},_onMouseEnter:function(f){!this._currentTransform&&!this.findTarget(f)&&(this.fire("mouse:over",{target:null,e:f}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(f,v){this.__onOrientationChange&&this.__onOrientationChange(f,v)},_onShake:function(f,v){this.__onShake&&this.__onShake(f,v)},_onLongPress:function(f,v){this.__onLongPress&&this.__onLongPress(f,v)},_onDragOver:function(f){f.preventDefault();var v=this._simpleEventHandler("dragover",f);this._fireEnterLeaveEvents(v,f)},_onDrop:function(f){return this._simpleEventHandler("drop:before",f),this._simpleEventHandler("drop",f)},_onContextMenu:function(f){return this.stopContextMenu&&(f.stopPropagation(),f.preventDefault()),!1},_onDoubleClick:function(f){this._cacheTransformEventData(f),this._handleEvent(f,"dblclick"),this._resetTransformEventData(f)},getPointerId:function(f){var v=f.changedTouches;return v?v[0]&&v[0].identifier:this.enablePointerEvents?f.pointerId:-1},_isMainEvent:function(f){return f.isPrimary===!0?!0:f.isPrimary===!1?!1:f.type==="touchend"&&f.touches.length===0?!0:f.changedTouches?f.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(f){f.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(f)),this.__onMouseDown(f),this._resetTransformEventData();var v=this.upperCanvasEl,c=this._getEventPrefix();u(t.document,"touchend",this._onTouchEnd,l),u(t.document,"touchmove",this._onMouseMove,l),i(v,c+"down",this._onMouseDown)},_onMouseDown:function(f){this.__onMouseDown(f),this._resetTransformEventData();var v=this.upperCanvasEl,c=this._getEventPrefix();i(v,c+"move",this._onMouseMove,l),u(t.document,c+"up",this._onMouseUp),u(t.document,c+"move",this._onMouseMove,l)},_onTouchEnd:function(f){if(!(f.touches.length>0)){this.__onMouseUp(f),this._resetTransformEventData(),this.mainTouchId=null;var v=this._getEventPrefix();i(t.document,"touchend",this._onTouchEnd,l),i(t.document,"touchmove",this._onMouseMove,l);var c=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){u(c.upperCanvasEl,v+"down",c._onMouseDown),c._willAddMouseDown=0},400)}},_onMouseUp:function(f){this.__onMouseUp(f),this._resetTransformEventData();var v=this.upperCanvasEl,c=this._getEventPrefix();this._isMainEvent(f)&&(i(t.document,c+"up",this._onMouseUp),i(t.document,c+"move",this._onMouseMove,l),u(v,c+"move",this._onMouseMove,l))},_onMouseMove:function(f){!this.allowTouchScrolling&&f.preventDefault&&f.preventDefault(),this.__onMouseMove(f)},_onResize:function(){this.calcOffset()},_shouldRender:function(f){var v=this._activeObject;return!!v!=!!f||v&&f&&v!==f?!0:(v&&v.isEditing,!1)},__onMouseUp:function(f){var v,c=this._currentTransform,g=this._groupSelector,m=!1,b=!g||g.left===0&&g.top===0;if(this._cacheTransformEventData(f),v=this._target,this._handleEvent(f,"up:before"),s(f,h)){this.fireRightClick&&this._handleEvent(f,"up",h,b);return}if(s(f,d)){this.fireMiddleClick&&this._handleEvent(f,"up",d,b),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(f);return}if(this._isMainEvent(f)){if(c&&(this._finalizeCurrentTransform(f),m=c.actionPerformed),!b){var x=v===this._activeObject;this._maybeGroupObjects(f),m||(m=this._shouldRender(v)||!x&&v===this._activeObject)}var w,_;if(v){if(w=v._findTargetCorner(this.getPointer(f,!0),t.util.isTouchEvent(f)),v.selectable&&v!==this._activeObject&&v.activeOn==="up")this.setActiveObject(v,f),m=!0;else{var S=v.controls[w],E=S&&S.getMouseUpHandler(f,v,S);E&&(_=this.getPointer(f),E(f,c,_.x,_.y))}v.isMoving=!1}if(c&&(c.target!==v||c.corner!==w)){var R=c.target&&c.target.controls[c.corner],N=R&&R.getMouseUpHandler(f,v,S);_=_||this.getPointer(f),N&&N(f,c,_.x,_.y)}this._setCursorFromEvent(f,v),this._handleEvent(f,"up",a,b),this._groupSelector=null,this._currentTransform=null,v&&(v.__corner=0),m?this.requestRenderAll():b||this.renderTop()}},_simpleEventHandler:function(f,v){var c=this.findTarget(v),g=this.targets,m={e:v,target:c,subTargets:g};if(this.fire(f,m),c&&c.fire(f,m),!g)return c;for(var b=0;b<g.length;b++)g[b].fire(f,m);return c},_handleEvent:function(f,v,c,g){var m=this._target,b=this.targets||[],x={e:f,target:m,subTargets:b,button:c||a,isClick:g||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};v==="up"&&(x.currentTarget=this.findTarget(f),x.currentSubTargets=this.targets),this.fire("mouse:"+v,x),m&&m.fire("mouse"+v,x);for(var w=0;w<b.length;w++)b[w].fire("mouse"+v,x)},_finalizeCurrentTransform:function(f){var v=this._currentTransform,c=v.target,g={e:f,target:c,transform:v,action:v.action};c._scaling&&(c._scaling=!1),c.setCoords(),(v.actionPerformed||this.stateful&&c.hasStateChanged())&&this._fire("modified",g)},_onMouseDownInDrawingMode:function(f){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(f).requestRenderAll();var v=this.getPointer(f);this.freeDrawingBrush.onMouseDown(v,{e:f,pointer:v}),this._handleEvent(f,"down")},_onMouseMoveInDrawingMode:function(f){if(this._isCurrentlyDrawing){var v=this.getPointer(f);this.freeDrawingBrush.onMouseMove(v,{e:f,pointer:v})}this.setCursor(this.freeDrawingCursor),this._handleEvent(f,"move")},_onMouseUpInDrawingMode:function(f){var v=this.getPointer(f);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:f,pointer:v}),this._handleEvent(f,"up")},__onMouseDown:function(f){this._cacheTransformEventData(f),this._handleEvent(f,"down:before");var v=this._target;if(s(f,h)){this.fireRightClick&&this._handleEvent(f,"down",h);return}if(s(f,d)){this.fireMiddleClick&&this._handleEvent(f,"down",d);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(f);return}if(this._isMainEvent(f)&&!this._currentTransform){var c=this._pointer;this._previousPointer=c;var g=this._shouldRender(v),m=this._shouldGroup(f,v);if(this._shouldClearSelection(f,v)?this.discardActiveObject(f):m&&(this._handleGrouping(f,v),v=this._activeObject),this.selection&&(!v||!v.selectable&&!v.isEditing&&v!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),v){var b=v===this._activeObject;v.selectable&&v.activeOn==="down"&&this.setActiveObject(v,f);var x=v._findTargetCorner(this.getPointer(f,!0),t.util.isTouchEvent(f));if(v.__corner=x,v===this._activeObject&&(x||!m)){this._setupCurrentTransform(f,v,b);var w=v.controls[x],c=this.getPointer(f),_=w&&w.getMouseDownHandler(f,v,w);_&&_(f,this._currentTransform,c.x,c.y)}}this._handleEvent(f,"down"),(g||m)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(f){this._resetTransformEventData(),this._pointer=this.getPointer(f,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(f)||null},_beforeTransform:function(f){var v=this._currentTransform;this.stateful&&v.target.saveState(),this.fire("before:transform",{e:f,transform:v})},__onMouseMove:function(f){this._handleEvent(f,"move:before"),this._cacheTransformEventData(f);var v,c;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(f);return}if(this._isMainEvent(f)){var g=this._groupSelector;g?(c=this._absolutePointer,g.left=c.x-g.ex,g.top=c.y-g.ey,this.renderTop()):this._currentTransform?this._transformObject(f):(v=this.findTarget(f)||null,this._setCursorFromEvent(f,v),this._fireOverOutEvents(v,f)),this._handleEvent(f,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(f,v){var c=this._hoveredTarget,g=this._hoveredTargets,m=this.targets,b=Math.max(g.length,m.length);this.fireSyntheticInOutEvents(f,v,{oldTarget:c,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var x=0;x<b;x++)this.fireSyntheticInOutEvents(m[x],v,{oldTarget:g[x],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=f,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(f,v){var c=this._draggedoverTarget,g=this._hoveredTargets,m=this.targets,b=Math.max(g.length,m.length);this.fireSyntheticInOutEvents(f,v,{oldTarget:c,evtOut:"dragleave",evtIn:"dragenter"});for(var x=0;x<b;x++)this.fireSyntheticInOutEvents(m[x],v,{oldTarget:g[x],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=f},fireSyntheticInOutEvents:function(f,v,c){var g,m,b=c.oldTarget,x,w,_=b!==f,S=c.canvasEvtIn,E=c.canvasEvtOut;_&&(g={e:v,target:f,previousTarget:b},m={e:v,target:b,nextTarget:f}),w=f&&_,x=b&&_,x&&(E&&this.fire(E,m),b.fire(c.evtOut,m)),w&&(S&&this.fire(S,g),f.fire(c.evtIn,g))},__onMouseWheel:function(f){this._cacheTransformEventData(f),this._handleEvent(f,"wheel"),this._resetTransformEventData()},_transformObject:function(f){var v=this.getPointer(f),c=this._currentTransform;c.reset=!1,c.shiftKey=f.shiftKey,c.altKey=f[this.centeredKey],this._performTransformAction(f,c,v),c.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(f,v,c){var g=c.x,m=c.y,b=v.action,x=!1,w=v.actionHandler;w&&(x=w(f,v,g,m)),b==="drag"&&x&&(v.target.isMoving=!0,this.setCursor(v.target.moveCursor||this.moveCursor)),v.actionPerformed=v.actionPerformed||x},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(f,v){if(!v)return this.setCursor(this.defaultCursor),!1;var c=v.hoverCursor||this.hoverCursor,g=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,m=(!g||!g.contains(v))&&v._findTargetCorner(this.getPointer(f,!0));m?this.setCursor(this.getCornerCursor(m,v,f)):(v.subTargetCheck&&this.targets.concat().reverse().map(function(b){c=b.hoverCursor||c}),this.setCursor(c))},getCornerCursor:function(f,v,c){var g=v.controls[f];return g.cursorStyleHandler(c,g,v)}})}(),function(){var u=Math.min,i=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(h,d){var a=this._activeObject;return a&&this._isSelectionKeyPressed(h)&&d&&d.selectable&&this.selection&&(a!==d||a.type==="activeSelection")&&!d.onSelect({e:h})},_handleGrouping:function(h,d){var a=this._activeObject;a.__corner||d===a&&(d=this.findTarget(h,!0),!d||!d.selectable)||(a&&a.type==="activeSelection"?this._updateActiveSelection(d,h):this._createActiveSelection(d,h))},_updateActiveSelection:function(h,d){var a=this._activeObject,l=a._objects.slice(0);a.contains(h)?(a.removeWithUpdate(h),this._hoveredTarget=h,this._hoveredTargets=this.targets.concat(),a.size()===1&&this._setActiveObject(a.item(0),d)):(a.addWithUpdate(h),this._hoveredTarget=a,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(l,d)},_createActiveSelection:function(h,d){var a=this.getActiveObjects(),l=this._createGroup(h);this._hoveredTarget=l,this._setActiveObject(l,d),this._fireSelectionEvents(a,d)},_createGroup:function(h){var d=this._objects,a=d.indexOf(this._activeObject)<d.indexOf(h),l=a?[this._activeObject,h]:[h,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(l,{canvas:this})},_groupSelectedObjects:function(h){var d=this._collectObjects(h),a;d.length===1?this.setActiveObject(d[0],h):d.length>1&&(a=new t.ActiveSelection(d.reverse(),{canvas:this}),this.setActiveObject(a,h))},_collectObjects:function(h){for(var d=[],a,l=this._groupSelector.ex,s=this._groupSelector.ey,f=l+this._groupSelector.left,v=s+this._groupSelector.top,c=new t.Point(u(l,f),u(s,v)),g=new t.Point(i(l,f),i(s,v)),m=!this.selectionFullyContained,b=l===f&&s===v,x=this._objects.length;x--&&(a=this._objects[x],!(!(!a||!a.selectable||!a.visible)&&(m&&a.intersectsWithRect(c,g,!0)||a.isContainedWithinRect(c,g,!0)||m&&a.containsPoint(c,null,!0)||m&&a.containsPoint(g,null,!0))&&(d.push(a),b))););return d.length>1&&(d=d.filter(function(w){return!w.onSelect({e:h})})),d},_maybeGroupObjects:function(h){this.selection&&this._groupSelector&&this._groupSelectedObjects(h),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(u){u||(u={});var i=u.format||"png",h=u.quality||1,d=(u.multiplier||1)*(u.enableRetinaScaling?this.getRetinaScaling():1),a=this.toCanvasElement(d,u);return t.util.toDataURL(a,i,h)},toCanvasElement:function(u,i){u=u||1,i=i||{};var h=(i.width||this.width)*u,d=(i.height||this.height)*u,a=this.getZoom(),l=this.width,s=this.height,f=a*u,v=this.viewportTransform,c=(v[4]-(i.left||0))*u,g=(v[5]-(i.top||0))*u,m=this.interactive,b=[f,0,0,f,c,g],x=this.enableRetinaScaling,w=t.util.createCanvasElement(),_=this.contextTop;return w.width=h,w.height=d,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=b,this.width=h,this.height=d,this.calcViewportBoundaries(),this.renderCanvas(w.getContext("2d"),this._objects),this.viewportTransform=v,this.width=l,this.height=s,this.calcViewportBoundaries(),this.interactive=m,this.enableRetinaScaling=x,this.contextTop=_,w}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(u,i,h){if(u){var d=typeof u=="string"?JSON.parse(u):t.util.object.clone(u),a=this,l=d.clipPath,s=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete d.clipPath,this._enlivenObjects(d.objects,function(f){a.clear(),a._setBgOverlay(d,function(){l?a._enlivenObjects([l],function(v){a.clipPath=v[0],a.__setupCanvas.call(a,d,f,s,i)}):a.__setupCanvas.call(a,d,f,s,i)})},h),this}},__setupCanvas:function(u,i,h,d){var a=this;i.forEach(function(l,s){a.insertAt(l,s)}),this.renderOnAddRemove=h,delete u.objects,delete u.backgroundImage,delete u.overlayImage,delete u.background,delete u.overlay,this._setOptions(u),this.renderAll(),d&&d()},_setBgOverlay:function(u,i){var h={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!u.backgroundImage&&!u.overlayImage&&!u.background&&!u.overlay){i&&i();return}var d=function(){h.backgroundImage&&h.overlayImage&&h.backgroundColor&&h.overlayColor&&i&&i()};this.__setBgOverlay("backgroundImage",u.backgroundImage,h,d),this.__setBgOverlay("overlayImage",u.overlayImage,h,d),this.__setBgOverlay("backgroundColor",u.background,h,d),this.__setBgOverlay("overlayColor",u.overlay,h,d)},__setBgOverlay:function(u,i,h,d){var a=this;if(!i){h[u]=!0,d&&d();return}u==="backgroundImage"||u==="overlayImage"?t.util.enlivenObjects([i],function(l){a[u]=l[0],h[u]=!0,d&&d()}):this["set"+t.util.string.capitalize(u,!0)](i,function(){h[u]=!0,d&&d()})},_enlivenObjects:function(u,i,h){if(!u||u.length===0){i&&i([]);return}t.util.enlivenObjects(u,function(d){i&&i(d)},null,h)},_toDataURL:function(u,i){this.clone(function(h){i(h.toDataURL(u))})},_toDataURLWithMultiplier:function(u,i,h){this.clone(function(d){h(d.toDataURLWithMultiplier(u,i))})},clone:function(u,i){var h=JSON.stringify(this.toJSON(i));this.cloneWithoutData(function(d){d.loadFromJSON(h,function(){u&&u(d)})})},cloneWithoutData:function(u){var i=t.util.createCanvasElement();i.width=this.width,i.height=this.height;var h=new t.Canvas(i);this.backgroundImage?(h.setBackgroundImage(this.backgroundImage.src,function(){h.renderAll(),u&&u(h)}),h.backgroundImageOpacity=this.backgroundImageOpacity,h.backgroundImageStretch=this.backgroundImageStretch):u&&u(h)}}),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.util.object.clone,a=i.util.toFixed,l=i.util.string.capitalize,s=i.util.degreesToRadians,f=!i.isLikelyNode,v=2;i.Object||(i.Object=i.util.createClass(i.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:f,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(c){c&&this.setOptions(c)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=i.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(c){var g=i.perfLimitSizeTotal,m=c.width,b=c.height,x=i.maxCacheSideLimit,w=i.minCacheSideLimit;if(m<=x&&b<=x&&m*b<=g)return m<w&&(c.width=w),b<w&&(c.height=w),c;var _=m/b,S=i.util.limitDimsByArea(_,g),E=i.util.capValue,R=E(w,S.x,x),N=E(w,S.y,x);return m>R&&(c.zoomX/=m/R,c.width=R,c.capped=!0),b>N&&(c.zoomY/=b/N,c.height=N,c.capped=!0),c},_getCacheCanvasDimensions:function(){var c=this.getTotalObjectScaling(),g=this._getTransformedDimensions(0,0),m=g.x*c.scaleX/this.scaleX,b=g.y*c.scaleY/this.scaleY;return{width:m+v,height:b+v,zoomX:c.scaleX,zoomY:c.scaleY,x:m,y:b}},_updateCacheCanvas:function(){var c=this.canvas;if(this.noScaleCache&&c&&c._currentTransform){var g=c._currentTransform.target,m=c._currentTransform.action;if(this===g&&m.slice&&m.slice(0,5)==="scale")return!1}var b=this._cacheCanvas,x=this._limitCacheSize(this._getCacheCanvasDimensions()),w=i.minCacheSideLimit,_=x.width,S=x.height,E,R,N=x.zoomX,K=x.zoomY,re=_!==this.cacheWidth||S!==this.cacheHeight,ie=this.zoomX!==N||this.zoomY!==K,ne=re||ie,oe=0,de=0,le=!1;if(re){var Y=this._cacheCanvas.width,C=this._cacheCanvas.height,P=_>Y||S>C,A=(_<Y*.9||S<C*.9)&&Y>w&&C>w;le=P||A,P&&!x.capped&&(_>w||S>w)&&(oe=_*.1,de=S*.1)}return this instanceof i.Text&&this.path&&(ne=!0,le=!0,oe+=this.getHeightOfLine(0)*this.zoomX,de+=this.getHeightOfLine(0)*this.zoomY),ne?(le?(b.width=Math.ceil(_+oe),b.height=Math.ceil(S+de)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,b.width,b.height)),E=x.x/2,R=x.y/2,this.cacheTranslationX=Math.round(b.width/2-E)+E,this.cacheTranslationY=Math.round(b.height/2-R)+R,this.cacheWidth=_,this.cacheHeight=S,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(N,K),this.zoomX=N,this.zoomY=K,!0):!1},setOptions:function(c){this._setOptions(c),this._initGradient(c.fill,"fill"),this._initGradient(c.stroke,"stroke"),this._initPattern(c.fill,"fill"),this._initPattern(c.stroke,"stroke")},transform:function(c){var g=this.group&&!this.group._transformDone||this.group&&this.canvas&&c===this.canvas.contextTop,m=this.calcTransformMatrix(!g);c.transform(m[0],m[1],m[2],m[3],m[4],m[5])},toObject:function(c){var g=i.Object.NUM_FRACTION_DIGITS,m={type:this.type,version:i.version,originX:this.originX,originY:this.originY,left:a(this.left,g),top:a(this.top,g),width:a(this.width,g),height:a(this.height,g),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:a(this.strokeWidth,g),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:a(this.strokeMiterLimit,g),scaleX:a(this.scaleX,g),scaleY:a(this.scaleY,g),angle:a(this.angle,g),flipX:this.flipX,flipY:this.flipY,opacity:a(this.opacity,g),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:a(this.skewX,g),skewY:a(this.skewY,g)};return this.clipPath&&!this.clipPath.excludeFromExport&&(m.clipPath=this.clipPath.toObject(c),m.clipPath.inverted=this.clipPath.inverted,m.clipPath.absolutePositioned=this.clipPath.absolutePositioned),i.util.populateWithProperties(this,m,c),this.includeDefaultValues||(m=this._removeDefaultValues(m)),m},toDatalessObject:function(c){return this.toObject(c)},_removeDefaultValues:function(c){var g=i.util.getKlass(c.type).prototype,m=g.stateProperties;return m.forEach(function(b){b==="left"||b==="top"||(c[b]===g[b]&&delete c[b],Array.isArray(c[b])&&Array.isArray(g[b])&&c[b].length===0&&g[b].length===0&&delete c[b])}),c},toString:function(){return"#<fabric."+l(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var c=i.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(c.scaleX),scaleY:Math.abs(c.scaleY)}},getTotalObjectScaling:function(){var c=this.getObjectScaling(),g=c.scaleX,m=c.scaleY;if(this.canvas){var b=this.canvas.getZoom(),x=this.canvas.getRetinaScaling();g*=b*x,m*=b*x}return{scaleX:g,scaleY:m}},getObjectOpacity:function(){var c=this.opacity;return this.group&&(c*=this.group.getObjectOpacity()),c},_set:function(c,g){var m=c==="scaleX"||c==="scaleY",b=this[c]!==g,x=!1;return m&&(g=this._constrainScale(g)),c==="scaleX"&&g<0?(this.flipX=!this.flipX,g*=-1):c==="scaleY"&&g<0?(this.flipY=!this.flipY,g*=-1):c==="shadow"&&g&&!(g instanceof i.Shadow)?g=new i.Shadow(g):c==="dirty"&&this.group&&this.group.set("dirty",g),this[c]=g,b&&(x=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(c)>-1?(this.dirty=!0,x&&this.group.set("dirty",!0)):x&&this.stateProperties.indexOf(c)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:i.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(c){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(c.save(),this._setupCompositeOperation(c),this.drawSelectionBackground(c),this.transform(c),this._setOpacity(c),this._setShadow(c,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(c)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(c),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),c.restore())},renderCache:function(c){c=c||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,c.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(c,g){if(c.save(),g.inverted?c.globalCompositeOperation="destination-out":c.globalCompositeOperation="destination-in",g.absolutePositioned){var m=i.util.invertTransform(this.calcTransformMatrix());c.transform(m[0],m[1],m[2],m[3],m[4],m[5])}g.transform(c),c.scale(1/g.zoomX,1/g.zoomY),c.drawImage(g._cacheCanvas,-g.cacheTranslationX,-g.cacheTranslationY),c.restore()},drawObject:function(c,g){var m=this.fill,b=this.stroke;g?(this.fill="black",this.stroke="",this._setClippingProperties(c)):this._renderBackground(c),this._render(c),this._drawClipPath(c,this.clipPath),this.fill=m,this.stroke=b},_drawClipPath:function(c,g){g&&(g.canvas=this.canvas,g.shouldCache(),g._transformDone=!0,g.renderCache({forClipping:!0}),this.drawClipPathOnCache(c,g))},drawCacheOnCanvas:function(c){c.scale(1/this.zoomX,1/this.zoomY),c.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(c){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!c&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!c){var g=this.cacheWidth/this.zoomX,m=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-g/2,-m/2,g,m)}return!0}return!1},_renderBackground:function(c){if(this.backgroundColor){var g=this._getNonTransformedDimensions();c.fillStyle=this.backgroundColor,c.fillRect(-g.x/2,-g.y/2,g.x,g.y),this._removeShadow(c)}},_setOpacity:function(c){this.group&&!this.group._transformDone?c.globalAlpha=this.getObjectOpacity():c.globalAlpha*=this.opacity},_setStrokeStyles:function(c,g){var m=g.stroke;m&&(c.lineWidth=g.strokeWidth,c.lineCap=g.strokeLineCap,c.lineDashOffset=g.strokeDashOffset,c.lineJoin=g.strokeLineJoin,c.miterLimit=g.strokeMiterLimit,m.toLive?m.gradientUnits==="percentage"||m.gradientTransform||m.patternTransform?this._applyPatternForTransformedGradient(c,m):(c.strokeStyle=m.toLive(c,this),this._applyPatternGradientTransform(c,m)):c.strokeStyle=g.stroke)},_setFillStyles:function(c,g){var m=g.fill;m&&(m.toLive?(c.fillStyle=m.toLive(c,this),this._applyPatternGradientTransform(c,g.fill)):c.fillStyle=m)},_setClippingProperties:function(c){c.globalAlpha=1,c.strokeStyle="transparent",c.fillStyle="#000000"},_setLineDash:function(c,g){!g||g.length===0||(1&g.length&&g.push.apply(g,g),c.setLineDash(g))},_renderControls:function(c,g){var m=this.getViewportTransform(),b=this.calcTransformMatrix(),x,w,_;g=g||{},w=typeof g.hasBorders<"u"?g.hasBorders:this.hasBorders,_=typeof g.hasControls<"u"?g.hasControls:this.hasControls,b=i.util.multiplyTransformMatrices(m,b),x=i.util.qrDecompose(b),c.save(),c.translate(x.translateX,x.translateY),c.lineWidth=1*this.borderScaleFactor,this.group||(c.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(x.angle-=180),c.rotate(s(this.group?x.angle:this.angle)),g.forActiveSelection||this.group?w&&this.drawBordersInGroup(c,x,g):w&&this.drawBorders(c,g),_&&this.drawControls(c,g),c.restore()},_setShadow:function(c){if(this.shadow){var g=this.shadow,m=this.canvas,b,x=m&&m.viewportTransform[0]||1,w=m&&m.viewportTransform[3]||1;g.nonScaling?b={scaleX:1,scaleY:1}:b=this.getObjectScaling(),m&&m._isRetinaScaling()&&(x*=i.devicePixelRatio,w*=i.devicePixelRatio),c.shadowColor=g.color,c.shadowBlur=g.blur*i.browserShadowBlurConstant*(x+w)*(b.scaleX+b.scaleY)/4,c.shadowOffsetX=g.offsetX*x*b.scaleX,c.shadowOffsetY=g.offsetY*w*b.scaleY}},_removeShadow:function(c){this.shadow&&(c.shadowColor="",c.shadowBlur=c.shadowOffsetX=c.shadowOffsetY=0)},_applyPatternGradientTransform:function(c,g){if(!g||!g.toLive)return{offsetX:0,offsetY:0};var m=g.gradientTransform||g.patternTransform,b=-this.width/2+g.offsetX||0,x=-this.height/2+g.offsetY||0;return g.gradientUnits==="percentage"?c.transform(this.width,0,0,this.height,b,x):c.transform(1,0,0,1,b,x),m&&c.transform(m[0],m[1],m[2],m[3],m[4],m[5]),{offsetX:b,offsetY:x}},_renderPaintInOrder:function(c){this.paintFirst==="stroke"?(this._renderStroke(c),this._renderFill(c)):(this._renderFill(c),this._renderStroke(c))},_render:function(){},_renderFill:function(c){this.fill&&(c.save(),this._setFillStyles(c,this),this.fillRule==="evenodd"?c.fill("evenodd"):c.fill(),c.restore())},_renderStroke:function(c){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(c),c.save(),this.strokeUniform&&this.group){var g=this.getObjectScaling();c.scale(1/g.scaleX,1/g.scaleY)}else this.strokeUniform&&c.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(c,this.strokeDashArray),this._setStrokeStyles(c,this),c.stroke(),c.restore()}},_applyPatternForTransformedGradient:function(c,g){var m=this._limitCacheSize(this._getCacheCanvasDimensions()),b=i.util.createCanvasElement(),x,w=this.canvas.getRetinaScaling(),_=m.x/this.scaleX/w,S=m.y/this.scaleY/w;b.width=_,b.height=S,x=b.getContext("2d"),x.beginPath(),x.moveTo(0,0),x.lineTo(_,0),x.lineTo(_,S),x.lineTo(0,S),x.closePath(),x.translate(_/2,S/2),x.scale(m.zoomX/this.scaleX/w,m.zoomY/this.scaleY/w),this._applyPatternGradientTransform(x,g),x.fillStyle=g.toLive(c),x.fill(),c.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),c.scale(w*this.scaleX/m.zoomX,w*this.scaleY/m.zoomY),c.strokeStyle=x.createPattern(b,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var c=i.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",c.scaleX),this.set("scaleY",c.scaleY),this.angle=c.angle,this.skewX=c.skewX,this.skewY=0}},_removeTransformMatrix:function(c){var g=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),g=i.util.transformPoint(g,this.transformMatrix)),this.transformMatrix=null,c&&(this.scaleX*=c.scaleX,this.scaleY*=c.scaleY,this.cropX=c.cropX,this.cropY=c.cropY,g.x+=c.offsetLeft,g.y+=c.offsetTop,this.width=c.width,this.height=c.height),this.setPositionByOrigin(g,"center","center")},clone:function(c,g){var m=this.toObject(g);this.constructor.fromObject?this.constructor.fromObject(m,c):i.Object._fromObject("Object",m,c)},cloneAsImage:function(c,g){var m=this.toCanvasElement(g);return c&&c(new i.Image(m)),this},toCanvasElement:function(c){c||(c={});var g=i.util,m=g.saveObjectTransform(this),b=this.group,x=this.shadow,w=Math.abs,_=(c.multiplier||1)*(c.enableRetinaScaling?i.devicePixelRatio:1);delete this.group,c.withoutTransform&&g.resetObjectTransform(this),c.withoutShadow&&(this.shadow=null);var S=i.util.createCanvasElement(),E=this.getBoundingRect(!0,!0),R=this.shadow,N,K={x:0,y:0},re,ie,ne;R&&(re=R.blur,R.nonScaling?N={scaleX:1,scaleY:1}:N=this.getObjectScaling(),K.x=2*Math.round(w(R.offsetX)+re)*w(N.scaleX),K.y=2*Math.round(w(R.offsetY)+re)*w(N.scaleY)),ie=E.width+K.x,ne=E.height+K.y,S.width=Math.ceil(ie),S.height=Math.ceil(ne);var oe=new i.StaticCanvas(S,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});c.format==="jpeg"&&(oe.backgroundColor="#fff"),this.setPositionByOrigin(new i.Point(oe.width/2,oe.height/2),"center","center");var de=this.canvas;oe.add(this);var le=oe.toCanvasElement(_||1,c);return this.shadow=x,this.set("canvas",de),b&&(this.group=b),this.set(m).setCoords(),oe._objects=[],oe.dispose(),oe=null,le},toDataURL:function(c){return c||(c={}),i.util.toDataURL(this.toCanvasElement(c),c.format||"png",c.quality||1)},isType:function(c){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===c},complexity:function(){return 1},toJSON:function(c){return this.toObject(c)},rotate:function(c){var g=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return g&&this._setOriginToCenter(),this.set("angle",c),g&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(c,g){g=g||this.canvas.getPointer(c);var m=new i.Point(g.x,g.y),b=this._getLeftTopCoords();return this.angle&&(m=i.util.rotatePoint(m,b,s(-this.angle))),{x:m.x-b.x,y:m.y-b.y}},_setupCompositeOperation:function(c){this.globalCompositeOperation&&(c.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){i.runningAnimations&&i.runningAnimations.cancelByTarget(this)}}),i.util.createAccessors&&i.util.createAccessors(i.Object),h(i.Object.prototype,i.Observable),i.Object.NUM_FRACTION_DIGITS=2,i.Object.ENLIVEN_PROPS=["clipPath"],i.Object._fromObject=function(c,g,m,b){var x=i[c];g=d(g,!0),i.util.enlivenPatterns([g.fill,g.stroke],function(w){typeof w[0]<"u"&&(g.fill=w[0]),typeof w[1]<"u"&&(g.stroke=w[1]),i.util.enlivenObjectEnlivables(g,g,function(){var _=b?new x(g[b],g):new x(g);m&&m(_)})})},i.Object.__uid=0)}(e),function(){var u=t.util.degreesToRadians,i={left:-.5,center:0,right:.5},h={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(d,a,l,s,f){var v=d.x,c=d.y,g,m,b;return typeof a=="string"?a=i[a]:a-=.5,typeof s=="string"?s=i[s]:s-=.5,g=s-a,typeof l=="string"?l=h[l]:l-=.5,typeof f=="string"?f=h[f]:f-=.5,m=f-l,(g||m)&&(b=this._getTransformedDimensions(),v=d.x+g*b.x,c=d.y+m*b.y),new t.Point(v,c)},translateToCenterPoint:function(d,a,l){var s=this.translateToGivenOrigin(d,a,l,"center","center");return this.angle?t.util.rotatePoint(s,d,u(this.angle)):s},translateToOriginPoint:function(d,a,l){var s=this.translateToGivenOrigin(d,"center","center",a,l);return this.angle?t.util.rotatePoint(s,d,u(this.angle)):s},getCenterPoint:function(){var d=new t.Point(this.left,this.top);return this.translateToCenterPoint(d,this.originX,this.originY)},getPointByOrigin:function(d,a){var l=this.getCenterPoint();return this.translateToOriginPoint(l,d,a)},toLocalPoint:function(d,a,l){var s=this.getCenterPoint(),f,v;return typeof a<"u"&&typeof l<"u"?f=this.translateToGivenOrigin(s,"center","center",a,l):f=new t.Point(this.left,this.top),v=new t.Point(d.x,d.y),this.angle&&(v=t.util.rotatePoint(v,s,-u(this.angle))),v.subtractEquals(f)},setPositionByOrigin:function(d,a,l){var s=this.translateToCenterPoint(d,a,l),f=this.translateToOriginPoint(s,this.originX,this.originY);this.set("left",f.x),this.set("top",f.y)},adjustPosition:function(d){var a=u(this.angle),l=this.getScaledWidth(),s=t.util.cos(a)*l,f=t.util.sin(a)*l,v,c;typeof this.originX=="string"?v=i[this.originX]:v=this.originX-.5,typeof d=="string"?c=i[d]:c=d-.5,this.left+=s*(c-v),this.top+=f*(c-v),this.setCoords(),this.originX=d},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var d=this.getCenterPoint();this.originX="center",this.originY="center",this.left=d.x,this.top=d.y},_resetOrigin:function(){var d=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=d.x,this.top=d.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function u(l){return[new t.Point(l.tl.x,l.tl.y),new t.Point(l.tr.x,l.tr.y),new t.Point(l.br.x,l.br.y),new t.Point(l.bl.x,l.bl.y)]}var i=t.util,h=i.degreesToRadians,d=i.multiplyTransformMatrices,a=i.transformPoint;i.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(l,s){return s?l?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),l?this.aCoords:this.lineCoords)},getCoords:function(l,s){return u(this._getCoords(l,s))},intersectsWithRect:function(l,s,f,v){var c=this.getCoords(f,v),g=t.Intersection.intersectPolygonRectangle(c,l,s);return g.status==="Intersection"},intersectsWithObject:function(l,s,f){var v=t.Intersection.intersectPolygonPolygon(this.getCoords(s,f),l.getCoords(s,f));return v.status==="Intersection"||l.isContainedWithinObject(this,s,f)||this.isContainedWithinObject(l,s,f)},isContainedWithinObject:function(l,s,f){for(var v=this.getCoords(s,f),c=s?l.aCoords:l.lineCoords,g=0,m=l._getImageLines(c);g<4;g++)if(!l.containsPoint(v[g],m))return!1;return!0},isContainedWithinRect:function(l,s,f,v){var c=this.getBoundingRect(f,v);return c.left>=l.x&&c.left+c.width<=s.x&&c.top>=l.y&&c.top+c.height<=s.y},containsPoint:function(l,g,f,v){var c=this._getCoords(f,v),g=g||this._getImageLines(c),m=this._findCrossPoints(l,g);return m!==0&&m%2===1},isOnScreen:function(l){if(!this.canvas)return!1;var s=this.canvas.vptCoords.tl,f=this.canvas.vptCoords.br,v=this.getCoords(!0,l);return v.some(function(c){return c.x<=f.x&&c.x>=s.x&&c.y<=f.y&&c.y>=s.y})||this.intersectsWithRect(s,f,!0,l)?!0:this._containsCenterOfCanvas(s,f,l)},_containsCenterOfCanvas:function(l,s,f){var v={x:(l.x+s.x)/2,y:(l.y+s.y)/2};return!!this.containsPoint(v,null,!0,f)},isPartiallyOnScreen:function(l){if(!this.canvas)return!1;var s=this.canvas.vptCoords.tl,f=this.canvas.vptCoords.br;if(this.intersectsWithRect(s,f,!0,l))return!0;var v=this.getCoords(!0,l).every(function(c){return(c.x>=f.x||c.x<=s.x)&&(c.y>=f.y||c.y<=s.y)});return v&&this._containsCenterOfCanvas(s,f,l)},_getImageLines:function(l){var s={topline:{o:l.tl,d:l.tr},rightline:{o:l.tr,d:l.br},bottomline:{o:l.br,d:l.bl},leftline:{o:l.bl,d:l.tl}};return s},_findCrossPoints:function(l,s){var f,v,c,g,m,b=0,x;for(var w in s)if(x=s[w],!(x.o.y<l.y&&x.d.y<l.y)&&!(x.o.y>=l.y&&x.d.y>=l.y)&&(x.o.x===x.d.x&&x.o.x>=l.x?m=x.o.x:(f=0,v=(x.d.y-x.o.y)/(x.d.x-x.o.x),c=l.y-f*l.x,g=x.o.y-v*x.o.x,m=-(c-g)/(f-v)),m>=l.x&&(b+=1),b===2))break;return b},getBoundingRect:function(l,s){var f=this.getCoords(l,s);return i.makeBoundingBoxFromPoints(f)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(l){return Math.abs(l)<this.minScaleLimit?l<0?-this.minScaleLimit:this.minScaleLimit:l===0?1e-4:l},scale:function(l){return this._set("scaleX",l),this._set("scaleY",l),this.setCoords()},scaleToWidth:function(l,s){var f=this.getBoundingRect(s).width/this.getScaledWidth();return this.scale(l/this.width/f)},scaleToHeight:function(l,s){var f=this.getBoundingRect(s).height/this.getScaledHeight();return this.scale(l/this.height/f)},calcLineCoords:function(){var l=this.getViewportTransform(),s=this.padding,f=h(this.angle),v=i.cos(f),c=i.sin(f),g=v*s,m=c*s,b=g+m,x=g-m,w=this.calcACoords(),_={tl:a(w.tl,l),tr:a(w.tr,l),bl:a(w.bl,l),br:a(w.br,l)};return s&&(_.tl.x-=x,_.tl.y-=b,_.tr.x+=b,_.tr.y-=x,_.bl.x-=b,_.bl.y+=x,_.br.x+=x,_.br.y+=b),_},calcOCoords:function(){var l=this._calcRotateMatrix(),s=this._calcTranslateMatrix(),f=this.getViewportTransform(),v=d(f,s),c=d(v,l),c=d(c,[1/f[0],0,0,1/f[3],0,0]),g=this._calculateCurrentDimensions(),m={};return this.forEachControl(function(b,x,w){m[x]=b.positionHandler(g,c,w)}),m},calcACoords:function(){var l=this._calcRotateMatrix(),s=this._calcTranslateMatrix(),f=d(s,l),v=this._getTransformedDimensions(),c=v.x/2,g=v.y/2;return{tl:a({x:-c,y:-g},f),tr:a({x:c,y:-g},f),bl:a({x:-c,y:g},f),br:a({x:c,y:g},f)}},setCoords:function(l){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),l?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var l=this.getCenterPoint();return[1,0,0,1,l.x,l.y]},transformMatrixKey:function(l){var s="_",f="";return!l&&this.group&&(f=this.group.transformMatrixKey(l)+s),f+this.top+s+this.left+s+this.scaleX+s+this.scaleY+s+this.skewX+s+this.skewY+s+this.angle+s+this.originX+s+this.originY+s+this.width+s+this.height+s+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(l){var s=this.calcOwnMatrix();if(l||!this.group)return s;var f=this.transformMatrixKey(l),v=this.matrixCache||(this.matrixCache={});return v.key===f?v.value:(this.group&&(s=d(this.group.calcTransformMatrix(!1),s)),v.key=f,v.value=s,s)},calcOwnMatrix:function(){var l=this.transformMatrixKey(!0),s=this.ownMatrixCache||(this.ownMatrixCache={});if(s.key===l)return s.value;var f=this._calcTranslateMatrix(),v={angle:this.angle,translateX:f[4],translateY:f[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return s.key=l,s.value=i.composeMatrix(v),s.value},_getNonTransformedDimensions:function(){var l=this.strokeWidth,s=this.width+l,f=this.height+l;return{x:s,y:f}},_getTransformedDimensions:function(l,s){typeof l>"u"&&(l=this.skewX),typeof s>"u"&&(s=this.skewY);var f,v,c,g=l===0&&s===0;if(this.strokeUniform?(v=this.width,c=this.height):(f=this._getNonTransformedDimensions(),v=f.x,c=f.y),g)return this._finalizeDimensions(v*this.scaleX,c*this.scaleY);var m=i.sizeAfterTransform(v,c,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:l,skewY:s});return this._finalizeDimensions(m.x,m.y)},_finalizeDimensions:function(l,s){return this.strokeUniform?{x:l+this.strokeWidth,y:s+this.strokeWidth}:{x:l,y:s}},_calculateCurrentDimensions:function(){var l=this.getViewportTransform(),s=this._getTransformedDimensions(),f=a(s,l,!0);return f.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(u){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,u):this.canvas&&this.canvas.sendBackwards(this,u),this},bringForward:function(u){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,u):this.canvas&&this.canvas.bringForward(this,u),this},moveTo:function(u){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,u):this.canvas&&this.canvas.moveTo(this,u),this}}),function(){function u(h,d){if(d){if(d.toLive)return h+": url(#SVGID_"+d.id+"); ";var a=new t.Color(d),l=h+": "+a.toRgb()+"; ",s=a.getAlpha();return s!==1&&(l+=h+"-opacity: "+s.toString()+"; "),l}else return h+": none; "}var i=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(h){var d=this.fillRule?this.fillRule:"nonzero",a=this.strokeWidth?this.strokeWidth:"0",l=this.strokeDashArray?this.strokeDashArray.join(" "):"none",s=this.strokeDashOffset?this.strokeDashOffset:"0",f=this.strokeLineCap?this.strokeLineCap:"butt",v=this.strokeLineJoin?this.strokeLineJoin:"miter",c=this.strokeMiterLimit?this.strokeMiterLimit:"4",g=typeof this.opacity<"u"?this.opacity:"1",m=this.visible?"":" visibility: hidden;",b=h?"":this.getSvgFilter(),x=u("fill",this.fill),w=u("stroke",this.stroke);return[w,"stroke-width: ",a,"; ","stroke-dasharray: ",l,"; ","stroke-linecap: ",f,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",v,"; ","stroke-miterlimit: ",c,"; ",x,"fill-rule: ",d,"; ","opacity: ",g,";",b,m].join("")},getSvgSpanStyles:function(h,d){var a="; ",s=h.fontFamily?"font-family: "+(h.fontFamily.indexOf("'")===-1&&h.fontFamily.indexOf('"')===-1?"'"+h.fontFamily+"'":h.fontFamily)+a:"",l=h.strokeWidth?"stroke-width: "+h.strokeWidth+a:"",s=s,f=h.fontSize?"font-size: "+h.fontSize+"px"+a:"",v=h.fontStyle?"font-style: "+h.fontStyle+a:"",c=h.fontWeight?"font-weight: "+h.fontWeight+a:"",g=h.fill?u("fill",h.fill):"",m=h.stroke?u("stroke",h.stroke):"",b=this.getSvgTextDecoration(h),x=h.deltaY?"baseline-shift: "+-h.deltaY+"; ":"";return b&&(b="text-decoration: "+b+a),[m,l,s,f,v,c,b,g,x,d?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(h){return["overline","underline","line-through"].filter(function(d){return h[d.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(h,d){var a=h?this.calcTransformMatrix():this.calcOwnMatrix(),l='transform="'+t.util.matrixToSVG(a);return l+(d||"")+'" '},_setSVGBg:function(h){if(this.backgroundColor){var d=t.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,d),'" y="',i(-this.height/2,d),'" width="',i(this.width,d),'" height="',i(this.height,d),`"></rect>
`)}},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(h),{reviver:h})},toClipPathSVG:function(h){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(h),{reviver:h})},_createBaseClipPathSVGMarkup:function(h,d){d=d||{};var a=d.reviver,l=d.additionalTransform||"",s=[this.getSvgTransform(!0,l),this.getSvgCommons()].join(""),f=h.indexOf("COMMON_PARTS");return h[f]=s,a?a(h.join("")):h.join("")},_createBaseSVGMarkup:function(h,d){d=d||{};var a=d.noStyle,l=d.reviver,s=a?"":'style="'+this.getSvgStyles()+'" ',f=d.withShadow?'style="'+this.getSvgFilter()+'" ':"",v=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",g=v&&v.absolutePositioned,m=this.stroke,b=this.fill,x=this.shadow,w,_=[],S,E=h.indexOf("COMMON_PARTS"),R=d.additionalTransform;return v&&(v.clipPathId="CLIPPATH_"+t.Object.__uid++,S='<clipPath id="'+v.clipPathId+`" >
`+v.toClipPathSVG(l)+`</clipPath>
`),g&&_.push("<g ",f,this.getSvgCommons(),` >
`),_.push("<g ",this.getSvgTransform(!1),g?"":f+this.getSvgCommons(),` >
`),w=[s,c,a?"":this.addPaintOrder()," ",R?'transform="'+R+'" ':""].join(""),h[E]=w,b&&b.toLive&&_.push(b.toSVG(this)),m&&m.toLive&&_.push(m.toSVG(this)),x&&_.push(x.toSVG(this)),v&&_.push(S),_.push(h.join("")),_.push(`</g>
`),g&&_.push(`</g>
`),l?l(_.join("")):_.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var u=t.util.object.extend,i="stateProperties";function h(a,l,s){var f={},v=!0;s.forEach(function(c){f[c]=a[c]}),u(a[l],f,v)}function d(a,l,s){if(a===l)return!0;if(Array.isArray(a)){if(!Array.isArray(l)||a.length!==l.length)return!1;for(var f=0,v=a.length;f<v;f++)if(!d(a[f],l[f]))return!1;return!0}else if(a&&typeof a=="object"){var c=Object.keys(a),g;if(!l||typeof l!="object"||!s&&c.length!==Object.keys(l).length)return!1;for(var f=0,v=c.length;f<v;f++)if(g=c[f],!(g==="canvas"||g==="group")&&!d(a[g],l[g]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(a){a=a||i;var l="_"+a;return Object.keys(this[l]).length<this[a].length?!0:!d(this[l],this,!0)},saveState:function(a){var l=a&&a.propertySet||i,s="_"+l;return this[s]?(h(this,s,this[l]),a&&a.stateProperties&&h(this,s,a.stateProperties),this):this.setupState(a)},setupState:function(a){a=a||{};var l=a.propertySet||i;return a.propertySet=l,this["_"+l]={},this.saveState(a),this}})}(),function(){var u=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(i,h){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var d=i.x,a=i.y,l,s,f=Object.keys(this.oCoords),v=f.length-1,c;for(this.__corner=0;v>=0;v--)if(c=f[v],!!this.isControlVisible(c)&&(s=this._getImageLines(h?this.oCoords[c].touchCorner:this.oCoords[c].corner),l=this._findCrossPoints({x:d,y:a},s),l!==0&&l%2===1))return this.__corner=c,c;return!1},forEachControl:function(i){for(var h in this.controls)i(this.controls[h],h,this)},_setCornerCoords:function(){var i=this.oCoords;for(var h in i){var d=this.controls[h];i[h].corner=d.calcCornerCoords(this.angle,this.cornerSize,i[h].x,i[h].y,!1),i[h].touchCorner=d.calcCornerCoords(this.angle,this.touchCornerSize,i[h].x,i[h].y,!0)}},drawSelectionBackground:function(i){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;i.save();var h=this.getCenterPoint(),d=this._calculateCurrentDimensions(),a=this.canvas.viewportTransform;return i.translate(h.x,h.y),i.scale(1/a[0],1/a[3]),i.rotate(u(this.angle)),i.fillStyle=this.selectionBackgroundColor,i.fillRect(-d.x/2,-d.y/2,d.x,d.y),i.restore(),this},drawBorders:function(i,h){h=h||{};var d=this._calculateCurrentDimensions(),a=this.borderScaleFactor,l=d.x+a,s=d.y+a,f=typeof h.hasControls<"u"?h.hasControls:this.hasControls,v=!1;return i.save(),i.strokeStyle=h.borderColor||this.borderColor,this._setLineDash(i,h.borderDashArray||this.borderDashArray),i.strokeRect(-l/2,-s/2,l,s),f&&(i.beginPath(),this.forEachControl(function(c,g,m){c.withConnection&&c.getVisibility(m,g)&&(v=!0,i.moveTo(c.x*l,c.y*s),i.lineTo(c.x*l+c.offsetX,c.y*s+c.offsetY))}),v&&i.stroke()),i.restore(),this},drawBordersInGroup:function(i,h,d){d=d||{};var a=t.util.sizeAfterTransform(this.width,this.height,h),l=this.strokeWidth,s=this.strokeUniform,f=this.borderScaleFactor,v=a.x+l*(s?this.canvas.getZoom():h.scaleX)+f,c=a.y+l*(s?this.canvas.getZoom():h.scaleY)+f;return i.save(),this._setLineDash(i,d.borderDashArray||this.borderDashArray),i.strokeStyle=d.borderColor||this.borderColor,i.strokeRect(-v/2,-c/2,v,c),i.restore(),this},drawControls:function(i,h){h=h||{},i.save();var d=this.canvas.getRetinaScaling(),a,l;return i.setTransform(d,0,0,d,0,0),i.strokeStyle=i.fillStyle=h.cornerColor||this.cornerColor,this.transparentCorners||(i.strokeStyle=h.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(i,h.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(a=this.group.calcTransformMatrix()),this.forEachControl(function(s,f,v){l=v.oCoords[f],s.getVisibility(v,f)&&(a&&(l=t.util.transformPoint(l,a)),s.render(i,l.x,l.y,h,v))}),i.restore(),this},isControlVisible:function(i){return this.controls[i]&&this.controls[i].getVisibility(this,i)},setControlVisible:function(i,h){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[i]=h,this},setControlsVisibility:function(i){i||(i={});for(var h in i)this.setControlVisible(h,i[h]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(u,i){i=i||{};var h=function(){},d=i.onComplete||h,a=i.onChange||h,l=this;return t.util.animate({target:this,startValue:u.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(s){u.set("left",s),l.requestRenderAll(),a()},onComplete:function(){u.setCoords(),d()}})},fxCenterObjectV:function(u,i){i=i||{};var h=function(){},d=i.onComplete||h,a=i.onChange||h,l=this;return t.util.animate({target:this,startValue:u.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(s){u.set("top",s),l.requestRenderAll(),a()},onComplete:function(){u.setCoords(),d()}})},fxRemove:function(u,i){i=i||{};var h=function(){},d=i.onComplete||h,a=i.onChange||h,l=this;return t.util.animate({target:this,startValue:u.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(s){u.set("opacity",s),l.requestRenderAll(),a()},onComplete:function(){l.remove(u),d()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var u=[],i,h,d=[];for(i in arguments[0])u.push(i);for(var a=0,l=u.length;a<l;a++)i=u[a],h=a!==l-1,d.push(this._animate(i,arguments[0][i],arguments[1],h));return d}else return this._animate.apply(this,arguments)},_animate:function(u,i,h,d){var a=this,l;i=i.toString(),h?h=t.util.object.clone(h):h={},~u.indexOf(".")&&(l=u.split("."));var s=a.colorProperties.indexOf(u)>-1||l&&a.colorProperties.indexOf(l[1])>-1,f=l?this.get(l[0])[l[1]]:this.get(u);"from"in h||(h.from=f),s||(~i.indexOf("=")?i=f+parseFloat(i.replace("=","")):i=parseFloat(i));var v={target:this,startValue:h.from,endValue:i,byValue:h.by,easing:h.easing,duration:h.duration,abort:h.abort&&function(c,g,m){return h.abort.call(a,c,g,m)},onChange:function(c,g,m){l?a[l[0]][l[1]]=c:a.set(u,c),!d&&h.onChange&&h.onChange(c,g,m)},onComplete:function(c,g,m){d||(a.setCoords(),h.onComplete&&h.onComplete(c,g,m))}};return s?t.util.animateColor(v.startValue,v.endValue,v.duration,v):t.util.animate(v)}}),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.util.object.clone,a={x1:1,x2:1,y1:1,y2:1};if(i.Line){i.warn("fabric.Line is already defined");return}i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:i.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(s,f){s||(s=[0,0,0,0]),this.callSuper("initialize",f),this.set("x1",s[0]),this.set("y1",s[1]),this.set("x2",s[2]),this.set("y2",s[3]),this._setWidthHeight(f)},_setWidthHeight:function(s){s||(s={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in s?s.left:this._getLeftToOriginX(),this.top="top"in s?s.top:this._getTopToOriginY()},_set:function(s,f){return this.callSuper("_set",s,f),typeof a[s]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:l({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:l({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(s){s.beginPath();var f=this.calcLinePoints();s.moveTo(f.x1,f.y1),s.lineTo(f.x2,f.y2),s.lineWidth=this.strokeWidth;var v=s.strokeStyle;s.strokeStyle=this.stroke||s.fillStyle,this.stroke&&this._renderStroke(s),s.strokeStyle=v},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(s){return h(this.callSuper("toObject",s),this.calcLinePoints())},_getNonTransformedDimensions:function(){var s=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(s.y-=this.strokeWidth),this.height===0&&(s.x-=this.strokeWidth)),s},calcLinePoints:function(){var s=this.x1<=this.x2?-1:1,f=this.y1<=this.y2?-1:1,v=s*this.width*.5,c=f*this.height*.5,g=s*this.width*-.5,m=f*this.height*-.5;return{x1:v,x2:g,y1:c,y2:m}},_toSVG:function(){var s=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',s.x1,'" y1="',s.y1,'" x2="',s.x2,'" y2="',s.y2,`" />
`]}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(s,f,v){v=v||{};var c=i.parseAttributes(s,i.Line.ATTRIBUTE_NAMES),g=[c.x1||0,c.y1||0,c.x2||0,c.y2||0];f(new i.Line(g,h(c,v)))},i.Line.fromObject=function(s,f){function v(g){delete g.points,f&&f(g)}var c=d(s,!0);c.points=[s.x1,s.y1,s.x2,s.y2],i.Object._fromObject("Line",c,v,"points")};function l(s,f){var v=s.origin,c=s.axis1,g=s.axis2,m=s.dimension,b=f.nearest,x=f.center,w=f.farthest;return function(){switch(this.get(v)){case b:return Math.min(this.get(c),this.get(g));case x:return Math.min(this.get(c),this.get(g))+.5*this.get(m);case w:return Math.max(this.get(c),this.get(g))}}}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.degreesToRadians;if(i.Circle){i.warn("fabric.Circle is already defined.");return}i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:i.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(a,l){return this.callSuper("_set",a,l),a==="radius"&&this.setRadius(l),this},toObject:function(a){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(a))},_toSVG:function(){var a,l=0,s=0,f=(this.endAngle-this.startAngle)%360;if(f===0)a=["<circle ","COMMON_PARTS",'cx="'+l+'" cy="'+s+'" ','r="',this.radius,`" />
`];else{var v=h(this.startAngle),c=h(this.endAngle),g=this.radius,m=i.util.cos(v)*g,b=i.util.sin(v)*g,x=i.util.cos(c)*g,w=i.util.sin(c)*g,_=f>180?"1":"0";a=['<path d="M '+m+" "+b," A "+g+" "+g," 0 ",+_+" 1"," "+x+" "+w,'" ',"COMMON_PARTS",` />
`]}return a},_render:function(a){a.beginPath(),a.arc(0,0,this.radius,h(this.startAngle),h(this.endAngle),!1),this._renderPaintInOrder(a)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(a){return this.radius=a,this.set("width",a*2).set("height",a*2)}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(a,l){var s=i.parseAttributes(a,i.Circle.ATTRIBUTE_NAMES);if(!d(s))throw new Error("value of `r` attribute is required and can not be negative");s.left=(s.left||0)-s.radius,s.top=(s.top||0)-s.radius,l(new i.Circle(s))};function d(a){return"radius"in a&&a.radius>=0}i.Circle.fromObject=function(a,l){i.Object._fromObject("Circle",a,l)}}(e),function(u){var i=u.fabric||(u.fabric={});if(i.Triangle){i.warn("fabric.Triangle is already defined");return}i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(h){var d=this.width/2,a=this.height/2;h.beginPath(),h.moveTo(-d,a),h.lineTo(0,-a),h.lineTo(d,a),h.closePath(),this._renderPaintInOrder(h)},_toSVG:function(){var h=this.width/2,d=this.height/2,a=[-h+" "+d,"0 "+-d,h+" "+d].join(",");return["<polygon ","COMMON_PARTS",'points="',a,'" />']}}),i.Triangle.fromObject=function(h,d){return i.Object._fromObject("Triangle",h,d)}}(e),function(u){var i=u.fabric||(u.fabric={}),h=Math.PI*2;if(i.Ellipse){i.warn("fabric.Ellipse is already defined.");return}i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(d){this.callSuper("initialize",d),this.set("rx",d&&d.rx||0),this.set("ry",d&&d.ry||0)},_set:function(d,a){switch(this.callSuper("_set",d,a),d){case"rx":this.rx=a,this.set("width",a*2);break;case"ry":this.ry=a,this.set("height",a*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(d){return this.callSuper("toObject",["rx","ry"].concat(d))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(d){d.beginPath(),d.save(),d.transform(1,0,0,this.ry/this.rx,0,0),d.arc(0,0,this.rx,0,h,!1),d.restore(),this._renderPaintInOrder(d)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(d,a){var l=i.parseAttributes(d,i.Ellipse.ATTRIBUTE_NAMES);l.left=(l.left||0)-l.rx,l.top=(l.top||0)-l.ry,a(new i.Ellipse(l))},i.Ellipse.fromObject=function(d,a){i.Object._fromObject("Ellipse",d,a)}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend;if(i.Rect){i.warn("fabric.Rect is already defined");return}i.Rect=i.util.createClass(i.Object,{stateProperties:i.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(d){this.callSuper("initialize",d),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(d){var a=this.rx?Math.min(this.rx,this.width/2):0,l=this.ry?Math.min(this.ry,this.height/2):0,s=this.width,f=this.height,v=-this.width/2,c=-this.height/2,g=a!==0||l!==0,m=1-.5522847498;d.beginPath(),d.moveTo(v+a,c),d.lineTo(v+s-a,c),g&&d.bezierCurveTo(v+s-m*a,c,v+s,c+m*l,v+s,c+l),d.lineTo(v+s,c+f-l),g&&d.bezierCurveTo(v+s,c+f-m*l,v+s-m*a,c+f,v+s-a,c+f),d.lineTo(v+a,c+f),g&&d.bezierCurveTo(v+m*a,c+f,v,c+f-m*l,v,c+f-l),d.lineTo(v,c+l),g&&d.bezierCurveTo(v,c+m*l,v+m*a,c,v+a,c),d.closePath(),this._renderPaintInOrder(d)},toObject:function(d){return this.callSuper("toObject",["rx","ry"].concat(d))},_toSVG:function(){var d=-this.width/2,a=-this.height/2;return["<rect ","COMMON_PARTS",'x="',d,'" y="',a,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),i.Rect.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),i.Rect.fromElement=function(d,a,l){if(!d)return a(null);l=l||{};var s=i.parseAttributes(d,i.Rect.ATTRIBUTE_NAMES);s.left=s.left||0,s.top=s.top||0,s.height=s.height||0,s.width=s.width||0;var f=new i.Rect(h(l?i.util.object.clone(l):{},s));f.visible=f.visible&&f.width>0&&f.height>0,a(f)},i.Rect.fromObject=function(d,a){return i.Object._fromObject("Rect",d,a)}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.util.array.min,a=i.util.array.max,l=i.util.toFixed,s=i.util.projectStrokeOnPoints;if(i.Polyline){i.warn("fabric.Polyline is already defined");return}i.Polyline=i.util.createClass(i.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:i.Object.prototype.cacheProperties.concat("points"),initialize:function(f,v){v=v||{},this.points=f||[],this.callSuper("initialize",v),this._setPositionDimensions(v)},_projectStrokeOnPoints:function(){return s(this.points,this,!0)},_setPositionDimensions:function(f){var v=this._calcDimensions(f),c,g=this.exactBoundingBox?this.strokeWidth:0;this.width=v.width-g,this.height=v.height-g,f.fromSVG||(c=this.translateToGivenOrigin({x:v.left-this.strokeWidth/2+g/2,y:v.top-this.strokeWidth/2+g/2},"left","top",this.originX,this.originY)),typeof f.left>"u"&&(this.left=f.fromSVG?v.left:c.x),typeof f.top>"u"&&(this.top=f.fromSVG?v.top:c.y),this.pathOffset={x:v.left+this.width/2+g/2,y:v.top+this.height/2+g/2}},_calcDimensions:function(){var f=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,v=d(f,"x")||0,c=d(f,"y")||0,g=a(f,"x")||0,m=a(f,"y")||0,b=g-v,x=m-c;return{left:v,top:c,width:b,height:x}},toObject:function(f){return h(this.callSuper("toObject",f),{points:this.points.concat()})},_toSVG:function(){for(var f=[],v=this.pathOffset.x,c=this.pathOffset.y,g=i.Object.NUM_FRACTION_DIGITS,m=0,b=this.points.length;m<b;m++)f.push(l(this.points[m].x-v,g),",",l(this.points[m].y-c,g)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',f.join(""),`" />
`]},commonRender:function(f){var v,c=this.points.length,g=this.pathOffset.x,m=this.pathOffset.y;if(!c||isNaN(this.points[c-1].y))return!1;f.beginPath(),f.moveTo(this.points[0].x-g,this.points[0].y-m);for(var b=0;b<c;b++)v=this.points[b],f.lineTo(v.x-g,v.y-m);return!0},_render:function(f){this.commonRender(f)&&this._renderPaintInOrder(f)},complexity:function(){return this.get("points").length}}),i.Polyline.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polyline.fromElementGenerator=function(f){return function(v,c,g){if(!v)return c(null);g||(g={});var m=i.parsePointsAttribute(v.getAttribute("points")),b=i.parseAttributes(v,i[f].ATTRIBUTE_NAMES);b.fromSVG=!0,c(new i[f](m,h(b,g)))}},i.Polyline.fromElement=i.Polyline.fromElementGenerator("Polyline"),i.Polyline.fromObject=function(f,v){return i.Object._fromObject("Polyline",f,v,"points")}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.projectStrokeOnPoints;if(i.Polygon){i.warn("fabric.Polygon is already defined");return}i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return h(this.points,this)},_render:function(d){this.commonRender(d)&&(d.closePath(),this._renderPaintInOrder(d))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(d,a){i.Object._fromObject("Polygon",d,a,"points")}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.array.min,d=i.util.array.max,a=i.util.object.extend,l=i.util.object.clone,s=i.util.toFixed;if(i.Path){i.warn("fabric.Path is already defined");return}i.Path=i.util.createClass(i.Object,{type:"path",path:null,cacheProperties:i.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:i.Object.prototype.stateProperties.concat("path"),initialize:function(f,v){v=l(v||{}),delete v.path,this.callSuper("initialize",v),this._setPath(f||[],v)},_setPath:function(f,v){this.path=i.util.makePathSimpler(Array.isArray(f)?f:i.util.parsePath(f)),i.Polyline.prototype._setPositionDimensions.call(this,v||{})},_renderPathCommands:function(f){var v,c=0,g=0,m=0,b=0,x=0,w=0,_=-this.pathOffset.x,S=-this.pathOffset.y;f.beginPath();for(var E=0,R=this.path.length;E<R;++E)switch(v=this.path[E],v[0]){case"L":m=v[1],b=v[2],f.lineTo(m+_,b+S);break;case"M":m=v[1],b=v[2],c=m,g=b,f.moveTo(m+_,b+S);break;case"C":m=v[5],b=v[6],x=v[3],w=v[4],f.bezierCurveTo(v[1]+_,v[2]+S,x+_,w+S,m+_,b+S);break;case"Q":f.quadraticCurveTo(v[1]+_,v[2]+S,v[3]+_,v[4]+S),m=v[3],b=v[4],x=v[1],w=v[2];break;case"z":case"Z":m=c,b=g,f.closePath();break}},_render:function(f){this._renderPathCommands(f),this._renderPaintInOrder(f)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(f){return a(this.callSuper("toObject",f),{path:this.path.map(function(v){return v.slice()})})},toDatalessObject:function(f){var v=this.toObject(["sourcePath"].concat(f));return v.sourcePath&&delete v.path,v},_toSVG:function(){var f=i.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',f,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var f=i.Object.NUM_FRACTION_DIGITS;return" translate("+s(-this.pathOffset.x,f)+", "+s(-this.pathOffset.y,f)+")"},toClipPathSVG:function(f){var v=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:f,additionalTransform:v})},toSVG:function(f){var v=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:f,additionalTransform:v})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var f=[],v=[],c,g=0,m=0,b=0,x=0,w,_=0,S=this.path.length;_<S;++_){switch(c=this.path[_],c[0]){case"L":b=c[1],x=c[2],w=[];break;case"M":b=c[1],x=c[2],g=b,m=x,w=[];break;case"C":w=i.util.getBoundsOfCurve(b,x,c[1],c[2],c[3],c[4],c[5],c[6]),b=c[5],x=c[6];break;case"Q":w=i.util.getBoundsOfCurve(b,x,c[1],c[2],c[1],c[2],c[3],c[4]),b=c[3],x=c[4];break;case"z":case"Z":b=g,x=m;break}w.forEach(function(ne){f.push(ne.x),v.push(ne.y)}),f.push(b),v.push(x)}var E=h(f)||0,R=h(v)||0,N=d(f)||0,K=d(v)||0,re=N-E,ie=K-R;return{left:E,top:R,width:re,height:ie}}}),i.Path.fromObject=function(f,v){if(typeof f.sourcePath=="string"){var c=f.sourcePath;i.loadSVGFromURL(c,function(g){var m=g[0];m.setOptions(f),f.clipPath?i.util.enlivenObjects([f.clipPath],function(b){m.clipPath=b[0],v&&v(m)}):v&&v(m)})}else i.Object._fromObject("Path",f,v,"path")},i.Path.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(["d"]),i.Path.fromElement=function(f,v,c){var g=i.parseAttributes(f,i.Path.ATTRIBUTE_NAMES);g.fromSVG=!0,v(new i.Path(g.d,a(g,c)))}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.array.min,d=i.util.array.max;i.Group||(i.Group=i.util.createClass(i.Object,i.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(a,l,s){l=l||{},this._objects=[],s&&this.callSuper("initialize",l),this._objects=a||[];for(var f=this._objects.length;f--;)this._objects[f].group=this;if(s)this._updateObjectsACoords();else{var v=l&&l.centerPoint;l.originX!==void 0&&(this.originX=l.originX),l.originY!==void 0&&(this.originY=l.originY),v||this._calcBounds(),this._updateObjectsCoords(v),delete l.centerPoint,this.callSuper("initialize",l)}this.setCoords()},_updateObjectsACoords:function(){for(var a=!0,l=this._objects.length;l--;)this._objects[l].setCoords(a)},_updateObjectsCoords:function(l){for(var l=l||this.getCenterPoint(),s=this._objects.length;s--;)this._updateObjectCoords(this._objects[s],l)},_updateObjectCoords:function(a,l){var s=a.left,f=a.top,v=!0;a.set({left:s-l.x,top:f-l.y}),a.group=this,a.setCoords(v)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(a){var l=!!this.group;return this._restoreObjectsState(),i.util.resetObjectTransform(this),a&&(l&&i.util.removeTransformFromObject(a,this.group.calcTransformMatrix()),this._objects.push(a),a.group=this,a._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,l?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(a){return this._restoreObjectsState(),i.util.resetObjectTransform(this),this.remove(a),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(a){this.dirty=!0,a.group=this,a._set("canvas",this.canvas)},_onObjectRemoved:function(a){this.dirty=!0,delete a.group},_set:function(a,l){var s=this._objects.length;if(this.useSetOnGroup)for(;s--;)this._objects[s].setOnGroup(a,l);if(a==="canvas")for(;s--;)this._objects[s]._set(a,l);i.Object.prototype._set.call(this,a,l)},toObject:function(a){var l=this.includeDefaultValues,s=this._objects.filter(function(v){return!v.excludeFromExport}).map(function(v){var c=v.includeDefaultValues;v.includeDefaultValues=l;var g=v.toObject(a);return v.includeDefaultValues=c,g}),f=i.Object.prototype.toObject.call(this,a);return f.objects=s,f},toDatalessObject:function(a){var l,s=this.sourcePath;if(s)l=s;else{var f=this.includeDefaultValues;l=this._objects.map(function(c){var g=c.includeDefaultValues;c.includeDefaultValues=f;var m=c.toDatalessObject(a);return c.includeDefaultValues=g,m})}var v=i.Object.prototype.toDatalessObject.call(this,a);return v.objects=l,v},render:function(a){this._transformDone=!0,this.callSuper("render",a),this._transformDone=!1},shouldCache:function(){var a=i.Object.prototype.shouldCache.call(this);if(a){for(var l=0,s=this._objects.length;l<s;l++)if(this._objects[l].willDrawShadow())return this.ownCaching=!1,!1}return a},willDrawShadow:function(){if(i.Object.prototype.willDrawShadow.call(this))return!0;for(var a=0,l=this._objects.length;a<l;a++)if(this._objects[a].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(a){for(var l=0,s=this._objects.length;l<s;l++)this._objects[l].render(a);this._drawClipPath(a,this.clipPath)},isCacheDirty:function(a){if(this.callSuper("isCacheDirty",a))return!0;if(!this.statefullCache)return!1;for(var l=0,s=this._objects.length;l<s;l++)if(this._objects[l].isCacheDirty(!0)){if(this._cacheCanvas){var f=this.cacheWidth/this.zoomX,v=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-f/2,-v/2,f,v)}return!0}return!1},_restoreObjectsState:function(){var a=this.calcOwnMatrix();return this._objects.forEach(function(l){i.util.addTransformToObject(l,a),delete l.group,l.setCoords()}),this},destroy:function(){return this._objects.forEach(function(a){a.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(a){a.dispose&&a.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var a=this._objects,l=this.canvas;this._objects=[];var s=this.toObject();delete s.objects;var f=new i.ActiveSelection([]);return f.set(s),f.type="activeSelection",l.remove(this),a.forEach(function(v){v.group=f,v.dirty=!0,l.add(v)}),f.canvas=l,f._objects=a,l._activeObject=f,f.setCoords(),f}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var a=!0;return this.forEachObject(function(l){l.setCoords(a)}),this},_calcBounds:function(a){for(var l=[],s=[],f,v,c,g=["tr","br","bl","tl"],m=0,b=this._objects.length,x,w=g.length;m<b;++m){for(f=this._objects[m],c=f.calcACoords(),x=0;x<w;x++)v=g[x],l.push(c[v].x),s.push(c[v].y);f.aCoords=c}this._getBounds(l,s,a)},_getBounds:function(a,l,s){var f=new i.Point(h(a),h(l)),v=new i.Point(d(a),d(l)),c=f.y||0,g=f.x||0,m=v.x-f.x||0,b=v.y-f.y||0;this.width=m,this.height=b,s||this.setPositionByOrigin({x:g,y:c},"left","top")},_toSVG:function(a){for(var l=["<g ","COMMON_PARTS",` >
`],s=0,f=this._objects.length;s<f;s++)l.push("		",this._objects[s].toSVG(a));return l.push(`</g>
`),l},getSvgStyles:function(){var a=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",l=this.visible?"":" visibility: hidden;";return[a,this.getSvgFilter(),l].join("")},toClipPathSVG:function(a){for(var l=[],s=0,f=this._objects.length;s<f;s++)l.push("	",this._objects[s].toClipPathSVG(a));return this._createBaseClipPathSVGMarkup(l,{reviver:a})}}),i.Group.fromObject=function(a,l){var s=a.objects,f=i.util.object.clone(a,!0);if(delete f.objects,typeof s=="string"){i.loadSVGFromURL(s,function(v){var c=i.util.groupSVGElements(v,a,s),g=f.clipPath;delete f.clipPath,c.set(f),g?i.util.enlivenObjects([g],function(m){c.clipPath=m[0],l&&l(c)}):l&&l(c)});return}i.util.enlivenObjects(s,function(v){i.util.enlivenObjectEnlivables(a,f,function(){l&&l(new i.Group(v,f,!0))})})})}(e),function(u){var i=u.fabric||(u.fabric={});i.ActiveSelection||(i.ActiveSelection=i.util.createClass(i.Group,{type:"activeSelection",initialize:function(h,d){d=d||{},this._objects=h||[];for(var a=this._objects.length;a--;)this._objects[a].group=this;d.originX&&(this.originX=d.originX),d.originY&&(this.originY=d.originY),this._calcBounds(),this._updateObjectsCoords(),i.Object.prototype.initialize.call(this,d),this.setCoords()},toGroup:function(){var h=this._objects.concat();this._objects=[];var d=i.Object.prototype.toObject.call(this),a=new i.Group([]);if(delete d.type,a.set(d),h.forEach(function(s){s.canvas.remove(s),s.group=a}),a._objects=h,!this.canvas)return a;var l=this.canvas;return l.add(a),l._activeObject=a,a.setCoords(),a},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(h,d,a){h.save(),h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",h,d),a=a||{},typeof a.hasControls>"u"&&(a.hasControls=!1),a.forActiveSelection=!0;for(var l=0,s=this._objects.length;l<s;l++)this._objects[l]._renderControls(h,a);h.restore()}}),i.ActiveSelection.fromObject=function(h,d){i.util.enlivenObjects(h.objects,function(a){delete h.objects,d&&d(new i.ActiveSelection(a,h,!0))})})}(e),function(u){var i=t.util.object.extend;if(u.fabric||(u.fabric={}),u.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(h,d){d||(d={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",d),this._initElement(h,d)},getElement:function(){return this._element||{}},setElement:function(h,d){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=h,this._originalElement=h,this._initConfig(d),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(h){var d=t.filterBackend;d&&d.evictCachesForKey&&d.evictCachesForKey(h)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(h){t.util.cleanUpJsdomNode(this[h]),this[h]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var h=this.getElement();return{width:h.naturalWidth||h.width,height:h.naturalHeight||h.height}},_stroke:function(h){if(!(!this.stroke||this.strokeWidth===0)){var d=this.width/2,a=this.height/2;h.beginPath(),h.moveTo(-d,-a),h.lineTo(d,-a),h.lineTo(d,a),h.lineTo(-d,a),h.lineTo(-d,-a),h.closePath()}},toObject:function(h){var d=[];this.filters.forEach(function(l){l&&d.push(l.toObject())});var a=i(this.callSuper("toObject",["cropX","cropY"].concat(h)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:d});return this.resizeFilter&&(a.resizeFilter=this.resizeFilter.toObject()),a},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var h=[],d=[],a,l=this._element,s=-this.width/2,f=-this.height/2,v="",c="";if(!l)return[];if(this.hasCrop()){var g=t.Object.__uid++;h.push('<clipPath id="imageCrop_'+g+`">
`,'	<rect x="'+s+'" y="'+f+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),v=' clip-path="url(#imageCrop_'+g+')" '}if(this.imageSmoothing||(c='" image-rendering="optimizeSpeed'),d.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',s-this.cropX,'" y="',f-this.cropY,'" width="',l.width||l.naturalWidth,'" height="',l.height||l.height,c,'"',v,`></image>
`),this.stroke||this.strokeDashArray){var m=this.fill;this.fill=null,a=["	<rect ",'x="',s,'" y="',f,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=m}return this.paintFirst!=="fill"?h=h.concat(a,d):h=h.concat(d,a),h},getSrc:function(h){var d=h?this._element:this._originalElement;return d?d.toDataURL?d.toDataURL():this.srcFromAttribute?d.getAttribute("src"):d.src:this.src||""},setSrc:function(h,d,a){return t.util.loadImage(h,function(l,s){this.setElement(l,a),this._setWidthHeight(),d&&d(this,s)},this,a&&a.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var h=this.resizeFilter,d=this.minimumScaleTrigger,a=this.getTotalObjectScaling(),l=a.scaleX,s=a.scaleY,f=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!h||l>d&&s>d){this._element=f,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=l,this._lastScaleY=s;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var v=t.util.createCanvasElement(),c=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,g=f.width,m=f.height;v.width=g,v.height=m,this._element=v,this._lastScaleX=h.scaleX=l,this._lastScaleY=h.scaleY=s,t.filterBackend.applyFilters([h],f,g,m,this._element,c),this._filterScalingX=v.width/this._originalElement.width,this._filterScalingY=v.height/this._originalElement.height},applyFilters:function(h){if(h=h||this.filters||[],h=h.filter(function(f){return f&&!f.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),h.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var d=this._originalElement,a=d.naturalWidth||d.width,l=d.naturalHeight||d.height;if(this._element===this._originalElement){var s=t.util.createCanvasElement();s.width=a,s.height=l,this._element=s,this._filteredEl=s}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,a,l),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(h,this._originalElement,a,l,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(h){t.util.setImageSmoothing(h,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(h),this._renderPaintInOrder(h)},drawCacheOnCanvas:function(h){t.util.setImageSmoothing(h,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,h)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(h){var d=this._element;if(d){var a=this._filterScalingX,l=this._filterScalingY,s=this.width,f=this.height,v=Math.min,c=Math.max,g=c(this.cropX,0),m=c(this.cropY,0),b=d.naturalWidth||d.width,x=d.naturalHeight||d.height,w=g*a,_=m*l,S=v(s*a,b-w),E=v(f*l,x-_),R=-s/2,N=-f/2,K=v(s,b/a-g),re=v(f,x/l-m);d&&h.drawImage(d,w,_,S,E,R,N,K,re)}},_needsResize:function(){var h=this.getTotalObjectScaling();return h.scaleX!==this._lastScaleX||h.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(h,d){this.setElement(t.util.getById(h),d),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(h){h||(h={}),this.setOptions(h),this._setWidthHeight(h)},_initFilters:function(h,d){h&&h.length?t.util.enlivenObjects(h,function(a){d&&d(a)},"fabric.Image.filters"):d&&d()},_setWidthHeight:function(h){h||(h={});var d=this.getElement();this.width=h.width||d.naturalWidth||d.width||0,this.height=h.height||d.naturalHeight||d.height||0},parsePreserveAspectRatioAttribute:function(){var h=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),d=this._element.width,a=this._element.height,l=1,s=1,f=0,v=0,c=0,g=0,m,b=this.width,x=this.height,w={width:b,height:x};return h&&(h.alignX!=="none"||h.alignY!=="none")?(h.meetOrSlice==="meet"&&(l=s=t.util.findScaleToFit(this._element,w),m=(b-d*l)/2,h.alignX==="Min"&&(f=-m),h.alignX==="Max"&&(f=m),m=(x-a*s)/2,h.alignY==="Min"&&(v=-m),h.alignY==="Max"&&(v=m)),h.meetOrSlice==="slice"&&(l=s=t.util.findScaleToCover(this._element,w),m=d-b/l,h.alignX==="Mid"&&(c=m/2),h.alignX==="Max"&&(c=m),m=a-x/s,h.alignY==="Mid"&&(g=m/2),h.alignY==="Max"&&(g=m),d=b/l,a=x/s)):(l=b/d,s=x/a),{width:d,height:a,scaleX:l,scaleY:s,offsetLeft:f,offsetTop:v,cropX:c,cropY:g}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(h,d){var a=t.util.object.clone(h);t.util.loadImage(a.src,function(l,s){if(s){d&&d(null,!0);return}t.Image.prototype._initFilters.call(a,a.filters,function(f){a.filters=f||[],t.Image.prototype._initFilters.call(a,[a.resizeFilter],function(v){a.resizeFilter=v[0],t.util.enlivenObjectEnlivables(a,a,function(){var c=new t.Image(l,a);d(c,!1)})})})},null,a.crossOrigin)},t.Image.fromURL=function(h,d,a){t.util.loadImage(h,function(l,s){d&&d(new t.Image(l,a),s)},null,a&&a.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(h,d,a){var l=t.parseAttributes(h,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(l["xlink:href"],d,i(a?t.util.object.clone(a):{},l))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var u=this.angle%360;return u>0?Math.round((u-1)/90)*90:Math.round(u/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(u){u=u||{};var i=function(){},h=u.onComplete||i,d=u.onChange||i,a=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(l){a.rotate(l),d()},onComplete:function(){a.setCoords(),h()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(u){return u.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(u){return u.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function u(h,d){var a="precision "+d+` float;
void main(){}`,l=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(l,a),h.compileShader(l),!!h.getShaderParameter(l,h.COMPILE_STATUS)}t.isWebglSupported=function(h){if(t.isLikelyNode)return!1;h=h||t.WebglFilterBackend.prototype.tileSize;var d=document.createElement("canvas"),a=d.getContext("webgl")||d.getContext("experimental-webgl"),l=!1;if(a){t.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),l=t.maxTextureSize>=h;for(var s=["highp","mediump","lowp"],f=0;f<3;f++)if(u(a,s[f])){t.webGlPrecision=s[f];break}}return this.isSupported=l,l},t.WebglFilterBackend=i;function i(h){h&&h.tileSize&&(this.tileSize=h.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.prototype={tileSize:2048,resources:{},setupGLContext:function(h,d){this.dispose(),this.createWebGLCanvas(h,d),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(h,d)},chooseFastestCopyGLTo2DMethod:function(h,d){var a=typeof window.performance<"u",l;try{new ImageData(1,1),l=!0}catch{l=!1}var s=typeof ArrayBuffer<"u",f=typeof Uint8ClampedArray<"u";if(a&&l&&s&&f){var v=t.util.createCanvasElement(),c=new ArrayBuffer(h*d*4);if(t.forceGLPutImageData){this.imageBuffer=c,this.copyGLTo2D=y;return}var g={imageBuffer:c,destinationWidth:h,destinationHeight:d,targetCanvas:v},m,b,x;v.width=h,v.height=d,m=window.performance.now(),p.call(g,this.gl,g),b=window.performance.now()-m,m=window.performance.now(),y.call(g,this.gl,g),x=window.performance.now()-m,b>x?(this.imageBuffer=c,this.copyGLTo2D=y):this.copyGLTo2D=p}},createWebGLCanvas:function(h,d){var a=t.util.createCanvasElement();a.width=h,a.height=d;var l={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},s=a.getContext("webgl",l);s||(s=a.getContext("experimental-webgl",l)),s&&(s.clearColor(0,0,0,0),this.canvas=a,this.gl=s)},applyFilters:function(h,d,a,l,s,f){var v=this.gl,c;f&&(c=this.getCachedTexture(f,d));var g={originalWidth:d.width||d.originalWidth,originalHeight:d.height||d.originalHeight,sourceWidth:a,sourceHeight:l,destinationWidth:a,destinationHeight:l,context:v,sourceTexture:this.createTexture(v,a,l,!c&&d),targetTexture:this.createTexture(v,a,l),originalTexture:c||this.createTexture(v,a,l,!c&&d),passes:h.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:s},m=v.createFramebuffer();return v.bindFramebuffer(v.FRAMEBUFFER,m),h.forEach(function(b){b&&b.applyTo(g)}),o(g),this.copyGLTo2D(v,g),v.bindTexture(v.TEXTURE_2D,null),v.deleteTexture(g.sourceTexture),v.deleteTexture(g.targetTexture),v.deleteFramebuffer(m),s.getContext("2d").setTransform(1,0,0,1,0,0),g},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(h,d,a,l,s){var f=h.createTexture();return h.bindTexture(h.TEXTURE_2D,f),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,s||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,s||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),l?h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,l):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,d,a,0,h.RGBA,h.UNSIGNED_BYTE,null),f},getCachedTexture:function(h,d){if(this.textureCache[h])return this.textureCache[h];var a=this.createTexture(this.gl,d.width,d.height,d);return this.textureCache[h]=a,a},evictCachesForKey:function(h){this.textureCache[h]&&(this.gl.deleteTexture(this.textureCache[h]),delete this.textureCache[h])},copyGLTo2D:p,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var h=this.gl,d={renderer:"",vendor:""};if(!h)return d;var a=h.getExtension("WEBGL_debug_renderer_info");if(a){var l=h.getParameter(a.UNMASKED_RENDERER_WEBGL),s=h.getParameter(a.UNMASKED_VENDOR_WEBGL);l&&(d.renderer=l.toLowerCase()),s&&(d.vendor=s.toLowerCase())}return this.gpuInfo=d,d}}}();function o(u){var i=u.targetCanvas,h=i.width,d=i.height,a=u.destinationWidth,l=u.destinationHeight;(h!==a||d!==l)&&(i.width=a,i.height=l)}function p(u,i){var h=u.canvas,d=i.targetCanvas,a=d.getContext("2d");a.translate(0,d.height),a.scale(1,-1);var l=h.height-d.height;a.drawImage(h,0,l,d.width,d.height,0,0,d.width,d.height)}function y(u,i){var h=i.targetCanvas,d=h.getContext("2d"),a=i.destinationWidth,l=i.destinationHeight,s=a*l*4,f=new Uint8Array(this.imageBuffer,0,s),v=new Uint8ClampedArray(this.imageBuffer,0,s);u.readPixels(0,0,a,l,u.RGBA,u.UNSIGNED_BYTE,f);var c=new ImageData(v,a,l);d.putImageData(c,0,0)}(function(){var u=function(){};t.Canvas2dFilterBackend=i;function i(){}i.prototype={evictCachesForKey:u,dispose:u,clearWebGLCaches:u,resources:{},applyFilters:function(h,d,a,l,s){var f=s.getContext("2d");f.drawImage(d,0,0,a,l);var v=f.getImageData(0,0,a,l),c=f.getImageData(0,0,a,l),g={sourceWidth:a,sourceHeight:l,imageData:v,originalEl:d,originalImageData:c,canvasEl:s,ctx:f,filterBackend:this};return h.forEach(function(m){m.applyTo(g)}),(g.imageData.width!==a||g.imageData.height!==l)&&(s.width=g.imageData.width,s.height=g.imageData.height),f.putImageData(g.imageData,0,0),g}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(u){u&&this.setOptions(u)},setOptions:function(u){for(var i in u)this[i]=u[i]},createProgram:function(u,i,h){i=i||this.fragmentSource,h=h||this.vertexSource,t.webGlPrecision!=="highp"&&(i=i.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var d=u.createShader(u.VERTEX_SHADER);if(u.shaderSource(d,h),u.compileShader(d),!u.getShaderParameter(d,u.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+u.getShaderInfoLog(d));var a=u.createShader(u.FRAGMENT_SHADER);if(u.shaderSource(a,i),u.compileShader(a),!u.getShaderParameter(a,u.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+u.getShaderInfoLog(a));var l=u.createProgram();if(u.attachShader(l,d),u.attachShader(l,a),u.linkProgram(l),!u.getProgramParameter(l,u.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+u.getProgramInfoLog(l));var s=this.getAttributeLocations(u,l),f=this.getUniformLocations(u,l)||{};return f.uStepW=u.getUniformLocation(l,"uStepW"),f.uStepH=u.getUniformLocation(l,"uStepH"),{program:l,attributeLocations:s,uniformLocations:f}},getAttributeLocations:function(u,i){return{aPosition:u.getAttribLocation(i,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(u,i,h){var d=i.aPosition,a=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,a),u.enableVertexAttribArray(d),u.vertexAttribPointer(d,2,u.FLOAT,!1,0,0),u.bufferData(u.ARRAY_BUFFER,h,u.STATIC_DRAW)},_setupFrameBuffer:function(u){var i=u.context,h,d;u.passes>1?(h=u.destinationWidth,d=u.destinationHeight,(u.sourceWidth!==h||u.sourceHeight!==d)&&(i.deleteTexture(u.targetTexture),u.targetTexture=u.filterBackend.createTexture(i,h,d)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,u.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(u){u.passes--,u.pass++;var i=u.targetTexture;u.targetTexture=u.sourceTexture,u.sourceTexture=i},isNeutralState:function(){var u=this.mainParameter,i=t.Image.filters[this.type].prototype;if(u)if(Array.isArray(i[u])){for(var h=i[u].length;h--;)if(this[u][h]!==i[u][h])return!1;return!0}else return i[u]===this[u];else return!1},applyTo:function(u){u.webgl?(this._setupFrameBuffer(u),this.applyToWebGL(u),this._swapTextures(u)):this.applyTo2d(u)},retrieveShader:function(u){return u.programCache.hasOwnProperty(this.type)||(u.programCache[this.type]=this.createProgram(u.context)),u.programCache[this.type]},applyToWebGL:function(u){var i=u.context,h=this.retrieveShader(u);u.pass===0&&u.originalTexture?i.bindTexture(i.TEXTURE_2D,u.originalTexture):i.bindTexture(i.TEXTURE_2D,u.sourceTexture),i.useProgram(h.program),this.sendAttributeData(i,h.attributeLocations,u.aPosition),i.uniform1f(h.uniformLocations.uStepW,1/u.sourceWidth),i.uniform1f(h.uniformLocations.uStepH,1/u.sourceHeight),this.sendUniformData(i,h.uniformLocations),i.viewport(0,0,u.destinationWidth,u.destinationHeight),i.drawArrays(i.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(u,i,h){u.activeTexture(h),u.bindTexture(u.TEXTURE_2D,i),u.activeTexture(u.TEXTURE0)},unbindAdditionalTexture:function(u,i){u.activeTexture(i),u.bindTexture(u.TEXTURE_2D,null),u.activeTexture(u.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(u){this[this.mainParameter]=u},sendUniformData:function(){},createHelpLayer:function(u){if(!u.helpLayer){var i=document.createElement("canvas");i.width=u.sourceWidth,i.height=u.sourceHeight,u.helpLayer=i}},toObject:function(){var u={type:this.type},i=this.mainParameter;return i&&(u[i]=this[i]),u},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(u,i){var h=new t.Image.filters[u.type](u);return i&&i(h),h},function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.ColorMatrix=d(h.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(a){this.callSuper("initialize",a),this.matrix=this.matrix.slice(0)},applyTo2d:function(a){var l=a.imageData,s=l.data,f=s.length,v=this.matrix,c,g,m,b,x,w=this.colorsOnly;for(x=0;x<f;x+=4)c=s[x],g=s[x+1],m=s[x+2],w?(s[x]=c*v[0]+g*v[1]+m*v[2]+v[4]*255,s[x+1]=c*v[5]+g*v[6]+m*v[7]+v[9]*255,s[x+2]=c*v[10]+g*v[11]+m*v[12]+v[14]*255):(b=s[x+3],s[x]=c*v[0]+g*v[1]+m*v[2]+b*v[3]+v[4]*255,s[x+1]=c*v[5]+g*v[6]+m*v[7]+b*v[8]+v[9]*255,s[x+2]=c*v[10]+g*v[11]+m*v[12]+b*v[13]+v[14]*255,s[x+3]=c*v[15]+g*v[16]+m*v[17]+b*v[18]+v[19]*255)},getUniformLocations:function(a,l){return{uColorMatrix:a.getUniformLocation(l,"uColorMatrix"),uConstants:a.getUniformLocation(l,"uConstants")}},sendUniformData:function(a,l){var s=this.matrix,f=[s[0],s[1],s[2],s[3],s[5],s[6],s[7],s[8],s[10],s[11],s[12],s[13],s[15],s[16],s[17],s[18]],v=[s[4],s[9],s[14],s[19]];a.uniformMatrix4fv(l.uColorMatrix,!1,f),a.uniform4fv(l.uConstants,v)}}),i.Image.filters.ColorMatrix.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Brightness=d(h.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(a){if(this.brightness!==0){var l=a.imageData,s=l.data,f,v=s.length,c=Math.round(this.brightness*255);for(f=0;f<v;f+=4)s[f]=s[f]+c,s[f+1]=s[f+1]+c,s[f+2]=s[f+2]+c}},getUniformLocations:function(a,l){return{uBrightness:a.getUniformLocation(l,"uBrightness")}},sendUniformData:function(a,l){a.uniform1f(l.uBrightness,this.brightness)}}),i.Image.filters.Brightness.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.Image.filters,a=i.util.createClass;d.Convolute=a(d.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(l){var s=Math.sqrt(this.matrix.length),f=this.type+"_"+s+"_"+(this.opaque?1:0),v=this.fragmentSource[f];return l.programCache.hasOwnProperty(f)||(l.programCache[f]=this.createProgram(l.context,v)),l.programCache[f]},applyTo2d:function(l){var s=l.imageData,f=s.data,v=this.matrix,c=Math.round(Math.sqrt(v.length)),g=Math.floor(c/2),m=s.width,b=s.height,x=l.ctx.createImageData(m,b),w=x.data,_=this.opaque?1:0,S,E,R,N,K,re,ie,ne,oe,de,le,Y,C;for(le=0;le<b;le++)for(de=0;de<m;de++){for(K=(le*m+de)*4,S=0,E=0,R=0,N=0,C=0;C<c;C++)for(Y=0;Y<c;Y++)ie=le+C-g,re=de+Y-g,!(ie<0||ie>=b||re<0||re>=m)&&(ne=(ie*m+re)*4,oe=v[C*c+Y],S+=f[ne]*oe,E+=f[ne+1]*oe,R+=f[ne+2]*oe,_||(N+=f[ne+3]*oe));w[K]=S,w[K+1]=E,w[K+2]=R,_?w[K+3]=f[K+3]:w[K+3]=N}l.imageData=x},getUniformLocations:function(l,s){return{uMatrix:l.getUniformLocation(s,"uMatrix"),uOpaque:l.getUniformLocation(s,"uOpaque"),uHalfSize:l.getUniformLocation(s,"uHalfSize"),uSize:l.getUniformLocation(s,"uSize")}},sendUniformData:function(l,s){l.uniform1fv(s.uMatrix,this.matrix)},toObject:function(){return h(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),i.Image.filters.Convolute.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Grayscale=d(h.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(a){var l=a.imageData,s=l.data,f,v=s.length,c,g=this.mode;for(f=0;f<v;f+=4)g==="average"?c=(s[f]+s[f+1]+s[f+2])/3:g==="lightness"?c=(Math.min(s[f],s[f+1],s[f+2])+Math.max(s[f],s[f+1],s[f+2]))/2:g==="luminosity"&&(c=.21*s[f]+.72*s[f+1]+.07*s[f+2]),s[f]=c,s[f+1]=c,s[f+2]=c},retrieveShader:function(a){var l=this.type+"_"+this.mode;if(!a.programCache.hasOwnProperty(l)){var s=this.fragmentSource[this.mode];a.programCache[l]=this.createProgram(a.context,s)}return a.programCache[l]},getUniformLocations:function(a,l){return{uMode:a.getUniformLocation(l,"uMode")}},sendUniformData:function(a,l){var s=1;a.uniform1i(l.uMode,s)},isNeutralState:function(){return!1}}),i.Image.filters.Grayscale.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Invert=d(h.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(a){var l=a.imageData,s=l.data,f,v=s.length;for(f=0;f<v;f+=4)s[f]=255-s[f],s[f+1]=255-s[f+1],s[f+2]=255-s[f+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(a,l){return{uInvert:a.getUniformLocation(l,"uInvert")}},sendUniformData:function(a,l){a.uniform1i(l.uInvert,this.invert)}}),i.Image.filters.Invert.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.Image.filters,a=i.util.createClass;d.Noise=a(d.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(l){if(this.noise!==0){var s=l.imageData,f=s.data,v,c=f.length,g=this.noise,m;for(v=0,c=f.length;v<c;v+=4)m=(.5-Math.random())*g,f[v]+=m,f[v+1]+=m,f[v+2]+=m}},getUniformLocations:function(l,s){return{uNoise:l.getUniformLocation(s,"uNoise"),uSeed:l.getUniformLocation(s,"uSeed")}},sendUniformData:function(l,s){l.uniform1f(s.uNoise,this.noise/255),l.uniform1f(s.uSeed,Math.random())},toObject:function(){return h(this.callSuper("toObject"),{noise:this.noise})}}),i.Image.filters.Noise.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Pixelate=d(h.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(a){var l=a.imageData,s=l.data,f=l.height,v=l.width,c,g,m,b,x,w,_,S,E,R,N;for(g=0;g<f;g+=this.blocksize)for(m=0;m<v;m+=this.blocksize)for(c=g*4*v+m*4,b=s[c],x=s[c+1],w=s[c+2],_=s[c+3],R=Math.min(g+this.blocksize,f),N=Math.min(m+this.blocksize,v),S=g;S<R;S++)for(E=m;E<N;E++)c=S*4*v+E*4,s[c]=b,s[c+1]=x,s[c+2]=w,s[c+3]=_},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(a,l){return{uBlocksize:a.getUniformLocation(l,"uBlocksize"),uStepW:a.getUniformLocation(l,"uStepW"),uStepH:a.getUniformLocation(l,"uStepH")}},sendUniformData:function(a,l){a.uniform1f(l.uBlocksize,this.blocksize)}}),i.Image.filters.Pixelate.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.Image.filters,a=i.util.createClass;d.RemoveColor=a(d.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(l){var s=l.imageData,f=s.data,v,c=this.distance*255,g,m,b,x=new i.Color(this.color).getSource(),w=[x[0]-c,x[1]-c,x[2]-c],_=[x[0]+c,x[1]+c,x[2]+c];for(v=0;v<f.length;v+=4)g=f[v],m=f[v+1],b=f[v+2],g>w[0]&&m>w[1]&&b>w[2]&&g<_[0]&&m<_[1]&&b<_[2]&&(f[v+3]=0)},getUniformLocations:function(l,s){return{uLow:l.getUniformLocation(s,"uLow"),uHigh:l.getUniformLocation(s,"uHigh")}},sendUniformData:function(l,s){var f=new i.Color(this.color).getSource(),v=parseFloat(this.distance),c=[0+f[0]/255-v,0+f[1]/255-v,0+f[2]/255-v,1],g=[f[0]/255+v,f[1]/255+v,f[2]/255+v,1];l.uniform4fv(s.uLow,c),l.uniform4fv(s.uHigh,g)},toObject:function(){return h(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),i.Image.filters.RemoveColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass,a={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var l in a)h[l]=d(h.ColorMatrix,{type:l,matrix:a[l],mainParameter:!1,colorsOnly:!0}),i.Image.filters[l].fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric,h=i.Image.filters,d=i.util.createClass;h.BlendColor=d(h.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(a){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[a]+`}
}`},retrieveShader:function(a){var l=this.type+"_"+this.mode,s;return a.programCache.hasOwnProperty(l)||(s=this.buildSource(this.mode),a.programCache[l]=this.createProgram(a.context,s)),a.programCache[l]},applyTo2d:function(a){var l=a.imageData,s=l.data,f=s.length,v,c,g,m,b,x,w,_=1-this.alpha;w=new i.Color(this.color).getSource(),v=w[0]*this.alpha,c=w[1]*this.alpha,g=w[2]*this.alpha;for(var S=0;S<f;S+=4)switch(m=s[S],b=s[S+1],x=s[S+2],this.mode){case"multiply":s[S]=m*v/255,s[S+1]=b*c/255,s[S+2]=x*g/255;break;case"screen":s[S]=255-(255-m)*(255-v)/255,s[S+1]=255-(255-b)*(255-c)/255,s[S+2]=255-(255-x)*(255-g)/255;break;case"add":s[S]=m+v,s[S+1]=b+c,s[S+2]=x+g;break;case"diff":case"difference":s[S]=Math.abs(m-v),s[S+1]=Math.abs(b-c),s[S+2]=Math.abs(x-g);break;case"subtract":s[S]=m-v,s[S+1]=b-c,s[S+2]=x-g;break;case"darken":s[S]=Math.min(m,v),s[S+1]=Math.min(b,c),s[S+2]=Math.min(x,g);break;case"lighten":s[S]=Math.max(m,v),s[S+1]=Math.max(b,c),s[S+2]=Math.max(x,g);break;case"overlay":s[S]=v<128?2*m*v/255:255-2*(255-m)*(255-v)/255,s[S+1]=c<128?2*b*c/255:255-2*(255-b)*(255-c)/255,s[S+2]=g<128?2*x*g/255:255-2*(255-x)*(255-g)/255;break;case"exclusion":s[S]=v+m-2*v*m/255,s[S+1]=c+b-2*c*b/255,s[S+2]=g+x-2*g*x/255;break;case"tint":s[S]=v+m*_,s[S+1]=c+b*_,s[S+2]=g+x*_}},getUniformLocations:function(a,l){return{uColor:a.getUniformLocation(l,"uColor")}},sendUniformData:function(a,l){var s=new i.Color(this.color).getSource();s[0]=this.alpha*s[0]/255,s[1]=this.alpha*s[1]/255,s[2]=this.alpha*s[2]/255,s[3]=this.alpha,a.uniform4fv(l.uColor,s)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric,h=i.Image.filters,d=i.util.createClass;h.BlendImage=d(h.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(a){var l=this.type+"_"+this.mode,s=this.fragmentSource[this.mode];return a.programCache.hasOwnProperty(l)||(a.programCache[l]=this.createProgram(a.context,s)),a.programCache[l]},applyToWebGL:function(a){var l=a.context,s=this.createTexture(a.filterBackend,this.image);this.bindAdditionalTexture(l,s,l.TEXTURE1),this.callSuper("applyToWebGL",a),this.unbindAdditionalTexture(l,l.TEXTURE1)},createTexture:function(a,l){return a.getCachedTexture(l.cacheKey,l._element)},calculateMatrix:function(){var a=this.image,l=a._element.width,s=a._element.height;return[1/a.scaleX,0,0,0,1/a.scaleY,0,-a.left/l,-a.top/s,1]},applyTo2d:function(a){var l=a.imageData,s=a.filterBackend.resources,f=l.data,v=f.length,c=l.width,g=l.height,m,b,x,w,_,S,E,R,N,K,re=this.image,ie;s.blendImage||(s.blendImage=i.util.createCanvasElement()),N=s.blendImage,K=N.getContext("2d"),N.width!==c||N.height!==g?(N.width=c,N.height=g):K.clearRect(0,0,c,g),K.setTransform(re.scaleX,0,0,re.scaleY,re.left,re.top),K.drawImage(re._element,0,0,c,g),ie=K.getImageData(0,0,c,g).data;for(var ne=0;ne<v;ne+=4)switch(_=f[ne],S=f[ne+1],E=f[ne+2],R=f[ne+3],m=ie[ne],b=ie[ne+1],x=ie[ne+2],w=ie[ne+3],this.mode){case"multiply":f[ne]=_*m/255,f[ne+1]=S*b/255,f[ne+2]=E*x/255,f[ne+3]=R*w/255;break;case"mask":f[ne+3]=w;break}},getUniformLocations:function(a,l){return{uTransformMatrix:a.getUniformLocation(l,"uTransformMatrix"),uImage:a.getUniformLocation(l,"uImage")}},sendUniformData:function(a,l){var s=this.calculateMatrix();a.uniform1i(l.uImage,1),a.uniformMatrix3fv(l.uTransformMatrix,!1,s)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendImage.fromObject=function(a,l){i.Image.fromObject(a.image,function(s){var f=i.util.object.clone(a);f.image=s,l(new i.Image.filters.BlendImage(f))})}}(e),function(u){var i=u.fabric||(u.fabric={}),h=Math.pow,d=Math.floor,a=Math.sqrt,l=Math.abs,s=Math.round,f=Math.sin,v=Math.ceil,c=i.Image.filters,g=i.util.createClass;c.Resize=g(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(m,b){return{uDelta:m.getUniformLocation(b,"uDelta"),uTaps:m.getUniformLocation(b,"uTaps")}},sendUniformData:function(m,b){m.uniform2fv(b.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),m.uniform1fv(b.uTaps,this.taps)},retrieveShader:function(m){var b=this.getFilterWindow(),x=this.type+"_"+b;if(!m.programCache.hasOwnProperty(x)){var w=this.generateShader(b);m.programCache[x]=this.createProgram(m.context,w)}return m.programCache[x]},getFilterWindow:function(){var m=this.tempScale;return Math.ceil(this.lanczosLobes/m)},getTaps:function(){for(var m=this.lanczosCreate(this.lanczosLobes),b=this.tempScale,x=this.getFilterWindow(),w=new Array(x),_=1;_<=x;_++)w[_-1]=m(_*b);return w},generateShader:function(w){for(var b=new Array(w),x=this.fragmentSourceTOP,w,_=1;_<=w;_++)b[_-1]=_+".0 * uDelta";return x+="uniform float uTaps["+w+`];
`,x+=`void main() {
`,x+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,x+=`  float sum = 1.0;
`,b.forEach(function(S,E){x+="  color += texture2D(uTexture, vTexCoord + "+S+") * uTaps["+E+`];
`,x+="  color += texture2D(uTexture, vTexCoord - "+S+") * uTaps["+E+`];
`,x+="  sum += 2.0 * uTaps["+E+`];
`}),x+=`  gl_FragColor = color / sum;
`,x+="}",x},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(m){m.webgl?(m.passes++,this.width=m.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=m.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),m.destinationWidth=this.dW,this._setupFrameBuffer(m),this.applyToWebGL(m),this._swapTextures(m),m.sourceWidth=m.destinationWidth,this.height=m.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),m.destinationHeight=this.dH,this._setupFrameBuffer(m),this.applyToWebGL(m),this._swapTextures(m),m.sourceHeight=m.destinationHeight):this.applyTo2d(m)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(m){return function(b){if(b>=m||b<=-m)return 0;if(b<11920929e-14&&b>-11920929e-14)return 1;b*=Math.PI;var x=b/m;return f(b)/b*f(x)/x}},applyTo2d:function(m){var b=m.imageData,x=this.scaleX,w=this.scaleY;this.rcpScaleX=1/x,this.rcpScaleY=1/w;var _=b.width,S=b.height,E=s(_*x),R=s(S*w),N;this.resizeType==="sliceHack"?N=this.sliceByTwo(m,_,S,E,R):this.resizeType==="hermite"?N=this.hermiteFastResize(m,_,S,E,R):this.resizeType==="bilinear"?N=this.bilinearFiltering(m,_,S,E,R):this.resizeType==="lanczos"&&(N=this.lanczosResize(m,_,S,E,R)),m.imageData=N},sliceByTwo:function(m,b,x,w,_){var S=m.imageData,E=.5,R=!1,N=!1,K=b*E,re=x*E,ie=i.filterBackend.resources,ne,oe,de=0,le=0,Y=b,C=0;for(ie.sliceByTwo||(ie.sliceByTwo=document.createElement("canvas")),ne=ie.sliceByTwo,(ne.width<b*1.5||ne.height<x)&&(ne.width=b*1.5,ne.height=x),oe=ne.getContext("2d"),oe.clearRect(0,0,b*1.5,x),oe.putImageData(S,0,0),w=d(w),_=d(_);!R||!N;)b=K,x=re,w<d(K*E)?K=d(K*E):(K=w,R=!0),_<d(re*E)?re=d(re*E):(re=_,N=!0),oe.drawImage(ne,de,le,b,x,Y,C,K,re),de=Y,le=C,C+=re;return oe.getImageData(de,le,w,_)},lanczosResize:function(m,b,x,w,_){function S(A){var M,H,k,T,D,j,G,U,Z,ee,se;for(C.x=(A+.5)*re,P.x=d(C.x),M=0;M<_;M++){for(C.y=(M+.5)*ie,P.y=d(C.y),D=0,j=0,G=0,U=0,Z=0,H=P.x-de;H<=P.x+de;H++)if(!(H<0||H>=b)){ee=d(1e3*l(H-C.x)),Y[ee]||(Y[ee]={});for(var W=P.y-le;W<=P.y+le;W++)W<0||W>=x||(se=d(1e3*l(W-C.y)),Y[ee][se]||(Y[ee][se]=K(a(h(ee*ne,2)+h(se*oe,2))/1e3)),k=Y[ee][se],k>0&&(T=(W*b+H)*4,D+=k,j+=k*E[T],G+=k*E[T+1],U+=k*E[T+2],Z+=k*E[T+3]))}T=(M*w+A)*4,N[T]=j/D,N[T+1]=G/D,N[T+2]=U/D,N[T+3]=Z/D}return++A<w?S(A):R}var E=m.imageData.data,R=m.ctx.createImageData(w,_),N=R.data,K=this.lanczosCreate(this.lanczosLobes),re=this.rcpScaleX,ie=this.rcpScaleY,ne=2/this.rcpScaleX,oe=2/this.rcpScaleY,de=v(re*this.lanczosLobes/2),le=v(ie*this.lanczosLobes/2),Y={},C={},P={};return S(0)},bilinearFiltering:function(m,b,x,w,_){var S,E,R,N,K,re,ie,ne,oe,de,le,Y,C=0,P,A=this.rcpScaleX,M=this.rcpScaleY,H=4*(b-1),k=m.imageData,T=k.data,D=m.ctx.createImageData(w,_),j=D.data;for(ie=0;ie<_;ie++)for(ne=0;ne<w;ne++)for(K=d(A*ne),re=d(M*ie),oe=A*ne-K,de=M*ie-re,P=4*(re*b+K),le=0;le<4;le++)S=T[P+le],E=T[P+4+le],R=T[P+H+le],N=T[P+H+4+le],Y=S*(1-oe)*(1-de)+E*oe*(1-de)+R*de*(1-oe)+N*oe*de,j[C++]=Y;return D},hermiteFastResize:function(m,b,x,w,_){for(var S=this.rcpScaleX,E=this.rcpScaleY,R=v(S/2),N=v(E/2),K=m.imageData,re=K.data,ie=m.ctx.createImageData(w,_),ne=ie.data,oe=0;oe<_;oe++)for(var de=0;de<w;de++){for(var le=(de+oe*w)*4,Y=0,C=0,P=0,A=0,M=0,H=0,k=0,T=(oe+.5)*E,D=d(oe*E);D<(oe+1)*E;D++)for(var j=l(T-(D+.5))/N,G=(de+.5)*S,U=j*j,Z=d(de*S);Z<(de+1)*S;Z++){var ee=l(G-(Z+.5))/R,se=a(U+ee*ee);se>1&&se<-1||(Y=2*se*se*se-3*se*se+1,Y>0&&(ee=4*(Z+D*b),k+=Y*re[ee+3],P+=Y,re[ee+3]<255&&(Y=Y*re[ee+3]/250),A+=Y*re[ee],M+=Y*re[ee+1],H+=Y*re[ee+2],C+=Y))}ne[le]=A/C,ne[le+1]=M/C,ne[le+2]=H/C,ne[le+3]=k/P}return ie},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),i.Image.filters.Resize.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Contrast=d(h.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(a){if(this.contrast!==0){var l=a.imageData,s,v,f=l.data,v=f.length,c=Math.floor(this.contrast*255),g=259*(c+255)/(255*(259-c));for(s=0;s<v;s+=4)f[s]=g*(f[s]-128)+128,f[s+1]=g*(f[s+1]-128)+128,f[s+2]=g*(f[s+2]-128)+128}},getUniformLocations:function(a,l){return{uContrast:a.getUniformLocation(l,"uContrast")}},sendUniformData:function(a,l){a.uniform1f(l.uContrast,this.contrast)}}),i.Image.filters.Contrast.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Saturation=d(h.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(a){if(this.saturation!==0){var l=a.imageData,s=l.data,f=s.length,v=-this.saturation,c,g;for(c=0;c<f;c+=4)g=Math.max(s[c],s[c+1],s[c+2]),s[c]+=g!==s[c]?(g-s[c])*v:0,s[c+1]+=g!==s[c+1]?(g-s[c+1])*v:0,s[c+2]+=g!==s[c+2]?(g-s[c+2])*v:0}},getUniformLocations:function(a,l){return{uSaturation:a.getUniformLocation(l,"uSaturation")}},sendUniformData:function(a,l){a.uniform1f(l.uSaturation,-this.saturation)}}),i.Image.filters.Saturation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Vibrance=d(h.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(a){if(this.vibrance!==0){var l=a.imageData,s=l.data,f=s.length,v=-this.vibrance,c,g,m,b;for(c=0;c<f;c+=4)g=Math.max(s[c],s[c+1],s[c+2]),m=(s[c]+s[c+1]+s[c+2])/3,b=Math.abs(g-m)*2/255*v,s[c]+=g!==s[c]?(g-s[c])*b:0,s[c+1]+=g!==s[c+1]?(g-s[c+1])*b:0,s[c+2]+=g!==s[c+2]?(g-s[c+2])*b:0}},getUniformLocations:function(a,l){return{uVibrance:a.getUniformLocation(l,"uVibrance")}},sendUniformData:function(a,l){a.uniform1f(l.uVibrance,-this.vibrance)}}),i.Image.filters.Vibrance.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Blur=d(h.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(a){a.webgl?(this.aspectRatio=a.sourceWidth/a.sourceHeight,a.passes++,this._setupFrameBuffer(a),this.horizontal=!0,this.applyToWebGL(a),this._swapTextures(a),this._setupFrameBuffer(a),this.horizontal=!1,this.applyToWebGL(a),this._swapTextures(a)):this.applyTo2d(a)},applyTo2d:function(a){a.imageData=this.simpleBlur(a)},simpleBlur:function(a){var l=a.filterBackend.resources,s,f,v=a.imageData.width,c=a.imageData.height;l.blurLayer1||(l.blurLayer1=i.util.createCanvasElement(),l.blurLayer2=i.util.createCanvasElement()),s=l.blurLayer1,f=l.blurLayer2,(s.width!==v||s.height!==c)&&(f.width=s.width=v,f.height=s.height=c);var g=s.getContext("2d"),m=f.getContext("2d"),b=15,x,w,_,S,E=this.blur*.06*.5;for(g.putImageData(a.imageData,0,0),m.clearRect(0,0,v,c),S=-b;S<=b;S++)x=(Math.random()-.5)/4,w=S/b,_=E*w*v+x,m.globalAlpha=1-Math.abs(w),m.drawImage(s,_,x),g.drawImage(f,0,0),m.globalAlpha=1,m.clearRect(0,0,f.width,f.height);for(S=-b;S<=b;S++)x=(Math.random()-.5)/4,w=S/b,_=E*w*c+x,m.globalAlpha=1-Math.abs(w),m.drawImage(s,x,_),g.drawImage(f,0,0),m.globalAlpha=1,m.clearRect(0,0,f.width,f.height);a.ctx.drawImage(s,0,0);var R=a.ctx.getImageData(0,0,s.width,s.height);return g.globalAlpha=1,g.clearRect(0,0,s.width,s.height),R},getUniformLocations:function(a,l){return{delta:a.getUniformLocation(l,"uDelta")}},sendUniformData:function(a,l){var s=this.chooseRightDelta();a.uniform2fv(l.delta,s)},chooseRightDelta:function(){var a=1,l=[0,0],s;return this.horizontal?this.aspectRatio>1&&(a=1/this.aspectRatio):this.aspectRatio<1&&(a=this.aspectRatio),s=a*this.blur*.12,this.horizontal?l[0]=s:l[1]=s,l}}),h.Blur.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Gamma=d(h.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(a){this.gamma=[1,1,1],h.BaseFilter.prototype.initialize.call(this,a)},applyTo2d:function(a){var l=a.imageData,s=l.data,f=this.gamma,v=s.length,c=1/f[0],g=1/f[1],m=1/f[2],b;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),b=0,v=256;b<v;b++)this.rVals[b]=Math.pow(b/255,c)*255,this.gVals[b]=Math.pow(b/255,g)*255,this.bVals[b]=Math.pow(b/255,m)*255;for(b=0,v=s.length;b<v;b+=4)s[b]=this.rVals[s[b]],s[b+1]=this.gVals[s[b+1]],s[b+2]=this.bVals[s[b+2]]},getUniformLocations:function(a,l){return{uGamma:a.getUniformLocation(l,"uGamma")}},sendUniformData:function(a,l){a.uniform3fv(l.uGamma,this.gamma)}}),i.Image.filters.Gamma.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Composed=d(h.BaseFilter,{type:"Composed",subFilters:[],initialize:function(a){this.callSuper("initialize",a),this.subFilters=this.subFilters.slice(0)},applyTo:function(a){a.passes+=this.subFilters.length-1,this.subFilters.forEach(function(l){l.applyTo(a)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(a){return a.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(a){return!a.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(a,l){var s=a.subFilters||[],f=s.map(function(c){return new i.Image.filters[c.type](c)}),v=new i.Image.filters.Composed({subFilters:f});return l&&l(v),v}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.HueRotation=d(h.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var a=this.rotation*Math.PI,l=i.util.cos(a),s=i.util.sin(a),f=1/3,v=Math.sqrt(f)*s,c=1-l;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=l+c/3,this.matrix[1]=f*c-v,this.matrix[2]=f*c+v,this.matrix[5]=f*c+v,this.matrix[6]=l+f*c,this.matrix[7]=f*c-v,this.matrix[10]=f*c-v,this.matrix[11]=f*c+v,this.matrix[12]=l+f*c},isNeutralState:function(a){return this.calculateMatrix(),h.BaseFilter.prototype.isNeutralState.call(this,a)},applyTo:function(a){this.calculateMatrix(),h.BaseFilter.prototype.applyTo.call(this,a)}}),i.Image.filters.HueRotation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.clone;if(i.Text){i.warn("fabric.Text is already defined");return}var d="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");i.Text=i.util.createClass(i.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:i.Object.prototype.stateProperties.concat(d),cacheProperties:i.Object.prototype.cacheProperties.concat(d),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(a,l){this.styles=l?l.styles||{}:{},this.text=a,this.__skipDimension=!0,this.callSuper("initialize",l),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var a=this.path;a&&(a.segmentsInfo=i.util.getPathSegmentsInfo(a.path))},getMeasuringContext:function(){return i._measuringContext||(i._measuringContext=this.canvas&&this.canvas.contextCache||i.util.createCanvasElement().getContext("2d")),i._measuringContext},_splitText:function(){var a=this._splitTextIntoLines(this.text);return this.textLines=a.lines,this._textLines=a.graphemeLines,this._unwrappedTextLines=a._unwrappedLines,this._text=a.graphemeText,a},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var a,l,s,f,v,c,g,m=0,b=this._textLines.length;m<b;m++)if(!(this.textAlign!=="justify"&&(m===b-1||this.isEndOfWrapping(m)))&&(f=0,v=this._textLines[m],l=this.getLineWidth(m),l<this.width&&(g=this.textLines[m].match(this._reSpacesAndTabs)))){s=g.length,a=(this.width-l)/s;for(var x=0,w=v.length;x<=w;x++)c=this.__charBounds[m][x],this._reSpaceAndTab.test(v[x])?(c.width+=a,c.kernedWidth+=a,c.left+=f,f+=a):c.left+=f}},isEndOfWrapping:function(a){return a===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var a=this.callSuper("_getCacheCanvasDimensions"),l=this.fontSize;return a.width+=l*a.zoomX,a.height+=l*a.zoomY,a},_render:function(a){var l=this.path;l&&!l.isNotVisible()&&l._render(a),this._setTextStyles(a),this._renderTextLinesBackground(a),this._renderTextDecoration(a,"underline"),this._renderText(a),this._renderTextDecoration(a,"overline"),this._renderTextDecoration(a,"linethrough")},_renderText:function(a){this.paintFirst==="stroke"?(this._renderTextStroke(a),this._renderTextFill(a)):(this._renderTextFill(a),this._renderTextStroke(a))},_setTextStyles:function(a,l,s){if(a.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":a.textBaseline="middle";break;case"ascender":a.textBaseline="top";break;case"descender":a.textBaseline="bottom";break}a.font=this._getFontDeclaration(l,s)},calcTextWidth:function(){for(var a=this.getLineWidth(0),l=1,s=this._textLines.length;l<s;l++){var f=this.getLineWidth(l);f>a&&(a=f)}return a},_renderTextLine:function(a,l,s,f,v,c){this._renderChars(a,l,s,f,v,c)},_renderTextLinesBackground:function(a){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var l,s,f=a.fillStyle,v,c,g=this._getLeftOffset(),m=this._getTopOffset(),b=0,x=0,w,_,S=this.path,E,R=0,N=this._textLines.length;R<N;R++){if(l=this.getHeightOfLine(R),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",R)){m+=l;continue}v=this._textLines[R],s=this._getLineLeftOffset(R),x=0,b=0,c=this.getValueOfPropertyAt(R,0,"textBackgroundColor");for(var K=0,re=v.length;K<re;K++)w=this.__charBounds[R][K],_=this.getValueOfPropertyAt(R,K,"textBackgroundColor"),S?(a.save(),a.translate(w.renderLeft,w.renderTop),a.rotate(w.angle),a.fillStyle=_,_&&a.fillRect(-w.width/2,-l/this.lineHeight*(1-this._fontSizeFraction),w.width,l/this.lineHeight),a.restore()):_!==c?(E=g+s+b,this.direction==="rtl"&&(E=this.width-E-x),a.fillStyle=c,c&&a.fillRect(E,m,x,l/this.lineHeight),b=w.left,x=w.width,c=_):x+=w.kernedWidth;_&&!S&&(E=g+s+b,this.direction==="rtl"&&(E=this.width-E-x),a.fillStyle=_,a.fillRect(E,m,x,l/this.lineHeight)),m+=l}a.fillStyle=f,this._removeShadow(a)}},getFontCache:function(a){var l=a.fontFamily.toLowerCase();i.charWidthsCache[l]||(i.charWidthsCache[l]={});var s=i.charWidthsCache[l],f=a.fontStyle.toLowerCase()+"_"+(a.fontWeight+"").toLowerCase();return s[f]||(s[f]={}),s[f]},_measureChar:function(a,l,s,f){var v=this.getFontCache(l),c=this._getFontDeclaration(l),g=this._getFontDeclaration(f),m=s+a,b=c===g,x,w,_,S=l.fontSize/this.CACHE_FONT_SIZE,E;if(s&&v[s]!==void 0&&(_=v[s]),v[a]!==void 0&&(E=x=v[a]),b&&v[m]!==void 0&&(w=v[m],E=w-_),x===void 0||_===void 0||w===void 0){var R=this.getMeasuringContext();this._setTextStyles(R,l,!0)}return x===void 0&&(E=x=R.measureText(a).width,v[a]=x),_===void 0&&b&&s&&(_=R.measureText(s).width,v[s]=_),b&&w===void 0&&(w=R.measureText(m).width,v[m]=w,E=w-_),{width:x*S,kernedWidth:E*S}},getHeightOfChar:function(a,l){return this.getValueOfPropertyAt(a,l,"fontSize")},measureLine:function(a){var l=this._measureLine(a);return this.charSpacing!==0&&(l.width-=this._getWidthOfCharSpacing()),l.width<0&&(l.width=0),l},_measureLine:function(a){var l=0,s,f,v=this._textLines[a],c,g,m=0,b=new Array(v.length),x=0,w,_,S=this.path,E=this.pathSide==="right";for(this.__charBounds[a]=b,s=0;s<v.length;s++)f=v[s],g=this._getGraphemeBox(f,a,s,c),b[s]=g,l+=g.kernedWidth,c=f;if(b[s]={left:g?g.left+g.width:0,width:0,kernedWidth:0,height:this.fontSize},S){switch(_=S.segmentsInfo[S.segmentsInfo.length-1].length,w=i.util.getPointOnPath(S.path,0,S.segmentsInfo),w.x+=S.pathOffset.x,w.y+=S.pathOffset.y,this.textAlign){case"left":x=E?_-l:0;break;case"center":x=(_-l)/2;break;case"right":x=E?0:_-l;break}for(x+=this.pathStartOffset*(E?-1:1),s=E?v.length-1:0;E?s>=0:s<v.length;E?s--:s++)g=b[s],x>_?x%=_:x<0&&(x+=_),this._setGraphemeOnPath(x,g,w),x+=g.kernedWidth}return{width:l,numOfSpaces:m}},_setGraphemeOnPath:function(a,l,s){var f=a+l.kernedWidth/2,v=this.path,c=i.util.getPointOnPath(v.path,f,v.segmentsInfo);l.renderLeft=c.x-s.x,l.renderTop=c.y-s.y,l.angle=c.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(a,l,s,f,v){var c=this.getCompleteStyleDeclaration(l,s),g=f?this.getCompleteStyleDeclaration(l,s-1):{},m=this._measureChar(a,c,f,g),b=m.kernedWidth,x=m.width,w;this.charSpacing!==0&&(w=this._getWidthOfCharSpacing(),x+=w,b+=w);var _={width:x,left:0,height:c.fontSize,kernedWidth:b,deltaY:c.deltaY};if(s>0&&!v){var S=this.__charBounds[l][s-1];_.left=S.left+S.width+m.kernedWidth-m.width}return _},getHeightOfLine:function(a){if(this.__lineHeights[a])return this.__lineHeights[a];for(var l=this._textLines[a],s=this.getHeightOfChar(a,0),f=1,v=l.length;f<v;f++)s=Math.max(this.getHeightOfChar(a,f),s);return this.__lineHeights[a]=s*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var a,l=0,s=0,f=this._textLines.length;s<f;s++)a=this.getHeightOfLine(s),l+=s===f-1?a/this.lineHeight:a;return l},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(a,l){a.save();for(var s=0,f=this._getLeftOffset(),v=this._getTopOffset(),c=0,g=this._textLines.length;c<g;c++){var m=this.getHeightOfLine(c),b=m/this.lineHeight,x=this._getLineLeftOffset(c);this._renderTextLine(l,a,this._textLines[c],f+x,v+s+b,c),s+=m}a.restore()},_renderTextFill:function(a){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(a,"fillText")},_renderTextStroke:function(a){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(a),a.save(),this._setLineDash(a,this.strokeDashArray),a.beginPath(),this._renderTextCommon(a,"strokeText"),a.closePath(),a.restore())},_renderChars:function(a,l,s,f,v,c){var g=this.getHeightOfLine(c),m=this.textAlign.indexOf("justify")!==-1,b,x,w="",_,S=0,E,R=this.path,N=!m&&this.charSpacing===0&&this.isEmptyStyles(c)&&!R,K=this.direction==="ltr",re=this.direction==="ltr"?1:-1,ie,ne=l.canvas.getAttribute("dir");if(l.save(),ne!==this.direction&&(l.canvas.setAttribute("dir",K?"ltr":"rtl"),l.direction=K?"ltr":"rtl",l.textAlign=K?"left":"right"),v-=g*this._fontSizeFraction/this.lineHeight,N){this._renderChar(a,l,c,0,s.join(""),f,v,g),l.restore();return}for(var oe=0,de=s.length-1;oe<=de;oe++)E=oe===de||this.charSpacing||R,w+=s[oe],_=this.__charBounds[c][oe],S===0?(f+=re*(_.kernedWidth-_.width),S+=_.width):S+=_.kernedWidth,m&&!E&&this._reSpaceAndTab.test(s[oe])&&(E=!0),E||(b=b||this.getCompleteStyleDeclaration(c,oe),x=this.getCompleteStyleDeclaration(c,oe+1),E=i.util.hasStyleChanged(b,x,!1)),E&&(R?(l.save(),l.translate(_.renderLeft,_.renderTop),l.rotate(_.angle),this._renderChar(a,l,c,oe,w,-S/2,0,g),l.restore()):(ie=f,this._renderChar(a,l,c,oe,w,ie,v,g)),w="",b=x,f+=re*S,S=0);l.restore()},_applyPatternGradientTransformText:function(a){var l=i.util.createCanvasElement(),s,f=this.width+this.strokeWidth,v=this.height+this.strokeWidth;return l.width=f,l.height=v,s=l.getContext("2d"),s.beginPath(),s.moveTo(0,0),s.lineTo(f,0),s.lineTo(f,v),s.lineTo(0,v),s.closePath(),s.translate(f/2,v/2),s.fillStyle=a.toLive(s),this._applyPatternGradientTransform(s,a),s.fill(),s.createPattern(l,"no-repeat")},handleFiller:function(a,l,s){var f,v;return s.toLive?s.gradientUnits==="percentage"||s.gradientTransform||s.patternTransform?(f=-this.width/2,v=-this.height/2,a.translate(f,v),a[l]=this._applyPatternGradientTransformText(s),{offsetX:f,offsetY:v}):(a[l]=s.toLive(a,this),this._applyPatternGradientTransform(a,s)):(a[l]=s,{offsetX:0,offsetY:0})},_setStrokeStyles:function(a,l){return a.lineWidth=l.strokeWidth,a.lineCap=this.strokeLineCap,a.lineDashOffset=this.strokeDashOffset,a.lineJoin=this.strokeLineJoin,a.miterLimit=this.strokeMiterLimit,this.handleFiller(a,"strokeStyle",l.stroke)},_setFillStyles:function(a,l){return this.handleFiller(a,"fillStyle",l.fill)},_renderChar:function(a,l,s,f,v,c,g){var m=this._getStyleDeclaration(s,f),b=this.getCompleteStyleDeclaration(s,f),x=a==="fillText"&&b.fill,w=a==="strokeText"&&b.stroke&&b.strokeWidth,_,S;!w&&!x||(l.save(),x&&(_=this._setFillStyles(l,b)),w&&(S=this._setStrokeStyles(l,b)),l.font=this._getFontDeclaration(b),m&&m.textBackgroundColor&&this._removeShadow(l),m&&m.deltaY&&(g+=m.deltaY),x&&l.fillText(v,c-_.offsetX,g-_.offsetY),w&&l.strokeText(v,c-S.offsetX,g-S.offsetY),l.restore())},setSuperscript:function(a,l){return this._setScript(a,l,this.superscript)},setSubscript:function(a,l){return this._setScript(a,l,this.subscript)},_setScript:function(a,l,s){var f=this.get2DCursorLocation(a,!0),v=this.getValueOfPropertyAt(f.lineIndex,f.charIndex,"fontSize"),c=this.getValueOfPropertyAt(f.lineIndex,f.charIndex,"deltaY"),g={fontSize:v*s.size,deltaY:c+v*s.baseline};return this.setSelectionStyles(g,a,l),this},_getLineLeftOffset:function(a){var l=this.getLineWidth(a),s=this.width-l,f=this.textAlign,v=this.direction,g,c=0,g=this.isEndOfWrapping(a);return f==="justify"||f==="justify-center"&&!g||f==="justify-right"&&!g||f==="justify-left"&&!g?0:(f==="center"&&(c=s/2),f==="right"&&(c=s),f==="justify-center"&&(c=s/2),f==="justify-right"&&(c=s),v==="rtl"&&(c-=s),c)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var a=this._forceClearCache;return a||(a=this.hasStateChanged("_dimensionAffectingProps")),a&&(this.dirty=!0,this._forceClearCache=!1),a},getLineWidth:function(a){if(this.__lineWidths[a]!==void 0)return this.__lineWidths[a];var l=this.measureLine(a),s=l.width;return this.__lineWidths[a]=s,s},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(a,l,s){var f=this._getStyleDeclaration(a,l);return f&&typeof f[s]<"u"?f[s]:this[s]},_renderTextDecoration:function(a,l){if(!(!this[l]&&!this.styleHas(l))){for(var s,f,v,c,g,m,b,x,w=this._getLeftOffset(),_=this._getTopOffset(),S,E,R,N,K,re,ie,ne,oe=this.path,de=this._getWidthOfCharSpacing(),le=this.offsets[l],Y=0,C=this._textLines.length;Y<C;Y++){if(s=this.getHeightOfLine(Y),!this[l]&&!this.styleHas(l,Y)){_+=s;continue}b=this._textLines[Y],re=s/this.lineHeight,c=this._getLineLeftOffset(Y),E=0,R=0,x=this.getValueOfPropertyAt(Y,0,l),ne=this.getValueOfPropertyAt(Y,0,"fill"),S=_+re*(1-this._fontSizeFraction),f=this.getHeightOfChar(Y,0),g=this.getValueOfPropertyAt(Y,0,"deltaY");for(var P=0,A=b.length;P<A;P++)if(N=this.__charBounds[Y][P],K=this.getValueOfPropertyAt(Y,P,l),ie=this.getValueOfPropertyAt(Y,P,"fill"),v=this.getHeightOfChar(Y,P),m=this.getValueOfPropertyAt(Y,P,"deltaY"),oe&&K&&ie)a.save(),a.fillStyle=ne,a.translate(N.renderLeft,N.renderTop),a.rotate(N.angle),a.fillRect(-N.kernedWidth/2,le*v+m,N.kernedWidth,this.fontSize/15),a.restore();else if((K!==x||ie!==ne||v!==f||m!==g)&&R>0){var M=w+c+E;this.direction==="rtl"&&(M=this.width-M-R),x&&ne&&(a.fillStyle=ne,a.fillRect(M,S+le*f+g,R,this.fontSize/15)),E=N.left,R=N.width,x=K,ne=ie,f=v,g=m}else R+=N.kernedWidth;var M=w+c+E;this.direction==="rtl"&&(M=this.width-M-R),a.fillStyle=ie,K&&ie&&a.fillRect(M,S+le*f+g,R-de,this.fontSize/15),_+=s}this._removeShadow(a)}},_getFontDeclaration:function(a,l){var s=a||this,f=this.fontFamily,v=i.Text.genericFonts.indexOf(f.toLowerCase())>-1,c=f===void 0||f.indexOf("'")>-1||f.indexOf(",")>-1||f.indexOf('"')>-1||v?s.fontFamily:'"'+s.fontFamily+'"';return[i.isLikelyNode?s.fontWeight:s.fontStyle,i.isLikelyNode?s.fontStyle:s.fontWeight,l?this.CACHE_FONT_SIZE+"px":s.fontSize+"px",c].join(" ")},render:function(a){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",a)))},_splitTextIntoLines:function(a){for(var l=a.split(this._reNewline),s=new Array(l.length),f=[`
`],v=[],c=0;c<l.length;c++)s[c]=i.util.string.graphemeSplit(l[c]),v=v.concat(s[c],f);return v.pop(),{_unwrappedLines:s,lines:l,graphemeText:v,graphemeLines:s}},toObject:function(a){var l=d.concat(a),s=this.callSuper("toObject",l);return s.styles=i.util.stylesToArray(this.styles,this.text),s.path&&(s.path=this.path.toObject()),s},set:function(a,l){this.callSuper("set",a,l);var s=!1,f=!1;if(typeof a=="object")for(var v in a)v==="path"&&this.setPathInfo(),s=s||this._dimensionAffectingProps.indexOf(v)!==-1,f=f||v==="path";else s=this._dimensionAffectingProps.indexOf(a)!==-1,f=a==="path";return f&&this.setPathInfo(),s&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),i.Text.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),i.Text.DEFAULT_SVG_FONT_SIZE=16,i.Text.fromElement=function(a,l,s){if(!a)return l(null);var f=i.parseAttributes(a,i.Text.ATTRIBUTE_NAMES),v=f.textAnchor||"left";if(s=i.util.object.extend(s?h(s):{},f),s.top=s.top||0,s.left=s.left||0,f.textDecoration){var c=f.textDecoration;c.indexOf("underline")!==-1&&(s.underline=!0),c.indexOf("overline")!==-1&&(s.overline=!0),c.indexOf("line-through")!==-1&&(s.linethrough=!0),delete s.textDecoration}"dx"in f&&(s.left+=f.dx),"dy"in f&&(s.top+=f.dy),"fontSize"in s||(s.fontSize=i.Text.DEFAULT_SVG_FONT_SIZE);var g="";"textContent"in a?g=a.textContent:"firstChild"in a&&a.firstChild!==null&&"data"in a.firstChild&&a.firstChild.data!==null&&(g=a.firstChild.data),g=g.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var m=s.strokeWidth;s.strokeWidth=0;var b=new i.Text(g,s),x=b.getScaledHeight()/b.height,w=(b.height+b.strokeWidth)*b.lineHeight-b.height,_=w*x,S=b.getScaledHeight()+_,E=0;v==="center"&&(E=b.getScaledWidth()/2),v==="right"&&(E=b.getScaledWidth()),b.set({left:b.left-E,top:b.top-(S-b.fontSize*(.07+b._fontSizeFraction))/b.lineHeight,strokeWidth:typeof m<"u"?m:1}),l(b)},i.Text.fromObject=function(a,l){var s=h(a),f=a.path;return delete s.path,i.Object._fromObject("Text",s,function(v){v.styles=i.util.stylesFromArray(a.styles,a.text),f?i.Object._fromObject("Path",f,function(c){v.set("path",c),l(v)},"path"):l(v)},"text")},i.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],i.util.createAccessors&&i.util.createAccessors(i.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(u){if(!this.styles||typeof u<"u"&&!this.styles[u])return!0;var i=typeof u>"u"?this.styles:{line:this.styles[u]};for(var h in i)for(var d in i[h])for(var a in i[h][d])return!1;return!0},styleHas:function(u,i){if(!this.styles||!u||u===""||typeof i<"u"&&!this.styles[i])return!1;var h=typeof i>"u"?this.styles:{0:this.styles[i]};for(var d in h)for(var a in h[d])if(typeof h[d][a][u]<"u")return!0;return!1},cleanStyle:function(u){if(!this.styles||!u||u==="")return!1;var i=this.styles,h=0,d,a,l=!0,s=0,f;for(var v in i){d=0;for(var c in i[v]){var f=i[v][c],g=f.hasOwnProperty(u);h++,g?(a?f[u]!==a&&(l=!1):a=f[u],f[u]===this[u]&&delete f[u]):l=!1,Object.keys(f).length!==0?d++:delete i[v][c]}d===0&&delete i[v]}for(var m=0;m<this._textLines.length;m++)s+=this._textLines[m].length;l&&h===s&&(this[u]=a,this.removeStyle(u))},removeStyle:function(u){if(!(!this.styles||!u||u==="")){var i=this.styles,h,d,a;for(d in i){h=i[d];for(a in h)delete h[a][u],Object.keys(h[a]).length===0&&delete h[a];Object.keys(h).length===0&&delete i[d]}}},_extendStyles:function(u,i){var h=this.get2DCursorLocation(u);this._getLineStyle(h.lineIndex)||this._setLineStyle(h.lineIndex),this._getStyleDeclaration(h.lineIndex,h.charIndex)||this._setStyleDeclaration(h.lineIndex,h.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(h.lineIndex,h.charIndex),i)},get2DCursorLocation:function(u,i){typeof u>"u"&&(u=this.selectionStart);for(var h=i?this._unwrappedTextLines:this._textLines,d=h.length,a=0;a<d;a++){if(u<=h[a].length)return{lineIndex:a,charIndex:u};u-=h[a].length+this.missingNewlineOffset(a)}return{lineIndex:a-1,charIndex:h[a-1].length<u?h[a-1].length:u}},getSelectionStyles:function(u,i,h){typeof u>"u"&&(u=this.selectionStart||0),typeof i>"u"&&(i=this.selectionEnd||u);for(var d=[],a=u;a<i;a++)d.push(this.getStyleAtPosition(a,h));return d},getStyleAtPosition:function(u,i){var h=this.get2DCursorLocation(u),d=i?this.getCompleteStyleDeclaration(h.lineIndex,h.charIndex):this._getStyleDeclaration(h.lineIndex,h.charIndex);return d||{}},setSelectionStyles:function(u,i,h){typeof i>"u"&&(i=this.selectionStart||0),typeof h>"u"&&(h=this.selectionEnd||i);for(var d=i;d<h;d++)this._extendStyles(d,u);return this._forceClearCache=!0,this},_getStyleDeclaration:function(u,i){var h=this.styles&&this.styles[u];return h?h[i]:null},getCompleteStyleDeclaration:function(u,i){for(var h=this._getStyleDeclaration(u,i)||{},d={},a,l=0;l<this._styleProperties.length;l++)a=this._styleProperties[l],d[a]=typeof h[a]>"u"?this[a]:h[a];return d},_setStyleDeclaration:function(u,i,h){this.styles[u][i]=h},_deleteStyleDeclaration:function(u,i){delete this.styles[u][i]},_getLineStyle:function(u){return!!this.styles[u]},_setLineStyle:function(u){this.styles[u]={}},_deleteLineStyle:function(u){delete this.styles[u]}})}(),function(){function u(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(i,h){this.callSuper("initialize",i,h),this.initBehavior()},setSelectionStart:function(i){i=Math.max(i,0),this._updateAndFire("selectionStart",i)},setSelectionEnd:function(i){i=Math.min(i,this.text.length),this._updateAndFire("selectionEnd",i)},_updateAndFire:function(i,h){this[i]!==h&&(this._fireSelectionChanged(),this[i]=h),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(i){this.clearContextTop(),this.callSuper("render",i),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(i){this.callSuper("_render",i)},clearContextTop:function(i){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var h=this.canvas.contextTop,d=this.canvas.viewportTransform;h.save(),h.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this.transform(h),this._clearTextArea(h),i||h.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var i=this._getCursorBoundaries(),h=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(i,h):this.renderSelection(i,h),h.restore()}},_clearTextArea:function(i){var h=this.width+4,d=this.height+4;i.clearRect(-h/2,-d/2,h,d)},_getCursorBoundaries:function(i){typeof i>"u"&&(i=this.selectionStart);var h=this._getLeftOffset(),d=this._getTopOffset(),a=this._getCursorBoundariesOffsets(i);return{left:h,top:d,leftOffset:a.left,topOffset:a.top}},_getCursorBoundariesOffsets:function(i){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var h,d,a,l=0,s=0,f,v=this.get2DCursorLocation(i);a=v.charIndex,d=v.lineIndex;for(var c=0;c<d;c++)l+=this.getHeightOfLine(c);h=this._getLineLeftOffset(d);var g=this.__charBounds[d][a];return g&&(s=g.left),this.charSpacing!==0&&a===this._textLines[d].length&&(s-=this._getWidthOfCharSpacing()),f={top:l,left:h+(s>0?s:0)},this.direction==="rtl"&&(f.left*=-1),this.cursorOffsetCache=f,this.cursorOffsetCache},renderCursor:function(i,h){var d=this.get2DCursorLocation(),a=d.lineIndex,l=d.charIndex>0?d.charIndex-1:0,s=this.getValueOfPropertyAt(a,l,"fontSize"),f=this.scaleX*this.canvas.getZoom(),v=this.cursorWidth/f,c=i.topOffset,g=this.getValueOfPropertyAt(a,l,"deltaY");c+=(1-this._fontSizeFraction)*this.getHeightOfLine(a)/this.lineHeight-s*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(i,h),h.fillStyle=this.cursorColor||this.getValueOfPropertyAt(a,l,"fill"),h.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,h.fillRect(i.left+i.leftOffset-v/2,c+i.top+g,v,s)},renderSelection:function(i,h){for(var d=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,a=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,l=this.textAlign.indexOf("justify")!==-1,s=this.get2DCursorLocation(d),f=this.get2DCursorLocation(a),v=s.lineIndex,c=f.lineIndex,g=s.charIndex<0?0:s.charIndex,m=f.charIndex<0?0:f.charIndex,b=v;b<=c;b++){var x=this._getLineLeftOffset(b)||0,w=this.getHeightOfLine(b),_=0,S=0,E=0;if(b===v&&(S=this.__charBounds[v][g].left),b>=v&&b<c)E=l&&!this.isEndOfWrapping(b)?this.width:this.getLineWidth(b)||5;else if(b===c)if(m===0)E=this.__charBounds[c][m].left;else{var R=this._getWidthOfCharSpacing();E=this.__charBounds[c][m-1].left+this.__charBounds[c][m-1].width-R}_=w,(this.lineHeight<1||b===c&&this.lineHeight>1)&&(w/=this.lineHeight);var N=i.left+x+S,K=E-S,re=w,ie=0;this.inCompositionMode?(h.fillStyle=this.compositionColor||"black",re=1,ie=w):h.fillStyle=this.selectionColor,this.direction==="rtl"&&(N=this.width-N-K),h.fillRect(N,i.top+i.topOffset+ie,K,re),i.topOffset+=_}},getCurrentCharFontSize:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fontSize")},getCurrentCharColor:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fill")},_getCurrentCharIndex:function(){var i=this.get2DCursorLocation(this.selectionStart,!0),h=i.charIndex>0?i.charIndex-1:0;return{l:i.lineIndex,c:h}}}),t.IText.fromObject=function(i,h){var d=t.util.stylesFromArray(i.styles,i.text),a=Object.assign({},i,{styles:d});if(u(a),a.styles)for(var l in a.styles)for(var s in a.styles[l])u(a.styles[l][s]);t.Object._fromObject("IText",a,h,"text")}}(),function(){var u=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var i=this;this.on("added",function(){var h=i.canvas;h&&(h._hasITextHandlers||(h._hasITextHandlers=!0,i._initCanvasHandlers(h)),h._iTextInstances=h._iTextInstances||[],h._iTextInstances.push(i))})},initRemovedHandler:function(){var i=this;this.on("removed",function(){var h=i.canvas;h&&(h._iTextInstances=h._iTextInstances||[],t.util.removeFromArray(h._iTextInstances,i),h._iTextInstances.length===0&&(h._hasITextHandlers=!1,i._removeCanvasHandlers(h)))})},_initCanvasHandlers:function(i){i._mouseUpITextHandler=function(){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.__isMousedown=!1})},i.on("mouse:up",i._mouseUpITextHandler)},_removeCanvasHandlers:function(i){i.off("mouse:up",i._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(i,h,d,a){var l;return l={isAborted:!1,abort:function(){this.isAborted=!0}},i.animate("_currentCursorOpacity",h,{duration:d,onComplete:function(){l.isAborted||i[a]()},onChange:function(){i.canvas&&i.selectionStart===i.selectionEnd&&i.renderCursorOrSelection()},abort:function(){return l.isAborted}}),l},_onTickComplete:function(){var i=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){i._currentTickCompleteState=i._animateCursor(i,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(i){var h=this,d=i?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){h._tick()},d)},abortCursorAnimation:function(){var i=this._currentTickState||this._currentTickCompleteState,h=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,i&&h&&h.clearContext(h.contextTop||h.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(i){var h=0,d=i-1;if(this._reSpace.test(this._text[d]))for(;this._reSpace.test(this._text[d]);)h++,d--;for(;/\S/.test(this._text[d])&&d>-1;)h++,d--;return i-h},findWordBoundaryRight:function(i){var h=0,d=i;if(this._reSpace.test(this._text[d]))for(;this._reSpace.test(this._text[d]);)h++,d++;for(;/\S/.test(this._text[d])&&d<this._text.length;)h++,d++;return i+h},findLineBoundaryLeft:function(i){for(var h=0,d=i-1;!/\n/.test(this._text[d])&&d>-1;)h++,d--;return i-h},findLineBoundaryRight:function(i){for(var h=0,d=i;!/\n/.test(this._text[d])&&d<this._text.length;)h++,d++;return i+h},searchWordBoundary:function(i,h){for(var d=this._text,a=this._reSpace.test(d[i])?i-1:i,l=d[a],s=t.reNonWord;!s.test(l)&&a>0&&a<d.length;)a+=h,l=d[a];return s.test(l)&&(a+=h===1?0:1),a},selectWord:function(i){i=i||this.selectionStart;var h=this.searchWordBoundary(i,-1),d=this.searchWordBoundary(i,1);this.selectionStart=h,this.selectionEnd=d,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(i){i=i||this.selectionStart;var h=this.findLineBoundaryLeft(i),d=this.findLineBoundaryRight(i);return this.selectionStart=h,this.selectionEnd=d,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(i){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(i),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(i){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.selected=!1,h.isEditing&&h.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(i){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var h=this.getSelectionStartFromPointer(i.e),d=this.selectionStart,a=this.selectionEnd;(h!==this.__selectionStartOnMouseDown||d===a)&&(d===h||a===h)||(h>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=h):(this.selectionStart=h,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==d||this.selectionEnd!==a)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(i,h,d){var a=d.slice(0,i),l=t.util.string.graphemeSplit(a).length;if(i===h)return{selectionStart:l,selectionEnd:l};var s=d.slice(i,h),f=t.util.string.graphemeSplit(s).length;return{selectionStart:l,selectionEnd:l+f}},fromGraphemeToStringSelection:function(i,h,d){var a=d.slice(0,i),l=a.join("").length;if(i===h)return{selectionStart:l,selectionEnd:l};var s=d.slice(i,h),f=s.join("").length;return{selectionStart:l,selectionEnd:l+f}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var i=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=i.selectionStart,this.hiddenTextarea.selectionEnd=i.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var i=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var i=this._calcTextareaPosition();this.hiddenTextarea.style.left=i.left,this.hiddenTextarea.style.top=i.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var i=this.inCompositionMode?this.compositionStart:this.selectionStart,h=this._getCursorBoundaries(i),d=this.get2DCursorLocation(i),a=d.lineIndex,l=d.charIndex,s=this.getValueOfPropertyAt(a,l,"fontSize")*this.lineHeight,f=h.leftOffset,v=this.calcTransformMatrix(),c={x:h.left+f,y:h.top+h.topOffset+s},g=this.canvas.getRetinaScaling(),m=this.canvas.upperCanvasEl,b=m.width/g,x=m.height/g,w=b-s,_=x-s,S=m.clientWidth/b,E=m.clientHeight/x;return c=t.util.transformPoint(c,v),c=t.util.transformPoint(c,this.canvas.viewportTransform),c.x*=S,c.y*=E,c.x<0&&(c.x=0),c.x>w&&(c.x=w),c.y<0&&(c.y=0),c.y>_&&(c.y=_),c.x+=this.canvas._offset.left,c.y+=this.canvas._offset.top,{left:c.x+"px",top:c.y+"px",fontSize:s+"px",charHeight:s}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var i=this._textBeforeEdit!==this.text,h=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,h&&(h.blur&&h.blur(),h.parentNode&&h.parentNode.removeChild(h)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),i&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),i&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var i in this.styles)this._textLines[i]||delete this.styles[i]},removeStyleFromTo:function(i,h){var d=this.get2DCursorLocation(i,!0),a=this.get2DCursorLocation(h,!0),l=d.lineIndex,s=d.charIndex,f=a.lineIndex,v=a.charIndex,c,g;if(l!==f){if(this.styles[l])for(c=s;c<this._unwrappedTextLines[l].length;c++)delete this.styles[l][c];if(this.styles[f])for(c=v;c<this._unwrappedTextLines[f].length;c++)g=this.styles[f][c],g&&(this.styles[l]||(this.styles[l]={}),this.styles[l][s+c-v]=g);for(c=l+1;c<=f;c++)delete this.styles[c];this.shiftLineStyles(f,l-f)}else if(this.styles[l]){g=this.styles[l];var m=v-s,b,x;for(c=s;c<v;c++)delete g[c];for(x in this.styles[l])b=parseInt(x,10),b>=v&&(g[b-m]=g[x],delete g[x])}},shiftLineStyles:function(i,h){var d=u(this.styles);for(var a in this.styles){var l=parseInt(a,10);l>i&&(this.styles[l+h]=d[l],d[l-h]||delete this.styles[l])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(i,h,d,a){var l,s={},f=!1,v=this._unwrappedTextLines[i].length===h;d||(d=1),this.shiftLineStyles(i,d),this.styles[i]&&(l=this.styles[i][h===0?h:h-1]);for(var c in this.styles[i]){var g=parseInt(c,10);g>=h&&(f=!0,s[g-h]=this.styles[i][c],v&&h===0||delete this.styles[i][c])}var m=!1;for(f&&!v&&(this.styles[i+d]=s,m=!0),m&&d--;d>0;)a&&a[d-1]?this.styles[i+d]={0:u(a[d-1])}:l?this.styles[i+d]={0:u(l)}:delete this.styles[i+d],d--;this._forceClearCache=!0},insertCharStyleObject:function(i,h,d,a){this.styles||(this.styles={});var l=this.styles[i],s=l?u(l):{};d||(d=1);for(var f in s){var v=parseInt(f,10);v>=h&&(l[v+d]=s[v],s[v-d]||delete l[v])}if(this._forceClearCache=!0,a){for(;d--;)Object.keys(a[d]).length&&(this.styles[i]||(this.styles[i]={}),this.styles[i][h+d]=u(a[d]));return}if(l)for(var c=l[h?h-1:1];c&&d--;)this.styles[i][h+d]=u(c)},insertNewStyleBlock:function(i,h,d){for(var a=this.get2DCursorLocation(h,!0),l=[0],s=0,f=0;f<i.length;f++)i[f]===`
`?(s++,l[s]=0):l[s]++;l[0]>0&&(this.insertCharStyleObject(a.lineIndex,a.charIndex,l[0],d),d=d&&d.slice(l[0]+1)),s&&this.insertNewlineStyleObject(a.lineIndex,a.charIndex+l[0],s);for(var f=1;f<s;f++)l[f]>0?this.insertCharStyleObject(a.lineIndex+f,0,l[f],d):d&&this.styles[a.lineIndex+f]&&d[0]&&(this.styles[a.lineIndex+f][0]=d[0]),d=d&&d.slice(l[f]+1);l[f]>0&&this.insertCharStyleObject(a.lineIndex+f,0,l[f],d)},setSelectionStartEndWithShift:function(i,h,d){d<=i?(h===i?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=i),this.selectionStart=d):d>i&&d<h?this._selectionDirection==="right"?this.selectionEnd=d:this.selectionStart=d:(h===i?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=h),this.selectionEnd=d)},setSelectionInBoundaries:function(){var i=this.text.length;this.selectionStart>i?this.selectionStart=i:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>i?this.selectionEnd=i:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(u){if(this.canvas){this.__newClickTime=+new Date;var i=u.pointer;this.isTripleClick(i)&&(this.fire("tripleclick",u),this._stopEvent(u.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=i,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(u){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===u.x&&this.__lastPointer.y===u.y},_stopEvent:function(u){u.preventDefault&&u.preventDefault(),u.stopPropagation&&u.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(u){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(u.e))},tripleClickHandler:function(u){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(u.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(u){!this.canvas||!this.editable||u.e.button&&u.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(u.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(u){!this.canvas||!this.editable||u.e.button&&u.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(u){if(this.__isMousedown=!1,!(!this.editable||this.group||u.transform&&u.transform.actionPerformed||u.e.button&&u.e.button!==1)){if(this.canvas){var i=this.canvas._activeObject;if(i&&i!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(u.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(u){var i=this.getSelectionStartFromPointer(u),h=this.selectionStart,d=this.selectionEnd;u.shiftKey?this.setSelectionStartEndWithShift(h,d,i):(this.selectionStart=i,this.selectionEnd=i),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(u){for(var i=this.getLocalPointer(u),h=0,d=0,a=0,l=0,s=0,f,v,c=0,g=this._textLines.length;c<g&&a<=i.y;c++)a+=this.getHeightOfLine(c)*this.scaleY,s=c,c>0&&(l+=this._textLines[c-1].length+this.missingNewlineOffset(c-1));f=this._getLineLeftOffset(s),d=f*this.scaleX,v=this._textLines[s],this.direction==="rtl"&&(i.x=this.width*this.scaleX-i.x+d);for(var m=0,b=v.length;m<b&&(h=d,d+=this.__charBounds[s][m].kernedWidth*this.scaleX,d<=i.x);m++)l++;return this._getNewSelectionStartFromOffset(i,h,d,l,b)},_getNewSelectionStartFromOffset:function(u,i,h,d,a){var l=u.x-i,s=h-u.x,f=s>l||s<0?0:1,v=d+f;return this.flipX&&(v=a-v),v>this._text.length&&(v=this._text.length),v}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var u=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+u.top+"; left: "+u.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+u.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(u){if(this.isEditing){var i=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(u.keyCode in i)this[i[u.keyCode]](u);else if(u.keyCode in this.ctrlKeysMapDown&&(u.ctrlKey||u.metaKey))this[this.ctrlKeysMapDown[u.keyCode]](u);else return;u.stopImmediatePropagation(),u.preventDefault(),u.keyCode>=33&&u.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(u){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(u.keyCode in this.ctrlKeysMapUp&&(u.ctrlKey||u.metaKey))this[this.ctrlKeysMapUp[u.keyCode]](u);else return;u.stopImmediatePropagation(),u.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(u){var i=this.fromPaste;if(this.fromPaste=!1,u&&u.stopPropagation(),!!this.isEditing){var h=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,d=this._text.length,a=h.length,l,s,f=a-d,v=this.selectionStart,c=this.selectionEnd,g=v!==c,m,b,x;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var w=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),_=v>w.selectionStart;g?(l=this._text.slice(v,c),f+=c-v):a<d&&(_?l=this._text.slice(c+f,c):l=this._text.slice(v,v-f)),s=h.slice(w.selectionEnd-f,w.selectionEnd),l&&l.length&&(s.length&&(m=this.getSelectionStyles(v,v+1,!1),m=s.map(function(){return m[0]})),g?(b=v,x=c):_?(b=c-l.length,x=c):(b=c,x=c+l.length),this.removeStyleFromTo(b,x)),s.length&&(i&&s.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(m=t.copiedTextStyle),this.insertNewStyleBlock(s,v,m)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(u){this.compositionStart=u.target.selectionStart,this.compositionEnd=u.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(u){return u&&u.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(u,i){var h=this._getLineLeftOffset(u),d;return i>0&&(d=this.__charBounds[u][i-1],h+=d.left+d.width),h},getDownCursorOffset:function(u,i){var h=this._getSelectionForOffset(u,i),d=this.get2DCursorLocation(h),a=d.lineIndex;if(a===this._textLines.length-1||u.metaKey||u.keyCode===34)return this._text.length-h;var l=d.charIndex,s=this._getWidthBeforeCursor(a,l),f=this._getIndexOnLine(a+1,s),v=this._textLines[a].slice(l);return v.length+f+1+this.missingNewlineOffset(a)},_getSelectionForOffset:function(u,i){return u.shiftKey&&this.selectionStart!==this.selectionEnd&&i?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(u,i){var h=this._getSelectionForOffset(u,i),d=this.get2DCursorLocation(h),a=d.lineIndex;if(a===0||u.metaKey||u.keyCode===33)return-h;var l=d.charIndex,s=this._getWidthBeforeCursor(a,l),f=this._getIndexOnLine(a-1,s),v=this._textLines[a].slice(0,l),c=this.missingNewlineOffset(a-1);return-this._textLines[a-1].length+f-v.length+(1-c)},_getIndexOnLine:function(u,i){for(var h=this._textLines[u],d=this._getLineLeftOffset(u),a=d,l=0,s,f,v=0,c=h.length;v<c;v++)if(s=this.__charBounds[u][v].width,a+=s,a>i){f=!0;var g=a-s,m=a,b=Math.abs(g-i),x=Math.abs(m-i);l=x<b?v:v-1;break}return f||(l=h.length-1),l},moveCursorDown:function(u){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",u)},moveCursorUp:function(u){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",u)},_moveCursorUpOrDown:function(u,i){var h="get"+u+"CursorOffset",d=this[h](i,this._selectionDirection==="right");i.shiftKey?this.moveCursorWithShift(d):this.moveCursorWithoutShift(d),d!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(u){var i=this._selectionDirection==="left"?this.selectionStart+u:this.selectionEnd+u;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,i),u!==0},moveCursorWithoutShift:function(u){return u<0?(this.selectionStart+=u,this.selectionEnd=this.selectionStart):(this.selectionEnd+=u,this.selectionStart=this.selectionEnd),u!==0},moveCursorLeft:function(u){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",u)},_move:function(u,i,h){var d;if(u.altKey)d=this["findWordBoundary"+h](this[i]);else if(u.metaKey||u.keyCode===35||u.keyCode===36)d=this["findLineBoundary"+h](this[i]);else return this[i]+=h==="Left"?-1:1,!0;if(typeof d<"u"&&this[i]!==d)return this[i]=d,!0},_moveLeft:function(u,i){return this._move(u,i,"Left")},_moveRight:function(u,i){return this._move(u,i,"Right")},moveCursorLeftWithoutShift:function(u){var i=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(i=this._moveLeft(u,"selectionStart")),this.selectionEnd=this.selectionStart,i},moveCursorLeftWithShift:function(u){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(u,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(u,"selectionStart")},moveCursorRight:function(u){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",u)},_moveCursorLeftOrRight:function(u,i){var h="moveCursor"+u+"With";this._currentCursorOpacity=1,i.shiftKey?h+="Shift":h+="outShift",this[h](i)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(u){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(u,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(u,"selectionEnd")},moveCursorRightWithoutShift:function(u){var i=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(i=this._moveRight(u,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,i},removeChars:function(u,i){typeof i>"u"&&(i=u+1),this.removeStyleFromTo(u,i),this._text.splice(u,i-u),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(u,i,h,d){typeof d>"u"&&(d=h),d>h&&this.removeStyleFromTo(h,d);var a=t.util.string.graphemeSplit(u);this.insertNewStyleBlock(a,h,i),this._text=[].concat(this._text.slice(0,h),a,this._text.slice(d)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var u=t.util.toFixed,i=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var h=this._getSVGLeftTopOffsets(),d=this._getSVGTextAndBg(h.textTop,h.textLeft);return this._wrapSVGTextAndBg(d)},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(),{reviver:h,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(h){var d=!0,a=this.getSvgTextDecoration(this);return[h.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",a?'text-decoration="'+a+'" ':"",'style="',this.getSvgStyles(d),'"',this.addPaintOrder()," >",h.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(h,d){var a=[],l=[],s=h,f;this._setSVGBg(l);for(var v=0,c=this._textLines.length;v<c;v++)f=this._getLineLeftOffset(v),(this.textBackgroundColor||this.styleHas("textBackgroundColor",v))&&this._setSVGTextLineBg(l,v,d+f,s),this._setSVGTextLineText(a,v,d+f,s),s+=this.getHeightOfLine(v);return{textSpans:a,textBgRects:l}},_createTextCharSpan:function(h,d,a,l){var s=h!==h.trim()||h.match(i),f=this.getSvgSpanStyles(d,s),v=f?'style="'+f+'"':"",c=d.deltaY,g="",m=t.Object.NUM_FRACTION_DIGITS;return c&&(g=' dy="'+u(c,m)+'" '),['<tspan x="',u(a,m),'" y="',u(l,m),'" ',g,v,">",t.util.string.escapeXml(h),"</tspan>"].join("")},_setSVGTextLineText:function(h,d,a,l){var s=this.getHeightOfLine(d),f=this.textAlign.indexOf("justify")!==-1,v,c,g="",m,b,x=0,w=this._textLines[d],_;l+=s*(1-this._fontSizeFraction)/this.lineHeight;for(var S=0,E=w.length-1;S<=E;S++)_=S===E||this.charSpacing,g+=w[S],m=this.__charBounds[d][S],x===0?(a+=m.kernedWidth-m.width,x+=m.width):x+=m.kernedWidth,f&&!_&&this._reSpaceAndTab.test(w[S])&&(_=!0),_||(v=v||this.getCompleteStyleDeclaration(d,S),c=this.getCompleteStyleDeclaration(d,S+1),_=t.util.hasStyleChanged(v,c,!0)),_&&(b=this._getStyleDeclaration(d,S)||{},h.push(this._createTextCharSpan(g,b,a,l)),g="",v=c,a+=x,x=0)},_pushTextBgRect:function(h,d,a,l,s,f){var v=t.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(d),' x="',u(a,v),'" y="',u(l,v),'" width="',u(s,v),'" height="',u(f,v),`"></rect>
`)},_setSVGTextLineBg:function(h,d,a,l){for(var s=this._textLines[d],f=this.getHeightOfLine(d)/this.lineHeight,v=0,c=0,g,m,b=this.getValueOfPropertyAt(d,0,"textBackgroundColor"),x=0,w=s.length;x<w;x++)g=this.__charBounds[d][x],m=this.getValueOfPropertyAt(d,x,"textBackgroundColor"),m!==b?(b&&this._pushTextBgRect(h,b,a+c,l,v,f),c=g.left,v=g.width,b=m):v+=g.kernedWidth;m&&this._pushTextBgRect(h,m,a+c,l,v,f)},_getFillAttributes:function(h){var d=h&&typeof h=="string"?new t.Color(h):"";return!d||!d.getSource()||d.getAlpha()===1?'fill="'+h+'"':'opacity="'+d.getAlpha()+'" fill="'+d.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(h){for(var d=0,a=0,l=0;l<h;l++)d+=this.getHeightOfLine(l);return a=this.getHeightOfLine(l),{lineTop:d,offset:(this._fontSizeMult-this._fontSizeFraction)*a/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(h){var d=t.Object.prototype.getSvgStyles.call(this,h);return d+" white-space: pre;"}})}(),function(u){var i=u.fabric||(u.fabric={});i.Textbox=i.util.createClass(i.IText,i.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:i.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(h){for(var d=0,a=0,l=0,s={},f=0;f<h.graphemeLines.length;f++)h.graphemeText[l]===`
`&&f>0?(a=0,l++,d++):!this.splitByGrapheme&&this._reSpaceAndTab.test(h.graphemeText[l])&&f>0&&(a++,l++),s[f]={line:d,offset:a},l+=h.graphemeLines[f].length,a+=h.graphemeLines[f].length;return s},styleHas:function(h,d){if(this._styleMap&&!this.isWrapping){var a=this._styleMap[d];a&&(d=a.line)}return i.Text.prototype.styleHas.call(this,h,d)},isEmptyStyles:function(h){if(!this.styles)return!0;var d=0,a=h+1,l,s,f=!1,v=this._styleMap[h],c=this._styleMap[h+1];v&&(h=v.line,d=v.offset),c&&(a=c.line,f=a===h,l=c.offset),s=typeof h>"u"?this.styles:{line:this.styles[h]};for(var g in s)for(var m in s[g])if(m>=d&&(!f||m<l))for(var b in s[g][m])return!1;return!0},_getStyleDeclaration:function(h,d){if(this._styleMap&&!this.isWrapping){var a=this._styleMap[h];if(!a)return null;h=a.line,d=a.offset+d}return this.callSuper("_getStyleDeclaration",h,d)},_setStyleDeclaration:function(h,d,a){var l=this._styleMap[h];h=l.line,d=l.offset+d,this.styles[h][d]=a},_deleteStyleDeclaration:function(h,d){var a=this._styleMap[h];h=a.line,d=a.offset+d,delete this.styles[h][d]},_getLineStyle:function(h){var d=this._styleMap[h];return!!this.styles[d.line]},_setLineStyle:function(h){var d=this._styleMap[h];this.styles[d.line]={}},_wrapText:function(h,d){var a=[],l;for(this.isWrapping=!0,l=0;l<h.length;l++)a=a.concat(this._wrapLine(h[l],l,d));return this.isWrapping=!1,a},_measureWord:function(h,d,a){var l=0,s,f=!0;a=a||0;for(var v=0,c=h.length;v<c;v++){var g=this._getGraphemeBox(h[v],d,v+a,s,f);l+=g.kernedWidth,s=h[v]}return l},_wrapLine:function(h,d,a,N){var s=0,f=this.splitByGrapheme,v=[],c=[],g=f?i.util.string.graphemeSplit(h):h.split(this._wordJoiners),m="",b=0,x=f?"":" ",w=0,_=0,S=0,E=!0,R=this._getWidthOfCharSpacing(),N=N||0;g.length===0&&g.push([]),a-=N;for(var K=0;K<g.length;K++)m=f?g[K]:i.util.string.graphemeSplit(g[K]),w=this._measureWord(m,d,b),b+=m.length,s+=_+w-R,s>a&&!E?(v.push(c),c=[],s=w,E=!0):s+=R,!E&&!f&&c.push(x),c=c.concat(m),_=f?0:this._measureWord([x],d,b),b++,E=!1,w>S&&(S=w);return K&&v.push(c),S+N>this.dynamicMinWidth&&(this.dynamicMinWidth=S-R+N),v},isEndOfWrapping:function(h){return!this._styleMap[h+1]||this._styleMap[h+1].line!==this._styleMap[h].line},missingNewlineOffset:function(h){return this.splitByGrapheme?this.isEndOfWrapping(h)?1:0:1},_splitTextIntoLines:function(h){for(var d=i.Text.prototype._splitTextIntoLines.call(this,h),a=this._wrapText(d.lines,this.width),l=new Array(a.length),s=0;s<a.length;s++)l[s]=a[s].join("");return d.lines=l,d.graphemeLines=a,d},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var h={};for(var d in this._styleMap)this._textLines[d]&&(h[this._styleMap[d].line]=1);for(var d in this.styles)h[d]||delete this.styles[d]},toObject:function(h){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(h))}}),i.Textbox.fromObject=function(h,d){var a=i.util.stylesFromArray(h.styles,h.text),l=Object.assign({},h,{styles:a});return i.Object._fromObject("Textbox",l,d,"text")}}(e),function(){var u=t.controlsUtils,i=u.scaleSkewCursorStyleHandler,h=u.scaleCursorStyleHandler,d=u.scalingEqually,a=u.scalingYOrSkewingX,l=u.scalingXOrSkewingY,s=u.scaleOrSkewActionName,f=t.Object.prototype.controls;if(f.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:i,actionHandler:l,getActionName:s}),f.mr=new t.Control({x:.5,y:0,cursorStyleHandler:i,actionHandler:l,getActionName:s}),f.mb=new t.Control({x:0,y:.5,cursorStyleHandler:i,actionHandler:a,getActionName:s}),f.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:i,actionHandler:a,getActionName:s}),f.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:h,actionHandler:d}),f.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:h,actionHandler:d}),f.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:h,actionHandler:d}),f.br=new t.Control({x:.5,y:.5,cursorStyleHandler:h,actionHandler:d}),f.mtr=new t.Control({x:0,y:-.5,actionHandler:u.rotationWithSnapping,cursorStyleHandler:u.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var v=t.Textbox.prototype.controls={};v.mtr=f.mtr,v.tr=f.tr,v.br=f.br,v.tl=f.tl,v.bl=f.bl,v.mt=f.mt,v.mb=f.mb,v.mr=new t.Control({x:.5,y:0,actionHandler:u.changeWidth,cursorStyleHandler:i,actionName:"resizing"}),v.ml=new t.Control({x:-.5,y:0,actionHandler:u.changeWidth,cursorStyleHandler:i,actionName:"resizing"})}}()})(_f);const A8=({parts:e})=>{const t=B.useRef(null),r=B.useRef(null),n=B.useRef(null),[o]=A1(),p=B.useMemo(()=>{const i=o.get("part");return i==="total"||!i?uT:e.find(d=>d.id===+i)||e[0]},[o,e]),y=()=>{if(!r.current||!n.current)return;const{width:i,height:h}=r.current.getBoundingClientRect(),d=i/n.current.getWidth(),a=n.current.getZoom()*d;n.current.setDimensions({width:i,height:h}),n.current.setViewportTransform([a,0,0,a,0,0])};B.useEffect(()=>(n.current=new _f.fabric.StaticCanvas(t.current),y(),window.onresize=qd(y,50),()=>{var i;(i=n.current)==null||i.dispose(),window.onresize=null}),[]),B.useEffect(()=>{var i;if(p){if((i=n.current)==null||i.clear(),p.id==="total"){n.current&&(async()=>{for(const h of e)await u(h);y()})();return}u(p),y()}},[p,o,e]);function u(i){return new Promise(h=>{var l;let d="";i.properties.forEach(s=>{var f,v;if(s.type===Wt.IMAGE||s.type===Wt.COLOR){const c=o.get(s.id+""),g=c?(f=s.options)==null?void 0:f.find(m=>m.id+""===c):(v=s.options)==null?void 0:v.find(m=>m.default);g&&(d+=s.id+"="+g.id+"&")}}),d.endsWith("&")&&(d=d.substring(0,d.length-1));const a=(l=i.images)==null?void 0:l[d];if(a&&n.current){const s=new Image;s.src=a,s.onload=()=>{if(n.current){const f=new _f.fabric.Image(s,{width:s.width,height:s.height,scaleX:800/s.width,scaleY:800/s.height});n.current.add(f)}h(!0)},s.onerror=()=>h(!1)}else h(!1)})}return F.jsx("div",{ref:r,className:"w-full pt-[100%] relative",children:F.jsx("canvas",{ref:t,width:800,height:800,className:"w-full h-full absolute top-0 left-0"})})},M8=()=>{const{data:e,isLoading:t}=sT({queryFn:()=>O8(),queryKey:["product"]});return t?F.jsx("div",{className:"flex items-center justify-center w-screen h-[calc(100vh-64px)]",children:F.jsx("div",{className:"lds-hourglass"})}):e?F.jsxs("div",{className:"flex",children:[F.jsx("div",{className:"relative z-20",children:F.jsx(E8,{parts:e.parts})}),F.jsx("div",{className:"absolute top-16 w-full flex justify-center lg:static flex-1 md:pl-4",children:F.jsx("div",{className:"w-full max-w-[800px]",children:F.jsx(A8,{parts:e.parts})})})]}):null},R8=()=>F.jsx("div",{}),D8=()=>F.jsx("div",{children:"NotFoundPage"}),F8=nC([{path:"/",Component:yC},{path:"/object",Component:CC,children:[{index:!0,Component:M8},{path:"form",Component:OC},{path:"checkout",Component:_C},{path:"*",Component:D8}]},{path:"/kitchen",Component:R8}]),L8=new UC({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1}}});Kc.createRoot(document.getElementById("root")).render(F.jsx(VC,{client:L8,children:F.jsx(hC,{router:F8})}))});export default j8();
